angular.module("app",["ui.router","ui.bootstrap","userControllers","mainControllers","emailControllers","artistControllers","gallertControllers","commentControllers","boardControllers","managementControllers","uiCropper"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptors")}]);var app=angular.module("app");app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,a){t.otherwise("/"),a.hashPrefix(""),a.html5Mode(!0),e.state("app",{url:"/",views:{header:{templateUrl:"/menues/mainMenu.html",controller:"mainMenuController"},content:{templateUrl:"/main/home.html"},footer:{templateUrl:"/company/footer.html"}}}).state("management",{url:"/management",templateUrl:"/management/management.html",controller:"managementCtrl",controllerAs:"management",permission:"admin"}).state("registerStep1",{url:"/register/step1",controller:"regCtrl",controllerAs:"register",templateUrl:"/isLoggedOut/registerStep1.html",authenticated:!1}).state("registerStep2",{url:"/register/step2",controller:"regCtrl",controllerAs:"register",templateUrl:"/isLoggedOut/registerStep2.html",authenticated:!1}).state("resetusername",{url:"/resetusername",templateUrl:"/users/reset/username.html",controller:"usernameCtrl",controllerAs:"username"}).state("resetpassword",{url:"/resetpassword",templateUrl:"/users/reset/password.html",controller:"passwordCtrl",controllerAs:"password"}).state("reset",{url:"/reset/:token",templateUrl:"/users/reset/newpassword.html",controller:"resetCtrl",controllerAs:"reset"}).state("activate",{url:"/activate/:token",templateUrl:"/users/activation/activate.html",controller:"emailCtrl",controllerAs:"email"}).state("resend",{url:"/resend",templateUrl:"/users/activation/resend.html",controller:"resendCtrl",controllerAs:"resend"}).state("app.profiles",{url:"profiles",views:{"content@":{templateUrl:"isLoggedIn/userProfiles.html",controller:"profileCtrl",controllerAs:"profile",authenticated:!1}}}).state("app.photos",{url:"photos",views:{"content@":{templateUrl:"isLoggedIn/artistPhotos.html",controller:"anArtistPhotoCtrl",controllerAs:"anArtistPhoto",authenticated:!1}}}).state("app.artistProfiles",{url:"artist",views:{"content@":{templateUrl:"isLoggedIn/artistProfiles.html",controller:"artistProfileCtrl",controllerAs:"artistProfile",authenticated:!0}}}).state("app.intro",{url:"intro",views:{"content@":{templateUrl:"/company/intro.html",authenticated:!1}}}).state("app.terms",{url:"terms",views:{"content@":{templateUrl:"/company/terms.html",authenticated:!1}}}).state("app.privacy",{url:"privacy",views:{"content@":{templateUrl:"/company/privacy.html",authenticated:!1}}}).state("app.artist",{url:"artist/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.artist":{templateUrl:"/partialArtist/artistTap.html",controller:"artistTapCtrl",controllerAs:"artistTap",authenticated:!1},"contents@app.artist":{templateUrl:"/partialArtist/artists.html",controller:"artistsCtrl",controllerAs:"artists",authenticated:!1}}}).state("app.gallery",{url:"gallery/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.gallery":{templateUrl:"/partialGallery/galleryTap.html",controller:"galleryTapCtrl",controllerAs:"galleryTap"},"contents@app.gallery":{templateUrl:"/partialGallery/photos.html",controller:"galleryPhotosCtrl",controllerAs:"galleryPhotos",authenticated:!1}}}).state("app.board",{url:"board/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.board":{templateUrl:"/partialBoard/boardTap.html",controller:"boardTapCtrl",authenticated:!1},"contents@app.board":{templateUrl:"/partialBoard/boards.html",controller:"boardsCtrl",controllerAs:"boards",authenticated:!1}}}).state("app.display",{url:"display/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.display":{templateUrl:"/partialDisplay/displayTap.html",controller:"displayMenuController",authenticated:!1},"contents@app.display":{templateUrl:"/partialDisplay/content.html",controller:"displayMenuController",authenticated:!1}}}).state("app.artist.show",{url:"/artist:artist_id",views:{"contents@app.artist":{templateUrl:"/partialArtist/artist.html",controller:"artistPhotoCtrl",controllerAs:"artistPhoto",authenticated:!1}}}).state("app.gallery.show",{url:"/photo_type=:photo_type/photo:photo_id",views:{"contents@app.gallery":{templateUrl:"/partialGallery/photo.html",controller:"galleryPhotoCtrl",controllerAs:"galleryphoto"}}}).state("app.board.show",{url:"/board:board_id",views:{"contents@app.board":{templateUrl:"partialBoard/board.html",controller:"boardCtrl",controllerAs:"board"}}}).state("app.board.create",{url:"/create",views:{"contents@app.board":{templateUrl:"/partialBoard/boardCreate.html",controller:"boardCtrl",controllerAs:"board",authenticated:!0}}}).state("app.board.edit",{url:"/edit/:board_id",views:{"contents@app.board":{templateUrl:"partialBoard/boardUpdate.html",controller:"boardCtrl",controllerAs:"board",authenticated:!0}}}).state("app.gallery.edit",{url:"/edit/:photo_id",views:{"content@":{templateUrl:"/partialGallery/photoEdit.html",controller:"galleryPhotoCtrl",controllerAs:"galleryphoto"}}})}]),app.run(["$rootScope","User","$state",function(e,t,a){e.$on("$stateChangeStart",function(e,a,r,o,s,n){"admin"===a.permission&&t.getPermission().then(function(e){})}),e.$on("$stateChangeError",function(e,t,r,o,s,n){a.go("app")})}]),angular.module("commentControllers",["commentServices"]).controller("commentCtrl",["$scope","$http","$stateParams","$state","$window","Comment",function(e,t,a,r,o,s){var n=a.photo_id;this.createComment=function(t){if(e.main.user.user_id)if(t){var a={comment:t,user_id:e.main.user.user_id,photo_id:n};s.createComment(a).then(function(e){e.data.success&&r.reload()})}else o.alert("댓글을 입력해주세요.");else e.main.login()},e.deleteComment=function(e){var a=e.comment_id;t.delete("/api/comment/"+a).then(function(e){r.reload()})}}]),angular.module("app").controller("ImageCropCtrl",["$scope","$http",function(e,t){function a(e){var t=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?new Error("Invalid input string"):{type:t[1],data:t[2]}}var r=this;e.myImage="",e.myCroppedImage="";var o=function(t){var a=t.currentTarget.files[0],r=new FileReader;r.onload=function(t){e.$apply(function(e){e.myImage=t.target.result})},r.readAsDataURL(a)};angular.element(document.querySelector("#fileInput")).on("change",o),r.readCropImage=function(r){if(""===r.base64Url||null===r.base64Url||void 0===r.base64Url)console.log("이미지를 선택해주세요.");else{var o=a(e.myCroppedImage);t.post("/uploadImage",o).then(function(e){console.log(e.data)})}}}]),angular.module("managementControllers",[]).controller("managementCtrl",function(){console.log("작동 중")}),angular.module("app").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,a,r){var o=e(r.fileModel),s=o.assign;a.bind("change",function(){t.$apply(function(){s(t,a[0].files[0])})})}}}]),angular.module("app").directive("match",function(){return{restrict:"A",controller:["$scope",function(e){e.doConfirm=function(t){e.confirmed=!1,t.forEach(function(t){e.confirm==t?e.confirmed=!0:e.confirmed=!1})}}],link:function(e,t,a){a.$observe("match",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)}),e.$watch("confirm",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)})}}}),angular.module("artistServices",[]).factory("Artist",["$http",function(e){return artistFactory={},artistFactory.readArtistTap=function(){return e.get("/api/artistMenu")},artistFactory.readArtists=function(t){return e.get("/api/artistMenu/"+t)},artistFactory.readArtist=function(t){return e.get("/api/artist/"+t)},artistFactory.createAristPhoto=function(t){return e.post("/api/artistProfiles",t)},artistFactory.updateAristProfile=function(t){return e.put("/api/artistProfiles",t)},artistFactory.readArtistProfile=function(t){return e.get("/api/artistProfiles/"+t)},artistFactory.readAristPhoto=function(t){return e.get("/api/artistPhotos/"+t)},artistFactory}]),angular.module("authServices",[]).factory("Auth",["$http","AuthToken",function(e,t){var a={};return a.getUser=function(){if(t.getToken())return e.post("/api/me");$q.reject({message:"User has no token"})},a.login=function(a){return e.post("/api/authenticate",a).then(function(e){return t.setToken(e.data.token),e})},a.isLoggedIn=function(){return!!t.getToken()},a.logout=function(){t.setToken()},a}]).factory("AuthToken",["$window",function(e){var t={};return t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token",t)},t.getToken=function(){return e.localStorage.getItem("token")},t}]).factory("AuthInterceptors",["AuthToken",function(e){var t={};return t.request=function(t){var a=e.getToken();return a&&(t.headers["x-access-token"]=a),t},t}]),angular.module("boardServices",[]).factory("Board",["$http",function(e){return boardFactory={},boardFactory.readBoardTap=function(){return e.get("/api/boardMenu")},boardFactory.readBoards=function(t){return e.get("/api/boardMenu/"+t)},boardFactory.readBoard=function(t){return e.get("api/board/"+t)},boardFactory.createBoard=function(t){return e.post("/api/boardMenu",t)},boardFactory}]),angular.module("commentServices",[]).factory("Comment",["$http",function(e){return commentFactory={},commentFactory.createComment=function(t){return e.post("/api/comment",t)},commentFactory.readComment=function(t){return e.get("/api/comment/"+t)},commentFactory.readBoardComment=function(t){return e.get("/api/commentBoard/"+t)},commentFactory}]),angular.module("galleryServices",[]).factory("Gallery",["$http",function(e){return galleryFactory={},galleryFactory.readGalleryTap=function(){return e.get("/api/galleryMenu")},galleryFactory.readPhotos=function(t){return e.get("/api/galleryMenu/"+t)},galleryFactory.readPhotoData=function(t){return e.get("/api/gallery/"+t)},galleryFactory.readMorePhoto=function(t){return e.get("/api/galleryMenu/"+t)},galleryFactory}]),angular.module("userServices",[]).factory("User",["$http",function(e){return userFactory={},userFactory.getPermission=function(){return e.get("/api/permission")},userFactory.create=function(t){return e.post("/api/users",t)},userFactory.activeAccount=function(t){return e.put("/api/activate/"+t)},userFactory.checkCredentials=function(t){return e.post("/api/resend",t)},userFactory.resendLink=function(t){return e.put("/api/resend",t)},userFactory.sendUsername=function(t){return e.get("/api/resetusername/"+t)},userFactory.sendPassword=function(t){return e.put("/api/resetpassword",t)},userFactory.resetPassword=function(t){return e.get("/api/resetpassword/"+t)},userFactory.savePassword=function(t){return e.put("/api/savepassword",t)},userFactory.renewSession=function(t){return e.get("/api/renewToken/"+t)},userFactory.resetPermission=function(t){return e.put("/api/users/",t)},userFactory.checkPermission=function(t){return e.get("/api/users/"+t)},userFactory.readProfiles=function(t){return e.get("/api/userProfiles/"+t)},userFactory.updateProfiles=function(t){return e.put("/api/userProfiles",t)},userFactory}]),angular.module("artistControllers",["userServices","artistServices"]).controller("artistTapCtrl",["$scope","Artist",function(e,t){t.readArtistTap().then(function(t){t.data.success?e.headers=t.data.result:app.errorMsg=t.data.message})}]).controller("artistsCtrl",["$stateParams","Artist",function(e,t){var a=this,r=e.code;a.data={availableOptions:[{sort:"-created",name:"최신순"}],selectedOption:{sort:"-created",name:"최신순"}},t.readArtists(r).then(function(e){e.data.success?a.artistDatas=e.data.result:a.errorMsg=e.data.message})}]).controller("uploadCtrl",["$http","$timeout","$scope","Artist","$state",function(e,t,a,r,o){var s=this;s.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"붓 글씨"},{id:"2",name:"펜 글씨"},{id:"3",name:"미분류"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.file={},this.mainPhotoChanged=function(e){if(e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var a=e[0],r=new FileReader;r.readAsDataURL(a),r.onload=function(e){t(function(){s.mainThumbnail={},s.mainThumbnail.dataUrl=e.target.result})}}else s.mainThumbnail={}},this.readPhoto=function(){s.errorMsg=!1,s.disabled=!0,a.$emit("LOAD");var t=new FormData;t.append("myfile",s.file.upload),e.post("/api/uploadTemp/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.disabled=!1,s.successMsg=e.data.message,s.mainImagePath=e.data.photo_path,s.file={}):(a.$emit("UNLOAD"),s.disabled=!1,s.errorMsg=e.data.message,s.file={})})},this.createPhoto=function(e){s.disabled=!1,s.errorMsg=!1,e?void 0===s.uploadData.title||null===s.uploadData.title||""===s.uploadData.title?s.errorMsg="작품의 제목을 입력해주세요.":void 0===s.uploadData.detail||null===s.uploadData.detail||""===s.uploadData.detail?s.errorMsg="작품의 설명을 입력해주세요.":void 0===s.mainImagePath||null===s.mainImagePath||""===s.mainImagePath?s.errorMsg="작품 이미지를 선택해주세요.":"0"===s.data.selectedOption.id?s.errorMsg="작품의 종류를 선택해주세요.":(s.uploadData=e,s.uploadData.user_id=a.main.user.user_id,s.uploadData.photo_type=s.data.selectedOption.id,s.uploadData.photo_path=s.mainImagePath,r.createAristPhoto(s.uploadData).then(function(e){e.data.success?(s.successMsg=e.data.message,s.disabled=!0,t(function(){o.reload()},2e3)):(s.errorMsg=e.data.message,s.successMsg=!1,s.disabled=!1)})):(s.errorMsg="빈칸을 모두 입력해주세요.",s.successMsg=!1)}}]).controller("artistProfileCtrl",["$timeout","Artist","$state","$scope",function(e,t,a,r){var o=this,s=r.main.user.user_id;o.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"붓 글씨"},{id:"2",name:"펜 글씨"},{id:"3",name:"미분류"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},t.readArtistProfile(s).then(function(e){e.data.success?o.artistData=e.data.result:o.errorMsg=e.data.message}),this.updateAristProfile=function(s){console.log("작동 중"),o.errorMsg=!1,s?void 0===o.artistData.short_info||null===o.artistData.short_info||""===o.artistData.short_info?o.errorMsg="한 줄 소개를 입력해주세요.":void 0===o.artistData.detail_info||null===o.artistData.detail_info||""===o.artistData.detail_info?o.errorMsg="상세 소개를 입력해주세요.":(o.artistData=s,o.artistData.user_id=r.main.user.user_id,t.updateAristProfile(o.artistData).then(function(t){t.data.success?(o.errorMsg=!1,o.successMsg=t.data.message,o.disabled=!0,e(function(){a.reload()},2e3)):o.errorMsg="올바르지 않은 값이 입력되었습니다."})):o.errorMsg="필수기재사항을 입력해주세요."}}]).controller("anArtistPhotoCtrl",["Artist","$stateParams","$scope",function(e,t,a){var r=this,o=a.main.user.user_id;e.readArtistProfile(o).then(function(e){e.data.success?r.artistData=e.data.result:r.errorMsg=e.data.message}),e.readAristPhoto(o).then(function(e){e.data.success?r.artistPhotos=e.data.result:r.errorMsg=e.data.message})}]).controller("artistPhotoCtrl",["Artist","$stateParams",function(e,t){var a=this,r=t.artist_id;e.readArtistProfile(r).then(function(e){e.data.success?a.artistData=e.data.result:a.errorMsg=e.data.message}),e.readAristPhoto(r).then(function(e){e.data.success?a.artistPhotos=e.data.result:a.errorMsg=e.data.message})}]),angular.module("boardControllers",["boardServices"]).filter("to_trusted",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]).controller("boardTapCtrl",["Board","$scope",function(e,t){e.readBoardTap().then(function(e){t.headers=e.data})}]).controller("boardsCtrl",["$stateParams","Board","$scope","$state",function(e,t,a,r){var o=this,s=e.code;o.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},t.readBoards(s).then(function(e){o.boardDatas=e.data.result}),this.createBoard=function(e){a.main.user.user_id?r.go("app.board.create"):a.main.login()}}]).controller("boardCtrl",["$stateParams","Board","$scope","$http","$state","$timeout","Comment","$window",function(e,t,a,r,o,s,n,i){function l(e){data=new FormData,data.append("file",e),console.log(e),$.ajax({url:"/uploadImage",data:data,cache:!1,type:"POST",contentType:!1,processData:!1,success:function(e){$("#summernote").summernote("insertImage",e)}})}var c=this,d=e.board_id;c.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"공지사항"},{id:"2",name:"잡학사전"},{id:"3",name:"질문사항"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},n.readBoardComment(d).then(function(e){e.data.success?c.commentData=e.data.result:c.errorMsg=e.data.message}),this.createComment=function(e){if(a.main.user.user_id)if(e){var t={comment:e,user_id:a.main.user.user_id,board_id:d};n.createComment(t).then(function(e){e.data.success&&o.reload()})}else i.alert("댓글을 입력해주세요.");else a.main.login()},$(document).ready(function(){$("#summernote").summernote({height:350,callbacks:{onImageUpload:function(e){l(e[0])}},lang:"ko-KR",placeholder:"댓글은 1,000자까지 작성할 수 있으며 주제와 무관한 댓글, 악성 댓글은 삭제될 수 있습니다."})}),this.createBoard=function(e){if(c.disabled=!0,c.errorMsg=!1,"0"===c.data.selectedOption.id)c.errorMsg="게시글의 종류를 선택해주세요",c.disabled=!1;else if(void 0===e||null===e||""===e)c.errorMsg="제목을 입력해주세요.",c.disabled=!1;else if("<p><br></p>"===$("#summernote").summernote("code")||null===$("#summernote").summernote("code")||void 0===$("#summernote").summernote("code")||""===$("#summernote").summernote("code"))c.errorMsg="내용을 입력해주세요.",c.disabled=!1;else{var r=$("#summernote").summernote("code"),n=c.data.selectedOption.id,i=e.title,l={title:i,content:r,board_type:n,user_id:a.main.user.user_id};t.createBoard(l).then(function(e){e.data.success?(c.successMsg=e.data.message,s(function(){o.go("app.board")},500)):(c.disabled=!1,c.errorMsg=e.data.message)})}},t.readBoard(d).then(function(e){e.data.success?(c.boardDatas=e.data.result,c.htmlcontent=e.data.result.content):c.errorMsg=e.data.message})}]),angular.module("gallertControllers",["galleryServices"]).controller("galleryTapCtrl",["$scope","Gallery",function(e,t){t.readGalleryTap().then(function(t){t.data.success?e.headers=t.data.result:app.errorMsg=t.data.message})}]).controller("galleryPhotosCtrl",["Gallery","$stateParams",function(e,t){var a=this,r=t.code;a.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},e.readPhotos(r).then(function(e){e.data.success?a.photoData=e.data.result:a.errorMsg=e.data.message})}]).controller("galleryPhotoCtrl",["$stateParams","Gallery","Comment","$scope","$window","$state",function(e,t,a,r,o,s){var n=this,i=e.photo_id,l=e.photo_type;r.main.user.user_id;t.readPhotoData(i).then(function(e){e.data.success?n.photoData=e.data.result:n.errorMsg=e.data.message}),t.readPhotos(l).then(function(e){e.data.success?n.photosData=e.data.result:n.errorMsg=e.data.message}),a.readComment(i).then(function(e){e.data.success?(n.commentData=e.data.result,console.log(n.commentData)):n.errorMsg=e.data.message}),this.createComment=function(e){if(r.main.user.user_id)if(e){var t={comment:e,user_id:r.main.user.user_id,photo_id:i};a.createComment(t).then(function(e){e.data.success&&s.reload()})}else o.alert("댓글을 입력해주세요.");else r.main.login()}}]),angular.module("app").controller("HomeCtrl",["$http","$scope",function(e,t){t.getContent=function(){e.get("/api/home").then(function(e){t.photos=e.data})}}]),angular.module("mainControllers",["authServices","userServices"]).controller("mainCtrl",["Auth","$timeout","$location","$state","$rootScope","$scope","$window","$interval","User","AuthToken",function(e,t,a,r,o,s,n,i,l,c){var d=this;d.loadme=!1,s.$on("LOAD",function(){s.loading=!0}),s.$on("UNLOAD",function(){s.loading=!1}),o.$on("$stateChangeStart",function(){u||u(),e.isLoggedIn()?(d.isLoggedIn=!0,e.getUser().then(function(e){d.user=e.data,l.getPermission().then(function(e){e.data.success?"admin"===e.data.permission?(d.authorized=!0,d.loadme=!0):"artist"===e.data.permission?(d.permission=!0,d.loadme=!0):(d.permission=!1,d.authorized=!1,d.loadme=!0):(d.permission=!1,d.authorized=!1,d.loadme=!0)})})):(d.user=!1,d.isLoggedIn=!1,d.loadme=!0)});var u=function(){if(e.isLoggedIn()){d.checkSession=!0;var t=i(function(){var e=n.localStorage.getItem("token");if(null===e)i.cancel(t);else{self.parseJwt=function(e){var t=e.split(".")[1],a=t.replace("-","+").replace("_","/");return JSON.parse(n.atob(a))};var a=self.parseJwt(e),r=Math.floor(Date.now()/1e3);a.exp-r<=5&&(m("expired"),i.cancel(t))}},2e3)}};u(),d.renewSession=function(){d.choiceMade=!0,l.renewSession(d.user.username).then(function(e){e.data.success?(c.setToken(e.data.token),u(),p("expired")):(d.ModalBody=e.data.message,p("expired"))})},d.endSession=function(){d.choiceMade=!0,p("expired"),t(function(){m("logout")},500)};var m=function(a){d.choiceMade=!1,d.modalHeader=void 0,d.modalBody=void 0,d.hideButton=!1,"expired"===a?(d.modalHeader="Timeout Warning",d.modalBody="Your session will expired in 5 minutes. Would you like to renew your session?",$("#myModal").modal({backdrop:"static"})):"logout"===a?(d.hideButton=!0,d.modalHeader="로그아웃",$("#myModal").modal({backdrop:"static"}),t(function(){e.logout(),d.isLoggedIn=!1,p("logout"),r.reload()},2e3)):"login"===a?$("#login").modal({backdrop:"static"}):"upload"===a&&$("#upload").modal({backdrop:"static"}),t(function(){d.choiceMade||p("logout")},4e3)},p=function(e){"expired"===e?$("#myModal").modal("hide"):"logout"===e?$("#myModal").modal("hide"):"login"===e?$("#login").modal("hide"):"upload"===e&&$("#upload").modal("hide")};this.doLogin=function(a,o){d.errorMsg=!1,d.expired=!1,d.disabled=!0,o?e.login(d.loginData).then(function(e){e.data.success?(d.disabled=!0,d.successMsg=e.data.message,t(function(){p("login"),d.loginData=null,d.isLoggedIn=!0,u(),r.reload()},2e3)):e.data.expired?(d.expired=!0,d.disabled=!0,d.errorMsg=e.data.message):(d.disabled=!1,d.errorMsg=e.data.message)}):(d.disabled=!1,d.loading=!1,d.errorMsg="올바른 정보를 입력해주세요.")},this.upload=function(){d.choiceMade=!0,!0===d.authorized||!0===d.permission?r.go("app.artistProfiles"):l.checkPermission(d.user.username).then(function(e){e.data.success?(r.go("app.artistProfiles"),d.permission=!0):m("upload")})},this.doPermission=function(){d.choiceMade=!0,d.uploadDisabled=!0,d.uploaderrorMsg=!1,l.resetPermission(d.user).then(function(e){e.data.success?(d.uploadDisabled=!0,d.uploadSuccessMsg=e.data.message,t(function(){p("upload"),r.go("app.artistProfiles")},2e3)):(d.uploadDisabled=!1,d.uploaderrorMsg="잘못된 정보가 입력되었습니다.")})},d.login=function(){d.successMsg=!1,d.errorMsg=!1,d.disabled=!1,m("login")},d.logout=function(){m("logout")},d.resend=function(){p("login"),t(function(){r.go("resend"),d.expired=!1},500)},d.resetusername=function(){p("login"),t(function(){r.go("resetusername")},500)},d.resetpassword=function(){p("login"),t(function(){r.go("resetpassword")},500)}}]),angular.module("app").controller("mainMenuController",["$http","$scope",function(e,t){e.get("/api/header").then(function(e){t.headers=e.data})}]),angular.module("emailControllers",["userServices"]).controller("emailCtrl",["$stateParams","User","$timeout","$state",function(e,t,a,r){var o=this;t.activeAccount(e.token).then(function(e){o.successMsg=!1,o.errorMsg=!1,e.data.success?(o.disabled=!0,o.successMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3)):(o.errorMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3))})}]).controller("resendCtrl",["User","$timeout","$state",function(e,t,a){app=this,this.checkCredentials=function(r){app.successMsg=!1,app.errorMsg=!1,app.disabled=!0,e.checkCredentials(this.loginData).then(function(r){r.data.success?e.resendLink(app.loginData).then(function(e){e.data.success&&(app.disabled=!0,app.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3))}):(app.disabled=!1,app.errorMsg=r.data.message)})}}]).controller("usernameCtrl",["User","$timeout","$state",function(e,t,a){var r=this;this.sendUsername=function(o,s){r.errorMsg=!1,r.disabled=!0,s?e.sendUsername(r.userData.email).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 이메일 주소가 아닙니다.")}}]).controller("passwordCtrl",["User","$timeout","$state",function(e,t,a){var r=this;r.sendPassword=function(o,s){r.errorMsg=!1,r.disabled=!0,s?e.sendPassword(r.resetData).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 아이디가 아닙니다.")}}]).controller("resetCtrl",["$stateParams","$scope","User","$timeout","$state",function(e,t,a,r,o){var s=this;s.hide=!0,a.resetPassword(e.token).then(function(e){e.data.success?(s.hide=!1,t.alert="alert alert-success",s.successMsg="새로운 비밀번호를 입력해주세요.",t.username=e.data.user[0].username):(t.alert="alert alert-danger",s.errorMsg=e.data.message)}),s.savePassword=function(e,n,i){s.errorMsg=!1,s.successMsg=!1,s.disabled=!0,s.loading=!0,n&&i?(s.regData.username=t.username,a.savePassword(s.regData).then(function(e){s.loading=!1,e.data.success?(t.alert="alert alert-success",s.successMsg=e.data.message+"...메인 화면으로 이동합니다.",r(function(){o.go("app")},2e3)):(t.alert="alert alert-danger",s.disabled=!1,s.errorMsg=e.data.message)})):(t.alert="alert alert-danger",s.loading=!1,s.disabled=!1,s.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("userControllers",["userServices"]).controller("regCtrl",["$http","$location","$timeout","User","Auth","$state",function(e,t,a,r,o,s){var n=this;this.regStep1=function(e){n.errorMsg=!1,e?e.terms&&e.privacy?(n.successMsg="약관에 성공적으로 동의하셨습니다.",n.disabled=!0,s.go("registerStep2")):(n.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다.",n.disabled=!1):n.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다."},this.regStep2=function(e,t,i){n.errorMsg=!1,n.disabled=!0,t&&i?r.create(n.regData).then(function(e){e.data.success?(n.disabled=!0,n.successMsg=e.data.message,o.login(n.regData).then(function(e){e.data.success?(n.disabled=!0,n.successMsg=e.data.message,a(function(){s.go("app")},1e3)):e.data.expired?(n.expired=!0,n.disabled=!0,n.errorMsg=e.data.message):(n.disabled=!1,n.errorMsg=e.data.message)})):(n.disabled=!1,n.errorMsg=e.data.message)}):(n.disabled=!1,n.loading=!1,n.errorMsg="올바른 정보를 입력해주세요.")}}]).controller("profileCtrl",["$scope","User","$timeout","$state","$http",function(e,t,a,r,o){var s=this,n=e.main.user.username;t.readProfiles(n).then(function(e){e.data.success?s.readData=e.data.profiles:s.errorMsg=e.data.message}),this.file={},this.photoChanged=function(e){if(e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var t=e[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){a(function(){s.thumbnail={},s.thumbnail.dataUrl=e.target.result,s.uploading=!1,s.message=!1})}}else s.thumbnail={},s.message=!1},this.updateProfileImage=function(){s.errorMsg=!1,s.disabled=!0,e.$emit("LOAD");var t=new FormData,n=e.main.user.user_id;t.append("myfile",s.file.upload),o.put("/api/uploadTemp/"+n,t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(t){t.data.success?(e.$emit("UNLOAD"),s.successMsg=t.data.message,s.file={},a(function(){r.reload()},1e3)):(e.$emit("UNLOAD"),s.disabled=!1,s.errorMsg=t.data.message,s.file={})})},this.updateProfile=function(){s.errorMsg=!1,s.disabled=!0,s.readData.user_id=e.main.user.user_id,t.updateProfiles(s.readData).then(function(e){e.data.success?(s.successMsg=e.data.message,a(function(){r.reload()},2e3)):(s.errorMsg=e.data.message,s.disabled=!1)})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsInJvdXRlLmpzIiwiY29udG9yb2xsZXJzL2NvbW1lbnRDdHJsLmpzIiwiY29udG9yb2xsZXJzL2ltYWdlQ3JvcC5qcyIsImNvbnRvcm9sbGVycy9tYW5hZ2VtZW50Q3RybC5qcyIsImRpcmVjdGl2ZXMvZmlsZU1vZGVsLmpzIiwiZGlyZWN0aXZlcy9tYXRjaFBhc3N3b3JkLmpzIiwic2VydmljZXMvYXJ0aXN0U2VydmljZXMuanMiLCJzZXJ2aWNlcy9hdXRoU2VydmljZXMuanMiLCJzZXJ2aWNlcy9ib2FyZFNlcnZpY2VzLmpzIiwic2VydmljZXMvY29tbWVudFNlcnZpY2VzLmpzIiwic2VydmljZXMvZ2FsbGVyeVNlcnZpY2VzLmpzIiwic2VydmljZXMvdXNlclNlcnZpY2VzLmpzIiwiY29udG9yb2xsZXJzL2NhdGVnb3JpZXMvYXJ0aXN0Q3RybC5qcyIsImNvbnRvcm9sbGVycy9jYXRlZ29yaWVzL2JvYXJkQ3RybC5qcyIsImNvbnRvcm9sbGVycy9jYXRlZ29yaWVzL2dhbGxlcnlDdHJsLmpzIiwiY29udG9yb2xsZXJzL2NhdGVnb3JpZXMvaG9tZUN0cmwuanMiLCJjb250b3JvbGxlcnMvbWFpbi9tYWluQ3RybC5qcyIsImNvbnRvcm9sbGVycy9tYWluL21lbnVDdHJsLmpzIiwiY29udG9yb2xsZXJzL3VzZXIvZW1haWxDdHJsLmpzIiwiY29udG9yb2xsZXJzL3VzZXIvdXNlckN0cmwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwiYXBwIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIm90aGVyd2lzZSIsImhhc2hQcmVmaXgiLCJodG1sNU1vZGUiLCJzdGF0ZSIsInVybCIsInZpZXdzIiwiaGVhZGVyIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiY29udGVudCIsImZvb3RlciIsImNvbnRyb2xsZXJBcyIsInBlcm1pc3Npb24iLCJhdXRoZW50aWNhdGVkIiwiY29udGVudEAiLCJtZW51QGFwcC5hcnRpc3QiLCJjb250ZW50c0BhcHAuYXJ0aXN0IiwibWVudUBhcHAuZ2FsbGVyeSIsImNvbnRlbnRzQGFwcC5nYWxsZXJ5IiwibWVudUBhcHAuYm9hcmQiLCJjb250ZW50c0BhcHAuYm9hcmQiLCJtZW51QGFwcC5kaXNwbGF5IiwiY29udGVudHNAYXBwLmRpc3BsYXkiLCJydW4iLCIkcm9vdFNjb3BlIiwiVXNlciIsIiRzdGF0ZSIsIiRvbiIsImV2ZW50IiwidG9TdGF0ZSIsInRvUGFyYW1zIiwiZnJvbVN0YXRlIiwiZnJvbVBhcmFtcyIsIm9wdGlvbnMiLCJnZXRQZXJtaXNzaW9uIiwidGhlbiIsImRhdGEiLCJlcnJvciIsImdvIiwiJHNjb3BlIiwiJGh0dHAiLCIkc3RhdGVQYXJhbXMiLCIkd2luZG93IiwiQ29tbWVudCIsInBob3RvX2lkIiwidGhpcyIsImNyZWF0ZUNvbW1lbnQiLCJtYWluIiwidXNlciIsInVzZXJfaWQiLCJjb21tZW50RGF0YSIsImNvbW1lbnQiLCJzdWNjZXNzIiwicmVsb2FkIiwiYWxlcnQiLCJsb2dpbiIsImRlbGV0ZUNvbW1lbnQiLCJyZXNwb25zZSIsImlkIiwiY29tbWVudF9pZCIsImRlbGV0ZSIsImRlY29kZUJhc2U2NEltYWdlIiwiZGF0YVN0cmluZyIsIm1hdGNoZXMiLCJtYXRjaCIsImxlbmd0aCIsIkVycm9yIiwidHlwZSIsIm15SW1hZ2UiLCJteUNyb3BwZWRJbWFnZSIsImhhbmRsZUZpbGVTZWxlY3QiLCJldnQiLCJmaWxlIiwiY3VycmVudFRhcmdldCIsImZpbGVzIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsIiRhcHBseSIsInRhcmdldCIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwib24iLCJyZWFkQ3JvcEltYWdlIiwiYmFzZTY0VXJsIiwidW5kZWZpbmVkIiwiY29uc29sZSIsImxvZyIsImJsb2IiLCJwb3N0IiwiZGlyZWN0aXZlIiwiJHBhcnNlIiwicmVzdHJpY3QiLCJsaW5rIiwic2NvcGUiLCJhdHRycyIsInBhcnNlZEZpbGUiLCJmaWxlTW9kZWwiLCJwYXJzZWRmaWxlU2V0dGVyIiwiYXNzaWduIiwiYmluZCIsImRvQ29uZmlybSIsInZhbHVlcyIsImNvbmZpcm1lZCIsImZvckVhY2giLCJlbGUiLCJjb25maXJtIiwiJG9ic2VydmUiLCJKU09OIiwicGFyc2UiLCIkd2F0Y2giLCJmYWN0b3J5IiwiYXJ0aXN0RmFjdG9yeSIsInJlYWRBcnRpc3RUYXAiLCJnZXQiLCJyZWFkQXJ0aXN0cyIsInVzZXJfdHlwZSIsInJlYWRBcnRpc3QiLCJhcnRpc3RfaWQiLCJjcmVhdGVBcmlzdFBob3RvIiwicGhvdG9EYXRhIiwidXBkYXRlQXJpc3RQcm9maWxlIiwiYXJ0aXN0RGF0YSIsInB1dCIsInJlYWRBcnRpc3RQcm9maWxlIiwicmVhZEFyaXN0UGhvdG8iLCJBdXRoVG9rZW4iLCJhdXRoRmFjdG9yeSIsImdldFVzZXIiLCJnZXRUb2tlbiIsIiRxIiwicmVqZWN0IiwibWVzc2FnZSIsImxvZ2luRGF0YSIsInNldFRva2VuIiwidG9rZW4iLCJpc0xvZ2dlZEluIiwibG9nb3V0IiwiYXV0aFRva2VuRmFjdG9yeSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiZ2V0SXRlbSIsImF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5IiwicmVxdWVzdCIsImhlYWRlcnMiLCJib2FyZEZhY3RvcnkiLCJyZWFkQm9hcmRUYXAiLCJyZWFkQm9hcmRzIiwiYm9hcmRfdHlwZSIsInJlYWRCb2FyZCIsImJvYXJkX2lkIiwiY3JlYXRlQm9hcmQiLCJib2FyZERhdGEiLCJjb21tZW50RmFjdG9yeSIsInJlYWRDb21tZW50IiwicmVhZEJvYXJkQ29tbWVudCIsImdhbGxlcnlGYWN0b3J5IiwicmVhZEdhbGxlcnlUYXAiLCJyZWFkUGhvdG9zIiwicGhvdG9fdHlwZSIsInJlYWRQaG90b0RhdGEiLCJyZWFkTW9yZVBob3RvIiwidXNlckZhY3RvcnkiLCJjcmVhdGUiLCJyZWdEYXRhIiwiYWN0aXZlQWNjb3VudCIsImNoZWNrQ3JlZGVudGlhbHMiLCJyZXNlbmRMaW5rIiwidXNlcm5hbWUiLCJzZW5kVXNlcm5hbWUiLCJ1c2VyRGF0YSIsInNlbmRQYXNzd29yZCIsInJlc2V0RGF0YSIsInJlc2V0UGFzc3dvcmQiLCJzYXZlUGFzc3dvcmQiLCJyZW5ld1Nlc3Npb24iLCJyZXNldFBlcm1pc3Npb24iLCJjaGVja1Blcm1pc3Npb24iLCJyZWFkUHJvZmlsZXMiLCJ1cGRhdGVQcm9maWxlcyIsInVwZGF0ZURhdGEiLCJBcnRpc3QiLCJlcnJvck1zZyIsImNvZGUiLCJhdmFpbGFibGVPcHRpb25zIiwic29ydCIsIm5hbWUiLCJzZWxlY3RlZE9wdGlvbiIsImFydGlzdERhdGFzIiwiJHRpbWVvdXQiLCJtYWluUGhvdG9DaGFuZ2VkIiwiZmlsZVJlYWRlciIsImUiLCJtYWluVGh1bWJuYWlsIiwiZGF0YVVybCIsInJlYWRQaG90byIsImRpc2FibGVkIiwiJGVtaXQiLCJmZCIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidXBsb2FkIiwidHJhbnNmb3JtUmVxdWVzdCIsImlkZW50aXR5IiwiQ29udGVudC1UeXBlIiwic3VjY2Vzc01zZyIsIm1haW5JbWFnZVBhdGgiLCJwaG90b19wYXRoIiwiY3JlYXRlUGhvdG8iLCJ1cGxvYWREYXRhIiwidGl0bGUiLCJkZXRhaWwiLCJzaG9ydF9pbmZvIiwiZGV0YWlsX2luZm8iLCJhcnRpc3RQaG90b3MiLCJmaWx0ZXIiLCIkc2NlIiwidGV4dCIsInRydXN0QXNIdG1sIiwiQm9hcmQiLCJib2FyZERhdGFzIiwic2VuZEZpbGUiLCIkIiwiYWpheCIsImNhY2hlIiwiY29udGVudFR5cGUiLCJwcm9jZXNzRGF0YSIsInN1bW1lcm5vdGUiLCJyZWFkeSIsImhlaWdodCIsImNhbGxiYWNrcyIsIm9uSW1hZ2VVcGxvYWQiLCJsYW5nIiwicGxhY2Vob2xkZXIiLCJodG1sY29udGVudCIsIkdhbGxlcnkiLCJwaG90b3NEYXRhIiwiZ2V0Q29udGVudCIsInBob3RvcyIsIkF1dGgiLCIkbG9jYXRpb24iLCIkaW50ZXJ2YWwiLCJsb2FkbWUiLCJsb2FkaW5nIiwiY2hlY2tTZXNzaW9uIiwiYXV0aG9yaXplZCIsImludGVydmFsIiwiY2FuY2VsIiwic2VsZiIsInBhcnNlSnd0Iiwic3BsaXQiLCJiYXNlNjQiLCJyZXBsYWNlIiwiYXRvYiIsImV4cGlyZVRpbWUiLCJ0aW1lU3RhbXAiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwiZXhwIiwic2hvd01vZGFsIiwiY2hvaWNlTWFkZSIsImhpZGVNb2RhbCIsIk1vZGFsQm9keSIsImVuZFNlc3Npb24iLCJvcHRpb24iLCJtb2RhbEhlYWRlciIsIm1vZGFsQm9keSIsImhpZGVCdXR0b24iLCJtb2RhbCIsImJhY2tkcm9wIiwiZG9Mb2dpbiIsInZhbGlkIiwiZXhwaXJlZCIsImRvUGVybWlzc2lvbiIsInVwbG9hZERpc2FibGVkIiwidXBsb2FkZXJyb3JNc2ciLCJ1cGxvYWRTdWNjZXNzTXNnIiwicmVzZW5kIiwicmVzZXR1c2VybmFtZSIsInJlc2V0cGFzc3dvcmQiLCJlbWFpbCIsImhpZGUiLCJyZWdTdGVwMSIsInJlZ1N0ZXAyIiwicmVhZERhdGEiLCJwcm9maWxlcyIsInBob3RvQ2hhbmdlZCIsInRodW1ibmFpbCIsInVwbG9hZGluZyIsInVwZGF0ZVByb2ZpbGVJbWFnZSIsInVwZGF0ZVByb2ZpbGUiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLE9BQ0EsWUFDQSxlQUNBLGtCQUNBLGtCQUNBLG1CQUNBLG9CQUNBLHFCQUNBLHFCQUNBLG1CQUNBLHdCQUNBLGNBQ0FDLFFBQUEsZ0JBQUEsU0FBQUMsR0FDQUEsRUFBQUMsYUFBQUMsS0FBQSxzQkNiQSxJQUFBQyxLQUFBTixRQUFBQyxPQUFBLE1BQ0FLLEtBQUFKLFFBQUEsaUJBQUEscUJBQUEsb0JBQUEsU0FBQUssRUFBQUMsRUFBQUMsR0FD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LEVBQUFBLEtBQUFtRyxRQUNBM0ksRUFBQTRFLFFBQ0F5SCxFQUFBLFdBQ0F2SyxFQUFBMkIsVUFDQSxPQUVBZCxFQUFBa0ssTUFBQSxVQUNBN00sRUFBQTRNLFVBQUEsRUFDQTVNLEVBQUE4TCxTQUFBdEosRUFBQUEsS0FBQW1HLFFBQ0EzSSxFQUFBNEUsWUFNQTNCLEtBQUEyUCxjQUFBLFdBQ0E1UyxFQUFBOEwsVUFBQSxFQUNBOUwsRUFBQTRNLFVBQUEsRUFDQTVNLEVBQUFzUyxTQUFBalAsUUFBQVYsRUFBQVEsS0FBQUMsS0FBQUMsUUFDQXhCLEVBQUE4SixlQUFBM0wsRUFBQXNTLFVBQUEvUCxLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUFnQixTQUNBeEQsRUFBQXFOLFdBQUE3SyxFQUFBQSxLQUFBbUcsUUFDQTBELEVBQUEsV0FDQXZLLEVBQUEyQixVQUNBLE9BRUF6RCxFQUFBOEwsU0FBQXRKLEVBQUFBLEtBQUFtRyxRQUNBM0ksRUFBQTRNLFVBQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ2FwcCcsW1xyXG4gICAgJ3VpLnJvdXRlcicsXHJcbiAgICAndWkuYm9vdHN0cmFwJyxcclxuICAgICd1c2VyQ29udHJvbGxlcnMnLFxyXG4gICAgJ21haW5Db250cm9sbGVycycsXHJcbiAgICAnZW1haWxDb250cm9sbGVycycsXHJcbiAgICAnYXJ0aXN0Q29udHJvbGxlcnMnLFxyXG4gICAgJ2dhbGxlcnRDb250cm9sbGVycycsXHJcbiAgICAnY29tbWVudENvbnRyb2xsZXJzJyxcclxuICAgICdib2FyZENvbnRyb2xsZXJzJyxcclxuICAgICdtYW5hZ2VtZW50Q29udHJvbGxlcnMnLFxyXG4gICAgJ3VpQ3JvcHBlcidcclxuXSkuY29uZmlnKGZ1bmN0aW9uKCRodHRwUHJvdmlkZXIpe1xyXG4gICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ0F1dGhJbnRlcmNlcHRvcnMnKTtcclxufSk7XHJcbiIsInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcbmFwcC5jb25maWcoZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XHJcbiR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcbi8vICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuJGxvY2F0aW9uUHJvdmlkZXIuaGFzaFByZWZpeCgnJyk7IC8vIGJ5IGRlZmF1bHQgJyEnXHJcbiRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuXHJcbiAkc3RhdGVQcm92aWRlclxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwJywge1xyXG4gICAgICAgICAgICAgdXJsOiAnLycsXHJcbiAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICdoZWFkZXInOiB7XHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21lbnVlcy9tYWluTWVudS5odG1sJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5NZW51Q29udHJvbGxlcidcclxuICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiB7XHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21haW4vaG9tZS5odG1sJ1xyXG4gICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAnZm9vdGVyJzoge1xyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jb21wYW55L2Zvb3Rlci5odG1sJ1xyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ21hbmFnZW1lbnQnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOicvbWFuYWdlbWVudCcsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9tYW5hZ2VtZW50Lmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYW5hZ2VtZW50Q3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnbWFuYWdlbWVudCcsXHJcbiAgICAgICAgICAgICAgcGVybWlzc2lvbjogJ2FkbWluJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZWdpc3RlclN0ZXAxJyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyL3N0ZXAxJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlZ0N0cmwnLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWdpc3RlcicsXHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2lzTG9nZ2VkT3V0L3JlZ2lzdGVyU3RlcDEuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3JlZ2lzdGVyU3RlcDInLFxyXG4gICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB1cmw6ICcvcmVnaXN0ZXIvc3RlcDInLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVnQ3RybCcsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlZ2lzdGVyJyxcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvaXNMb2dnZWRPdXQvcmVnaXN0ZXJTdGVwMi5odG1sJyxcclxuICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncmVzZXR1c2VybmFtZScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZXR1c2VybmFtZScsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVzZXQvdXNlcm5hbWUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJuYW1lQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndXNlcm5hbWUnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Jlc2V0cGFzc3dvcmQnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Jlc2V0cGFzc3dvcmQnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3Jlc2V0L3Bhc3N3b3JkLmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwYXNzd29yZEN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Bhc3N3b3JkJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZXNldCcsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZXQvOnRva2VuJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9yZXNldC9uZXdwYXNzd29yZC5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVzZXRDdHJsJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZXNldCdcclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FjdGl2YXRlJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJy9hY3RpdmF0ZS86dG9rZW4nLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL2FjdGl2YXRpb24vYWN0aXZhdGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2VtYWlsQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZW1haWwnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Jlc2VuZCcsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZW5kJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9hY3RpdmF0aW9uL3Jlc2VuZC5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVzZW5kQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVzZW5kJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcblxyXG4gIC8vIOycoOyggCDtlITroZztlYQg66qo7JWEIOuGk+ydgCDqs7MgIC8g6rOE7KCVIOygleuztFxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwLnByb2ZpbGVzJywge1xyXG4gICAgICAgICAgICAgdXJsOiAncHJvZmlsZXMnLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2lzTG9nZ2VkSW4vdXNlclByb2ZpbGVzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Byb2ZpbGVDdHJsJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Byb2ZpbGUnLFxyXG4gICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuLy8g7J6R6rCAIOyeke2SiCDrqqjslYQg64aT7J2AIOqzs1xyXG4gICAgICAgICAgLnN0YXRlKCdhcHAucGhvdG9zJywge1xyXG4gICAgICAgICAgICB1cmw6ICdwaG90b3MnLFxyXG4gICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdpc0xvZ2dlZEluL2FydGlzdFBob3Rvcy5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhbkFydGlzdFBob3RvQ3RybCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhbkFydGlzdFBob3RvJyxcclxuICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfSlcclxuXHJcbi8vIOuTseuhneuQnCDsnpHqsIDsnZgg7J6R7ZKIIOyXheuhnOuTnCAmIOyekeqwgCDtlITroZztlYRcclxuICAgICAgICAgICAuc3RhdGUoJ2FwcC5hcnRpc3RQcm9maWxlcycsIHtcclxuICAgICAgICAgICAgIHVybDogJ2FydGlzdCcsXHJcbiAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaXNMb2dnZWRJbi9hcnRpc3RQcm9maWxlcy5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhcnRpc3RQcm9maWxlQ3RybCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhcnRpc3RQcm9maWxlJyxcclxuICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWVcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuaW50cm8nLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnaW50cm8nLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS9pbnRyby5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC50ZXJtcycsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICd0ZXJtcycsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jb21wYW55L3Rlcm1zLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLnByaXZhY3knLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAncHJpdmFjeScsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jb21wYW55L3ByaXZhY3kuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PSAgYXJ0aXN0IC8gZ2FsbGVyeSAvIGV4aGliaXRpb24gLyBib2FyZCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXHJcbi8vID09PT09PT09PT09PT09PT09PSAgYXJ0aXN0IOy5tO2FjOqzoOumrCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5hcnRpc3QnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnYXJ0aXN0L2NhdGVnb3J5PTpjb2RlJyxcclxuICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21haW4vZm9ybS5odG1sJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICdtZW51QGFwcC5hcnRpc3QnOntcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEFydGlzdC9hcnRpc3RUYXAuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhcnRpc3RUYXBDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYXJ0aXN0VGFwJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLmFydGlzdCc6e1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsQXJ0aXN0L2FydGlzdHMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhcnRpc3RzQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2FydGlzdHMnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgLnN0YXRlKCdhcHAuZ2FsbGVyeScsIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnZ2FsbGVyeS9jYXRlZ29yeT06Y29kZScsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2Zvcm0uaHRtbCdcclxuICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICdtZW51QGFwcC5nYWxsZXJ5Jzp7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsR2FsbGVyeS9nYWxsZXJ5VGFwLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dhbGxlcnlUYXBDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dhbGxlcnlUYXAnXHJcbiAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLmdhbGxlcnknOntcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxHYWxsZXJ5L3Bob3Rvcy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdnYWxsZXJ5UGhvdG9zQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnYWxsZXJ5UGhvdG9zJyxcclxuICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgLnN0YXRlKCdhcHAuYm9hcmQnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdib2FyZC9jYXRlZ29yeT06Y29kZScsXHJcbiAgICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2Zvcm0uaHRtbCdcclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgJ21lbnVAYXBwLmJvYXJkJzp7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEJvYXJkL2JvYXJkVGFwLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdib2FyZFRhcEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAuYm9hcmQnOntcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsQm9hcmQvYm9hcmRzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdib2FyZHNDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdib2FyZHMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAuc3RhdGUoJ2FwcC5kaXNwbGF5Jywge1xyXG4gICAgICAgICAgICAgICB1cmw6ICdkaXNwbGF5L2NhdGVnb3J5PTpjb2RlJyxcclxuICAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21haW4vZm9ybS5odG1sJ1xyXG4gICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgJ21lbnVAYXBwLmRpc3BsYXknOntcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxEaXNwbGF5L2Rpc3BsYXlUYXAuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZGlzcGxheU1lbnVDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLmRpc3BsYXknOntcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxEaXNwbGF5L2NvbnRlbnQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZGlzcGxheU1lbnVDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAuc3RhdGUoJ2FwcC5hcnRpc3Quc2hvdycsIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL2FydGlzdDphcnRpc3RfaWQnLFxyXG4gICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5hcnRpc3QnOntcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxBcnRpc3QvYXJ0aXN0Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2FydGlzdFBob3RvQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhcnRpc3RQaG90bycsXHJcbiAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwLmdhbGxlcnkuc2hvdycsIHtcclxuICAgICAgICAgICAgIHVybDogJy9waG90b190eXBlPTpwaG90b190eXBlL3Bob3RvOnBob3RvX2lkJyxcclxuICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5nYWxsZXJ5Jzp7XHJcbiAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEdhbGxlcnkvcGhvdG8uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dhbGxlcnlQaG90b0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dhbGxlcnlwaG90bycsXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgLnN0YXRlKCdhcHAuYm9hcmQuc2hvdycsXHJcbiAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgdXJsOiAnL2JvYXJkOmJvYXJkX2lkJyxcclxuICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5ib2FyZCc6e1xyXG4gICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbEJvYXJkL2JvYXJkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdib2FyZEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2JvYXJkJyxcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuYm9hcmQuY3JlYXRlJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDonL2NyZWF0ZScsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5ib2FyZCc6e1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDonL3BhcnRpYWxCb2FyZC9ib2FyZENyZWF0ZS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2JvYXJkQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2JvYXJkJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwLmJvYXJkLmVkaXQnLFxyXG4gICAgICAgICAgIHtcclxuICAgICAgICAgICAgIHVybDogJy9lZGl0Lzpib2FyZF9pZCcsXHJcbiAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAuYm9hcmQnOntcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFsQm9hcmQvYm9hcmRVcGRhdGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdib2FyZEN0cmwnLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdib2FyZCcsXHJcbiAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWVcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pXG5cbiAgICAgICAgIC5zdGF0ZSgnYXBwLmdhbGxlcnkuZWRpdCcsIHtcbiAgICAgICAgICAgdXJsOiAnL2VkaXQvOnBob3RvX2lkJyxcbiAgICAgICAgICAgdmlld3M6e1xuICAgICAgICAgICAgICdjb250ZW50QCc6e1xuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEdhbGxlcnkvcGhvdG9FZGl0Lmh0bWwnLFxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dhbGxlcnlQaG90b0N0cmwnLFxuICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZ2FsbGVyeXBob3RvJyxcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgIH1cbiAgICAgICAgIH0pO1xuXHJcbn0pO1xuXG5hcHAucnVuKGZ1bmN0aW9uKCRyb290U2NvcGUsIFVzZXIsICRzdGF0ZSl7XG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsICBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgb3B0aW9ucyl7XG4gICAgaWYodG9TdGF0ZS5wZXJtaXNzaW9uID09PSAnYWRtaW4nKXtcbiAgICAgIFVzZXIuZ2V0UGVybWlzc2lvbigpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgIH1cbiAgfSk7XG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsICBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgZXJyb3Ipe1xuICAgICRzdGF0ZS5nbygnYXBwJyk7XG4gIH0pO1xufSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnY29tbWVudENvbnRyb2xsZXJzJyxbJ2NvbW1lbnRTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignY29tbWVudEN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsICR3aW5kb3csIENvbW1lbnQpIHtcclxuICAvLyBpZOyXkCDtlbTri7ntlZjripQg6rCS7J2EIOuztOyXrOyjvOuKlCDtlajsiJhcclxuICAvLyDqsJLsnYQg6rCA7KC47Jik64qUIO2VqOyImFxyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHZhciBwaG90b19pZCA9ICRzdGF0ZVBhcmFtcy5waG90b19pZDtcclxuXHJcbiAgLy8g7L2U66mY7Yq4IOyDneyEse2VmOq4sFxyXG4gIC8vIOyekeuPmeydtCDtlYTsmpTtlZjrqbQg7JWE7J2065SU656RIOuMk+q4gCDrgrTsmqkg6re466as6rOgIHBob3RvX2lkXHJcbiAgICB0aGlzLmNyZWF0ZUNvbW1lbnQgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoISRzY29wZS5tYWluLnVzZXIudXNlcl9pZCl7XHJcbiAgICAgICAgJHNjb3BlLm1haW4ubG9naW4oKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZighZGF0YSl7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KCfrjJPquIDsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YXIgY29tbWVudERhdGEgPSB7XHJcbiAgICAgICAgICAgIGNvbW1lbnQgOiBkYXRhLFxyXG4gICAgICAgICAgICB1c2VyX2lkIDogJHNjb3BlLm1haW4udXNlci51c2VyX2lkLFxyXG4gICAgICAgICAgICBwaG90b19pZCA6IHBob3RvX2lkXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIENvbW1lbnQuY3JlYXRlQ29tbWVudChjb21tZW50RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG59O1xyXG5cclxuICAgICAgLy8gaWYodmFsaWQpe1xyXG4gICAgICAvLyAgIENvbW1lbnQuY3JlYXRlQ29tbWVudChhcHAucmVzcG9uc2UpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIC8vXHJcbiAgICAgIC8vXHJcbiAgICAgIC8vICAgfSk7XHJcbiAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgIC8vICAgYXBwLmVycm9yTXNnID0gJyc7XHJcbiAgICAgIC8vIH1cclxuICAgICAgLy8gaWYodmFsaWQpe1xyXG4gICAgICAvLyAgIHZhciBib2FyZF9pZCA9IHJlc3BvbnNlLmJvYXJkX2lkO1xyXG4gICAgICAvLyAgIHZhciBwaG90b19pZCA9IHJlc3BvbnNlLnBob3RvX2lkO1xyXG4gICAgICAvLyAgIHZhciBjb21tZW50ICA9IHJlc3BvbnNlLmNvbW1lbnQ7XHJcbiAgICAgIC8vICAgICRodHRwLnBvc3QoJy9hcGkvY29tbWVudCcsIHtcclxuICAgICAgLy8gICAgICBib2FyZF9pZDogYm9hcmRfaWQsIHBob3RvX2lkOiBwaG90b19pZCwgY29tbWVudDogY29tbWVudFxyXG4gICAgICAvLyAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgLy8gICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgIC8vICAgIH0pO1xyXG4gICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAvLyAgICR3aW5kb3cuYWxlcnQoXCLrjJPquIDsnYQg7J6F66Cl7ZW07KO87IS47JqULlwiKTtcclxuICAgICAgLy8gfVxyXG5cclxuXHJcblxyXG4gICAgLy8gdmFyIGFwcCA9IHRoaXM7XHJcbiAgICAvLyB2YXIgdXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuICAgIC8vXHJcbiAgICAvLyAgIEFydGlzdC5yZWFkQXJ0aXN0UHJvZmlsZSh1c2VyX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgLy8gICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgIC8vICAgICAgIGFwcC5hcnRpc3REYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICB9KTtcclxuICAgIC8vXHJcbiAgICAvL1xyXG4gICAgLy9cclxuICAgIC8vIHZhciBib2FyZF9pZCA9ICRzdGF0ZVBhcmFtcy5ib2FyZF9pZDtcclxuICAgIC8vIHZhciBpZCA9IFwiXCI7XHJcbiAgICAvL1xyXG4gICAgLy8gdmFyIGRhdGEgPSB7XHJcbiAgICAvLyAgIHBob3RvX2lkOnBob3RvX2lkLFxyXG4gICAgLy8gICBib2FyZF9pZDpib2FyZF9pZFxyXG4gICAgLy8gfTtcclxuICAgIC8vXHJcbiAgICAvLyB2YXIgY29uZmlnID0ge1xyXG4gICAgLy8gICBwYXJhbXM6IGRhdGEsXHJcbiAgICAvLyAgIGhlYWRlcnMgOiB7J0FjY2VwdCcgOiAnYXBwbGljYXRpb24vanNvbid9XHJcbiAgICAvLyB9O1xyXG4gICAgLy9cclxuICAgIC8vIGlmKHBob3RvX2lkKXtcclxuICAgIC8vICAgaWQgPSBwaG90b19pZDtcclxuICAgIC8vICAgJGh0dHAuZ2V0KCcvYXBpL2NvbW1lbnQvJytpZCwgY29uZmlnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgIC8vICAgICAkc2NvcGUuY29tbWVudHMgPSByZXNwb25zZS5kYXRhWzBdO1xyXG4gICAgLy8gICB9KTtcclxuICAgIC8vIH1cclxuICAgIC8vIGVsc2UgaWYoYm9hcmRfaWQpe1xyXG4gICAgLy8gICBpZCA9IGJvYXJkX2lkO1xyXG4gICAgLy8gICAkaHR0cC5nZXQoJy9hcGkvY29tbWVudC8nK2lkLCBjb25maWcpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgLy8gICAgICRzY29wZS5jb21tZW50cyA9IHJlc3BvbnNlLmRhdGFbMF07XHJcbiAgICAvLyAgIH0pO1xyXG4gICAgLy8gfSBlbHNlIHtcclxuICAgIC8vICAgICAkc2NvcGUuY29tbWVudHMgPSAn7Iuc7Iqk7YWc7J20IOu2iOyViOygle2VqeuLiOuLpC4nO1xyXG4gICAgLy8gfVxyXG4gIC8vIC8vIOy9lOupmO2KuCDsg53shLHtlZjquLBcclxuICAvLyAgICRzY29wZS5hZGRDb21tZW50ID0gZnVuY3Rpb24ocmVzcG9uc2UsIHZhbGlkKXtcclxuICAvLyAgICAgaWYodmFsaWQpe1xyXG4gIC8vICAgICAgIHZhciBib2FyZF9pZCA9IHJlc3BvbnNlLmJvYXJkX2lkO1xyXG4gIC8vICAgICAgIHZhciBwaG90b19pZCA9IHJlc3BvbnNlLnBob3RvX2lkO1xyXG4gIC8vICAgICAgIHZhciBjb21tZW50ICA9IHJlc3BvbnNlLmNvbW1lbnQ7XHJcbiAgLy8gICAgICAgICRodHRwLnBvc3QoJy9hcGkvY29tbWVudCcsIHtcclxuICAvLyAgICAgICAgICBib2FyZF9pZDogYm9hcmRfaWQsIHBob3RvX2lkOiBwaG90b19pZCwgY29tbWVudDogY29tbWVudFxyXG4gIC8vICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAvLyAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgLy8gICAgICAgIH0pO1xyXG4gIC8vICAgICB9IGVsc2Uge1xyXG4gIC8vICAgICAgICR3aW5kb3cuYWxlcnQoXCLrjJPquIDsnYQg7J6F66Cl7ZW07KO87IS47JqULlwiKTtcclxuICAvLyAgICAgfVxyXG4gIC8vXHJcbiAgLy8gICB9O1xyXG5cclxuXHJcbiAgLy8g6rCS7J2EIOyCreygnO2VmOuKlCDtlajsiJhcclxuICAkc2NvcGUuZGVsZXRlQ29tbWVudCA9IGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgIHZhciBpZCA9IHJlc3BvbnNlLmNvbW1lbnRfaWQ7XHJcbiAgXHQkaHR0cC5kZWxldGUoJy9hcGkvY29tbWVudC8nK2lkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gIFx0fSk7XHJcbiAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gIC5jb250cm9sbGVyKCdJbWFnZUNyb3BDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCkge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICAkc2NvcGUubXlJbWFnZT0nJztcclxuICAgICRzY29wZS5teUNyb3BwZWRJbWFnZT0nJztcclxuXHJcbiAgICB2YXIgaGFuZGxlRmlsZVNlbGVjdD1mdW5jdGlvbihldnQpIHtcclxuICAgICAgdmFyIGZpbGU9ZXZ0LmN1cnJlbnRUYXJnZXQuZmlsZXNbMF07XHJcbiAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oJHNjb3BlKXtcclxuICAgICAgICAgICRzY29wZS5teUltYWdlPWV2dC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgIH07XHJcbiAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsZUlucHV0JykpLm9uKCdjaGFuZ2UnLGhhbmRsZUZpbGVTZWxlY3QpO1xuXG4gICAgICBmdW5jdGlvbiBkZWNvZGVCYXNlNjRJbWFnZShkYXRhU3RyaW5nKSB7XHJcbiAgICAgICAgdmFyIG1hdGNoZXMgPSBkYXRhU3RyaW5nLm1hdGNoKC9eZGF0YTooW0EtWmEtei0rXFwvXSspO2Jhc2U2NCwoLispJC8pO1xyXG5cclxuICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGggIT09IDMpIHtcclxuICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgaW5wdXQgc3RyaW5nJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhciBmaWxlID0ge1xyXG4gICAgICAgICAgICB0eXBlIDogbWF0Y2hlc1sxXSxcclxuICAgICAgICAgICAgZGF0YSA6IG1hdGNoZXNbMl1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICByZXR1cm4gZmlsZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFwcC5yZWFkQ3JvcEltYWdlID0gZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgIGlmKGRhdGEuYmFzZTY0VXJsID09PSAnJyB8fCBkYXRhLmJhc2U2NFVybCA9PT0gbnVsbCB8fCBkYXRhLmJhc2U2NFVybCA9PT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICBjb25zb2xlLmxvZygn7J2066+47KeA66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgYmxvYiA9IGRlY29kZUJhc2U2NEltYWdlKCRzY29wZS5teUNyb3BwZWRJbWFnZSk7XG4gICAgICAgICAgJGh0dHAucG9zdCgnL3VwbG9hZEltYWdlJywgYmxvYikudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxyXG5cclxuICAgICAgICAvLyBzZW5kRmlsZSgkc2NvcGUubXlDcm9wcGVkSW1hZ2UpO1xyXG4gICAgICB9O1xuXG5cblxuXHJcblxyXG4gICAgICAvLyBmdW5jdGlvbiBzZW5kRmlsZShmaWxlKSB7XHJcbiAgICAgIC8vICAgICAgICAgZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAvLyAgICAgICAgIGRhdGEuYXBwZW5kKFwiZmlsZVwiLCBmaWxlKTtcclxuICAgICAgLy8gICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAvLyAgICAgICAgICAgICB1cmw6ICcvdXBsb2FkSW1hZ2UnLFxyXG4gICAgICAvLyAgICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAvLyAgICAgICAgICAgICBjYWNoZTogZmFsc2UsXHJcbiAgICAgIC8vICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAvLyAgICAgICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXHJcbiAgICAgIC8vICAgICAgICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcclxuICAgICAgLy8gICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24odXJsKSB7XHJcbiAgICAgIC8vICAgICAgICAgICAgICAgICAkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoJ2luc2VydEltYWdlJywgdXJsKTtcclxuICAgICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgICAvLyAgICAgICAgIH0pO1xyXG4gICAgICAvLyAgICAgfVxyXG5cclxuXHJcbiAgfSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdtYW5hZ2VtZW50Q29udHJvbGxlcnMnLCBbXSlcclxuLmNvbnRyb2xsZXIoJ21hbmFnZW1lbnRDdHJsJywgZnVuY3Rpb24oKXtcclxuICBjb25zb2xlLmxvZygn7J6R64+ZIOykkScpO1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5kaXJlY3RpdmUoJ2ZpbGVNb2RlbCcsZnVuY3Rpb24oJHBhcnNlKXtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XHJcbiAgICAgIHZhciBwYXJzZWRGaWxlID0gJHBhcnNlKGF0dHJzLmZpbGVNb2RlbCk7XHJcbiAgICAgIHZhciBwYXJzZWRmaWxlU2V0dGVyID0gcGFyc2VkRmlsZS5hc3NpZ247XHJcblxyXG4gICAgICBlbGVtZW50LmJpbmQoJ2NoYW5nZScsZnVuY3Rpb24oKXtcclxuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtcclxuICAgICAgICAgIHBhcnNlZGZpbGVTZXR0ZXIoc2NvcGUsIGVsZW1lbnRbMF0uZmlsZXNbMF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5kaXJlY3RpdmUoJ21hdGNoJyxmdW5jdGlvbigpe1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgY29udHJvbGxlcjpmdW5jdGlvbigkc2NvcGUpe1xyXG4gICAgICAkc2NvcGUuZG9Db25maXJtID0gZnVuY3Rpb24odmFsdWVzKXtcclxuXHJcbiAgICAgICAgJHNjb3BlLmNvbmZpcm1lZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGVsZSl7XHJcbiAgICAgICAgICBpZigkc2NvcGUuY29uZmlybSA9PSBlbGUpe1xyXG4gICAgICAgICAgICAkc2NvcGUuY29uZmlybWVkID0gdHJ1ZTtcclxuICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLmNvbmZpcm1lZCA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfSxcclxuXHJcbiAgICBsaW5rOmZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XHJcbiAgICAgIGF0dHJzLiRvYnNlcnZlKCdtYXRjaCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2NvcGUubWF0Y2hlcyA9IEpTT04ucGFyc2UoYXR0cnMubWF0Y2gpO1xyXG4gICAgICAgIHNjb3BlLmRvQ29uZmlybShzY29wZS5tYXRjaGVzKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBzY29wZS4kd2F0Y2goJ2NvbmZpcm0nLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHNjb3BlLm1hdGNoZXMgPSBKU09OLnBhcnNlKGF0dHJzLm1hdGNoKTtcclxuICAgICAgICBzY29wZS5kb0NvbmZpcm0oc2NvcGUubWF0Y2hlcyk7XHJcblxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FydGlzdFNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ0FydGlzdCcsIGZ1bmN0aW9uKCRodHRwKXtcclxuICBhcnRpc3RGYWN0b3J5ID0ge307XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09IEFydGlzdCBDYXRlZ29yeSA9PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy9cclxuICBhcnRpc3RGYWN0b3J5LnJlYWRBcnRpc3RUYXAgPSBmdW5jdGlvbigpe1xyXG4gICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYXJ0aXN0TWVudScpO1xyXG4gIH07XHJcblxyXG4gIGFydGlzdEZhY3RvcnkucmVhZEFydGlzdHMgPSBmdW5jdGlvbih1c2VyX3R5cGUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9hcnRpc3RNZW51LycrdXNlcl90eXBlKTtcclxuICB9O1xyXG5cclxuICBhcnRpc3RGYWN0b3J5LnJlYWRBcnRpc3QgPSBmdW5jdGlvbihhcnRpc3RfaWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9hcnRpc3QvJythcnRpc3RfaWQpO1xyXG4gIH07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG5cclxuLy8gQXJ0aXN0LmNyZWF0ZVBob3RvKHBob3RvRGF0YSlcclxuICBhcnRpc3RGYWN0b3J5LmNyZWF0ZUFyaXN0UGhvdG8gPSBmdW5jdGlvbihwaG90b0RhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvYXJ0aXN0UHJvZmlsZXMnLCBwaG90b0RhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBBcnRpc3QudXBkYXRlQXJpc3RJbmZvKGFydGlzdERhdGEpXHJcbiAgYXJ0aXN0RmFjdG9yeS51cGRhdGVBcmlzdFByb2ZpbGUgPSBmdW5jdGlvbihhcnRpc3REYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvYXJ0aXN0UHJvZmlsZXMnLCBhcnRpc3REYXRhKTtcclxuICB9O1xyXG5cclxuLy8gQXJ0aXN0LnJlYWRBcnRpc3RQcm9maWxlKHVzZXJfaWQpXHJcbiAgYXJ0aXN0RmFjdG9yeS5yZWFkQXJ0aXN0UHJvZmlsZSA9IGZ1bmN0aW9uKGFydGlzdF9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2FydGlzdFByb2ZpbGVzLycrYXJ0aXN0X2lkKTtcclxuICB9O1xyXG5cclxuLy9cclxuICBhcnRpc3RGYWN0b3J5LnJlYWRBcmlzdFBob3RvID0gZnVuY3Rpb24oYXJ0aXN0X2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYXJ0aXN0UGhvdG9zLycrYXJ0aXN0X2lkKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gYXJ0aXN0RmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhdXRoU2VydmljZXMnLFtdKVxyXG5cclxuLmZhY3RvcnkoJ0F1dGgnLCBmdW5jdGlvbigkaHR0cCwgQXV0aFRva2VuKXtcclxuICAgIHZhciBhdXRoRmFjdG9yeSA9IHt9O1xyXG4vLyBBdXRoLmdldFVzZXIoKTtcclxuICAgIGF1dGhGYWN0b3J5LmdldFVzZXIgPSBmdW5jdGlvbigpe1xyXG4gICAgICBpZihBdXRoVG9rZW4uZ2V0VG9rZW4oKSl7XHJcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbWUnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkcS5yZWplY3Qoe21lc3NhZ2U6J1VzZXIgaGFzIG5vIHRva2VuJ30pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuLy8gQXV0aC5sb2dpbihsb2dpbkRhdGEpO1xyXG4gICAgYXV0aEZhY3RvcnkubG9naW4gPSBmdW5jdGlvbihsb2dpbkRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9hdXRoZW50aWNhdGUnLCBsb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgQXV0aFRva2VuLnNldFRva2VuKGRhdGEuZGF0YS50b2tlbik7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbi8vIEF1dGguaXNMb2dnZWRJbigpO1xyXG4gICAgYXV0aEZhY3RvcnkuaXNMb2dnZWRJbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGlmKEF1dGhUb2tlbi5nZXRUb2tlbigpKXtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4vLyBBdXRoLmxvZ291dCgpO1xyXG4gICAgYXV0aEZhY3RvcnkubG9nb3V0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgQXV0aFRva2VuLnNldFRva2VuKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGF1dGhGYWN0b3J5O1xyXG59KVxyXG5cclxuLmZhY3RvcnkoJ0F1dGhUb2tlbicsIGZ1bmN0aW9uKCR3aW5kb3cpe1xyXG4gIHZhciBhdXRoVG9rZW5GYWN0b3J5ID0ge307XHJcblxyXG4gIC8vIEF1dGhUb2tlbi5zZXRUb2tlbih0b2tlbik7XHJcbiAgYXV0aFRva2VuRmFjdG9yeS5zZXRUb2tlbiA9IGZ1bmN0aW9uKHRva2VuKXtcclxuICAgIGlmKHRva2VuKXtcclxuICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7XHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJywgdG9rZW4pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4vLyBBdXRoVG9rZW4uZ2V0VG9rZW4oKTtcclxuICBhdXRoVG9rZW5GYWN0b3J5LmdldFRva2VuID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpO1xyXG4gIH07XHJcbiAgcmV0dXJuIGF1dGhUb2tlbkZhY3Rvcnk7XHJcbn0pXHJcblxyXG4uZmFjdG9yeSgnQXV0aEludGVyY2VwdG9ycycsIGZ1bmN0aW9uKEF1dGhUb2tlbil7XHJcbiAgdmFyIGF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5ID0ge307XHJcblxyXG4gIGF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5LnJlcXVlc3QgPSBmdW5jdGlvbihjb25maWcpe1xyXG4gICAgdmFyIHRva2VuID0gQXV0aFRva2VuLmdldFRva2VuKCk7XHJcblxyXG4gICAgaWYodG9rZW4pIGNvbmZpZy5oZWFkZXJzWyd4LWFjY2Vzcy10b2tlbiddID0gdG9rZW47XHJcblxyXG4gICAgcmV0dXJuIGNvbmZpZztcclxuICB9O1xyXG4gIHJldHVybiBhdXRoSW50ZXJjZXB0b3JzRmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdib2FyZFNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ0JvYXJkJywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIGJvYXJkRmFjdG9yeSA9IHt9O1xyXG5cclxuICBib2FyZEZhY3RvcnkucmVhZEJvYXJkVGFwID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYm9hcmRNZW51Jyk7XHJcbiAgfTtcclxuXHJcbiAgYm9hcmRGYWN0b3J5LnJlYWRCb2FyZHMgPSBmdW5jdGlvbihib2FyZF90eXBlKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYm9hcmRNZW51LycrYm9hcmRfdHlwZSk7XHJcbiAgfTtcclxuXHJcbiAgYm9hcmRGYWN0b3J5LnJlYWRCb2FyZCA9IGZ1bmN0aW9uKGJvYXJkX2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJ2FwaS9ib2FyZC8nK2JvYXJkX2lkKTtcclxuICB9O1xyXG5cclxuICBib2FyZEZhY3RvcnkuY3JlYXRlQm9hcmQgPSBmdW5jdGlvbihib2FyZERhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvYm9hcmRNZW51Jyxib2FyZERhdGEpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBib2FyZEZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnY29tbWVudFNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ0NvbW1lbnQnLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgY29tbWVudEZhY3RvcnkgPSB7fTtcclxuXHJcbi8vIEdhbGxlcnkucmVhZFBob3RvRGF0YSh1c2VyX2lkKVxyXG4gIGNvbW1lbnRGYWN0b3J5LmNyZWF0ZUNvbW1lbnQgPSBmdW5jdGlvbihjb21tZW50RGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jb21tZW50Jyxjb21tZW50RGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgY29tbWVudEZhY3RvcnkucmVhZENvbW1lbnQgPSBmdW5jdGlvbihwaG90b19pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbW1lbnQvJytwaG90b19pZCk7XHJcbiAgfTtcclxuXHJcbiAgY29tbWVudEZhY3RvcnkucmVhZEJvYXJkQ29tbWVudCA9IGZ1bmN0aW9uKGJvYXJkX2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29tbWVudEJvYXJkLycrYm9hcmRfaWQpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBjb21tZW50RmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdnYWxsZXJ5U2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnR2FsbGVyeScsIGZ1bmN0aW9uKCRodHRwKXtcclxuICBnYWxsZXJ5RmFjdG9yeSA9IHt9O1xyXG5cclxuLy8gR2FsbGVyeS5yZWFkR2FsbGVyeVRhcCgpXHJcbiAgZ2FsbGVyeUZhY3RvcnkucmVhZEdhbGxlcnlUYXAgPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICAkaHR0cC5nZXQoJy9hcGkvZ2FsbGVyeU1lbnUnKTtcclxuICB9O1xyXG5cclxuLy8gR2FsbGVyeS5yZWFkUGhvdG9zKHBob3RvX3R5cGUpO1xyXG4gIGdhbGxlcnlGYWN0b3J5LnJlYWRQaG90b3MgPSBmdW5jdGlvbihwaG90b190eXBlKXtcclxuICAgIHJldHVybiAgJGh0dHAuZ2V0KCcvYXBpL2dhbGxlcnlNZW51LycrcGhvdG9fdHlwZSk7XHJcblxyXG4gIH07XHJcbi8vIEdhbGxlcnkucmVhZFBob3RvRGF0YSh1c2VyX2lkKVxyXG4gIGdhbGxlcnlGYWN0b3J5LnJlYWRQaG90b0RhdGEgPSBmdW5jdGlvbihwaG90b19pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2dhbGxlcnkvJytwaG90b19pZCk7XHJcbiAgfTtcclxuXHJcbiAgZ2FsbGVyeUZhY3RvcnkucmVhZE1vcmVQaG90byA9IGZ1bmN0aW9uKHBob3RvX3R5cGUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9nYWxsZXJ5TWVudS8nKyBwaG90b190eXBlKTtcclxuICB9O1xyXG5cclxuXHJcbiAgcmV0dXJuIGdhbGxlcnlGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3VzZXJTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdVc2VyJywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIHVzZXJGYWN0b3J5ID0ge307XHJcblxyXG4gIHVzZXJGYWN0b3J5LmdldFBlcm1pc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9wZXJtaXNzaW9uJyk7XHJcbiAgfTtcclxuLy8gVXNlci5jcmVhdGUocmVnRGF0YSlcclxuICB1c2VyRmFjdG9yeS5jcmVhdGUgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzJywgcmVnRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuYWN0aXZlQWNjb3VudCh0b2tlbik7XHJcbiAgdXNlckZhY3RvcnkuYWN0aXZlQWNjb3VudCA9IGZ1bmN0aW9uKHRva2VuKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvYWN0aXZhdGUvJyt0b2tlbik7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuY2hlY2tDcmVkZW50aWFscyhsb2dpbkRhdGEpO1xyXG4gIHVzZXJGYWN0b3J5LmNoZWNrQ3JlZGVudGlhbHMgPSBmdW5jdGlvbihsb2dpbkRhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvcmVzZW5kJywgbG9naW5EYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5yZXNlbmRMaW5rKHVzZXJuYW1lKVxyXG4gIHVzZXJGYWN0b3J5LnJlc2VuZExpbmsgPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3Jlc2VuZCcsIHVzZXJuYW1lKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5zZW5kVXNlcm5hbWUodXNlckRhdGEpO1xyXG4gIHVzZXJGYWN0b3J5LnNlbmRVc2VybmFtZSA9IGZ1bmN0aW9uKHVzZXJEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcmVzZXR1c2VybmFtZS8nK3VzZXJEYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5zZW5kUGFzc3dvcmQocmVzZXREYXRhKTtcclxuICB1c2VyRmFjdG9yeS5zZW5kUGFzc3dvcmQgPSBmdW5jdGlvbihyZXNldERhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9yZXNldHBhc3N3b3JkJywgcmVzZXREYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5yZXNldFBhc3N3b3JkKHRva2VuKTtcclxuICB1c2VyRmFjdG9yeS5yZXNldFBhc3N3b3JkID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9yZXNldHBhc3N3b3JkLycrdG9rZW4pO1xyXG4gIH07XHJcblxyXG5cclxuLy8gVXNlci5zYXZlUGFzc3dvcmQocmVnRGF0YSlcclxuICB1c2VyRmFjdG9yeS5zYXZlUGFzc3dvcmQgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvc2F2ZXBhc3N3b3JkJywgcmVnRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vICBVc2VyLnJlbmV3U2Vzc2lvbih1c2VybmFtZSlcclxuICB1c2VyRmFjdG9yeS5yZW5ld1Nlc3Npb24gPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3JlbmV3VG9rZW4vJysgdXNlcm5hbWUpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLnJlc2V0UGVybWlzc2lvbih1c2VyRGF0YSlcclxuICB1c2VyRmFjdG9yeS5yZXNldFBlcm1pc3Npb24gPSBmdW5jdGlvbih1c2VyRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3VzZXJzLycsIHVzZXJEYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5jaGVja1Blcm1pc3Npb24odXNlckRhdGEpXHJcbiAgdXNlckZhY3RvcnkuY2hlY2tQZXJtaXNzaW9uID0gZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy8nK3VzZXJuYW1lKTtcclxuICB9O1xyXG5cclxuXHJcbi8vIHJlc2V0IC8gY2hlY2sgLyByZW5ldyAvIHNhdmUgLyBzZW5kIC8vIHJlc2VuZFxyXG5cclxuLy8gQ3JlYXRlIC8vIHJlYWQgLy8gdXBkYXRlIC8vIGRlbGV0ZSAvL1xyXG5cclxuLy8gVXNlci5yZWFkUHJvZmlsZXModXNlcm5hbWUpXHJcbiAgdXNlckZhY3RvcnkucmVhZFByb2ZpbGVzID0gZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2VyUHJvZmlsZXMvJyt1c2VybmFtZSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIudXBkYXRlUHJvZmlsZXModXBkYXRlRGF0YSlcclxuICB1c2VyRmFjdG9yeS51cGRhdGVQcm9maWxlcyA9IGZ1bmN0aW9uKHVwZGF0ZURhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS91c2VyUHJvZmlsZXMnLCB1cGRhdGVEYXRhKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gdXNlckZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXJ0aXN0Q29udHJvbGxlcnMnLFsndXNlclNlcnZpY2VzJywgJ2FydGlzdFNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdhcnRpc3RUYXBDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBBcnRpc3Qpe1xyXG4gIC8vIOyghOyytCDrqZTribQg6rCA7KC47Jik6riwXHJcbiAgQXJ0aXN0LnJlYWRBcnRpc3RUYXAoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAkc2NvcGUuaGVhZGVycyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdhcnRpc3RzQ3RybCcsIGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMsIEFydGlzdCkge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICB2YXIgdXNlcl90eXBlID0gJHN0YXRlUGFyYW1zLmNvZGU7XHJcblxyXG4gICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfVxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246ICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgfTtcclxuXHJcbiAgICBBcnRpc3QucmVhZEFydGlzdHModXNlcl90eXBlKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLmFydGlzdERhdGFzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigndXBsb2FkQ3RybCcsIGZ1bmN0aW9uICgkaHR0cCwgJHRpbWVvdXQsICRzY29wZSwgQXJ0aXN0LCAkc3RhdGUpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICAgIGFwcC5kYXRhID0ge1xyXG4gICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgIHtpZDogJzEnLCBuYW1lOiAn67aTIOq4gOyUqCd9LFxyXG4gICAgICAge2lkOiAnMicsIG5hbWU6ICftjpwg6riA7JSoJ30sXHJcbiAgICAgICB7aWQ6ICczJywgbmFtZTogJ+uvuOu2hOulmCd9XHJcbiAgICAgXSxcclxuICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgfTtcclxuICAgIC8vIO2MjOydvOydmCDqsr3roZzrp4wg7KCA7J6l7ZWY6riwXHJcbiAgICB0aGlzLmZpbGUgPSB7fTtcclxuXHJcbiAgICB0aGlzLm1haW5QaG90b0NoYW5nZWQgPSBmdW5jdGlvbihmaWxlcykge1xyXG4gICAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA+IDAgJiYgZmlsZXNbMF0ubmFtZS5tYXRjaCgvXFwuKHBuZ3xqcGVnfGpwZykkLykpIHtcclxuICAgICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdO1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLm1haW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsLmRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgdGhpcy5yZWFkUGhvdG8gPSBmdW5jdGlvbigpe1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICBmZC5hcHBlbmQoJ215ZmlsZScsIGFwcC5maWxlLnVwbG9hZCk7XHJcbiAgICAgICAgJGh0dHAucG9zdCgnL2FwaS91cGxvYWRUZW1wLycsIGZkLHtcclxuICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG4gICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkfVxyXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICBhcHAubWFpbkltYWdlUGF0aCA9IGRhdGEuZGF0YS5waG90b19wYXRoO1xyXG4gICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbi8vIOyekeqwgCDsnpHtkogg7JeF66Gc65OcXHJcbiAgICAgIHRoaXMuY3JlYXRlUGhvdG8gPSBmdW5jdGlvbih1cGxvYWREYXRhKXtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICBpZighdXBsb2FkRGF0YSl7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn67mI7Lm47J2EIOuqqOuRkCDsnoXroKXtlbTso7zshLjsmpQuJztcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmKGFwcC51cGxvYWREYXRhLnRpdGxlID09PSB1bmRlZmluZWQgfHwgYXBwLnVwbG9hZERhdGEudGl0bGUgPT09IG51bGwgfHwgYXBwLnVwbG9hZERhdGEudGl0bGUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsnpHtkojsnZgg7KCc66qp7J2EIOyeheugpe2VtOyjvOyEuOyalC4nO1xyXG4gICAgICAgICAgfSBlbHNlIGlmKGFwcC51cGxvYWREYXRhLmRldGFpbCA9PT0gdW5kZWZpbmVkIHx8IGFwcC51cGxvYWREYXRhLmRldGFpbCA9PT0gbnVsbCB8fCBhcHAudXBsb2FkRGF0YS5kZXRhaWwgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsnpHtkojsnZgg7ISk66qF7J2EIOyeheugpe2VtOyjvOyEuOyalC4nO1xyXG4gICAgICAgICAgfSBlbHNlIGlmKGFwcC5tYWluSW1hZ2VQYXRoID09PSB1bmRlZmluZWQgfHwgYXBwLm1haW5JbWFnZVBhdGggPT09ICBudWxsIHx8IGFwcC5tYWluSW1hZ2VQYXRoID09PSAnJyl7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsnpHtkogg7J2066+47KeA66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nO1xyXG4gICAgICAgICAgfSBlbHNlIGlmKGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkID09PSAnMCcpe1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7J6R7ZKI7J2YIOyiheulmOulvCDshKDtg53tlbTso7zshLjsmpQuJztcclxuICAgICAgICAgIH0gZWxzZSB7XG5cclxuICAgICAgICAgICAgYXBwLnVwbG9hZERhdGEgPSB1cGxvYWREYXRhO1xyXG4gICAgICAgICAgICBhcHAudXBsb2FkRGF0YS51c2VyX2lkID0gJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xyXG4gICAgICAgICAgICBhcHAudXBsb2FkRGF0YS5waG90b190eXBlID0gYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQ7XHJcbiAgICAgICAgICAgIGFwcC51cGxvYWREYXRhLnBob3RvX3BhdGggPSBhcHAubWFpbkltYWdlUGF0aDtcclxuXHJcbiAgICAgICAgICAgIEFydGlzdC5jcmVhdGVBcmlzdFBob3RvKGFwcC51cGxvYWREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuXHJcblxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignYXJ0aXN0UHJvZmlsZUN0cmwnLCBmdW5jdGlvbiAoJHRpbWVvdXQsIEFydGlzdCwgJHN0YXRlLCAkc2NvcGUpIHtcclxuXHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuICAgIHZhciB1c2VyX2lkID0gJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xyXG5cclxuICAgIGFwcC5kYXRhID0ge1xyXG4gICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgIHtpZDogJzEnLCBuYW1lOiAn67aTIOq4gOyUqCd9LFxyXG4gICAgICAge2lkOiAnMicsIG5hbWU6ICftjpwg6riA7JSoJ30sXHJcbiAgICAgICB7aWQ6ICczJywgbmFtZTogJ+uvuOu2hOulmCd9XHJcbiAgICAgXSxcclxuICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgfTtcclxuXHJcblxyXG4gICAgIEFydGlzdC5yZWFkQXJ0aXN0UHJvZmlsZSh1c2VyX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICBhcHAuYXJ0aXN0RGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgIH1cclxuICAgICB9KTtcclxuXHJcblxyXG4gIC8vIOyekeqwgCDtlITroZztlYQg7IOd7ISxXHJcbiAgICAgIHRoaXMudXBkYXRlQXJpc3RQcm9maWxlID0gZnVuY3Rpb24oYXJ0aXN0RGF0YSl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi7J6R64+ZIOykkVwiKTtcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XG4gICAgICAgIGlmKCFhcnRpc3REYXRhKXtcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7ZWE7IiY6riw7J6s7IKs7ZWt7J2EIOyeheugpe2VtOyjvOyEuOyalC4nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmKGFwcC5hcnRpc3REYXRhLnNob3J0X2luZm8gPT09IHVuZGVmaW5lZCB8fCBhcHAuYXJ0aXN0RGF0YS5zaG9ydF9pbmZvID09PSBudWxsIHx8IGFwcC5hcnRpc3REYXRhLnNob3J0X2luZm8gPT09ICcnKSB7XG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7ZWcIOykhCDshozqsJzrpbwg7J6F66Cl7ZW07KO87IS47JqULic7XG4gICAgICAgICAgfSBlbHNlIGlmKGFwcC5hcnRpc3REYXRhLmRldGFpbF9pbmZvID09PSB1bmRlZmluZWQgfHwgYXBwLmFydGlzdERhdGEuZGV0YWlsX2luZm8gPT09IG51bGwgfHwgYXBwLmFydGlzdERhdGEuZGV0YWlsX2luZm8gPT09ICcnKSB7XG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7IOB7IS4IOyGjOqwnOulvCDsnoXroKXtlbTso7zshLjsmpQuJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXBwLmFydGlzdERhdGEgPSBhcnRpc3REYXRhO1xuICAgICAgICAgICAgYXBwLmFydGlzdERhdGEudXNlcl9pZCA9ICAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XG4gICAgICAgICAgICAvLyBhcHAuYXJ0aXN0RGF0YS51c2VyX3R5cGUgPSAgYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQ7XG5cbiAgICAgICAgICAgIEFydGlzdC51cGRhdGVBcmlzdFByb2ZpbGUoYXBwLmFydGlzdERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcbiAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xuICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOultOyngCDslYrsnYAg6rCS7J20IOyeheugpeuQmOyXiOyKteuLiOuLpC4nO1xuXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xyXG5cclxufSlcclxuXHJcbi8vIOyekeqwgCDsnpDsi6DsnZgg7ZSE66Gc7ZWEXHJcbi5jb250cm9sbGVyKCdhbkFydGlzdFBob3RvQ3RybCcsIGZ1bmN0aW9uIChBcnRpc3QsICRzdGF0ZVBhcmFtcywgICRzY29wZSkge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICB2YXIgdXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuXHJcbiAgICAgIEFydGlzdC5yZWFkQXJ0aXN0UHJvZmlsZSh1c2VyX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5hcnRpc3REYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIEFydGlzdC5yZWFkQXJpc3RQaG90byh1c2VyX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5hcnRpc3RQaG90b3MgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG59KVxyXG5cclxuXHJcbi8vIOyXrOufrCDsnpHqsIDrk6TsnZgg7ZSE66Gc7ZWEXHJcbi5jb250cm9sbGVyKCdhcnRpc3RQaG90b0N0cmwnLCBmdW5jdGlvbiAoQXJ0aXN0LCAkc3RhdGVQYXJhbXMpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgdmFyIGFydGlzdF9pZCA9ICRzdGF0ZVBhcmFtcy5hcnRpc3RfaWQ7XHJcblxyXG4gICAgICBBcnRpc3QucmVhZEFydGlzdFByb2ZpbGUoYXJ0aXN0X2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5hcnRpc3REYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIEFydGlzdC5yZWFkQXJpc3RQaG90byhhcnRpc3RfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLmFydGlzdFBob3RvcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYm9hcmRDb250cm9sbGVycycsWydib2FyZFNlcnZpY2VzJ10pXG4uZmlsdGVyKCd0b190cnVzdGVkJywgWyckc2NlJywgZnVuY3Rpb24oJHNjZSl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24odGV4dCkge1xyXG4gICAgICAgIHJldHVybiAkc2NlLnRydXN0QXNIdG1sKHRleHQpO1xyXG4gICAgfTtcclxufV0pXG5cclxuLmNvbnRyb2xsZXIoJ2JvYXJkVGFwQ3RybCcsIGZ1bmN0aW9uKEJvYXJkLCAkc2NvcGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIEJvYXJkLnJlYWRCb2FyZFRhcCgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAkc2NvcGUuaGVhZGVycyA9IGRhdGEuZGF0YTtcclxuICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdib2FyZHNDdHJsJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBCb2FyZCwgJHNjb3BlLCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHZhciBib2FyZF90eXBlID0gJHN0YXRlUGFyYW1zLmNvZGU7XHJcblxyXG4gIGFwcC5kYXRhID0ge1xyXG4gICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfSxcclxuICAgICB7c29ydDogJy12aWV3JywgbmFtZTogJ+yhsO2ajOyInCd9LFxyXG4gICAgIHtzb3J0OiAnLWNvbW1lbnRfY291bnQnLCBuYW1lOifrjJPquIDsiJwnfVxyXG4gICBdLFxyXG4gICBzZWxlY3RlZE9wdGlvbjogIHtzb3J0OiAnLWNyZWF0ZWQnLCBuYW1lOiAn7LWc7Iug7IicJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgfTtcclxuXHJcbiAgIEJvYXJkLnJlYWRCb2FyZHMoYm9hcmRfdHlwZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICBhcHAuYm9hcmREYXRhcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgIH0pO1xyXG5cclxuICAgdGhpcy5jcmVhdGVCb2FyZCA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgaWYoISRzY29wZS5tYWluLnVzZXIudXNlcl9pZCl7XHJcbiAgICAgICAgICRzY29wZS5tYWluLmxvZ2luKCk7XHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAkc3RhdGUuZ28oXCJhcHAuYm9hcmQuY3JlYXRlXCIpO1xyXG4gICAgICAgfVxyXG4gIH07XHJcblxyXG5cclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdib2FyZEN0cmwnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIEJvYXJkLCAkc2NvcGUsICRodHRwLCAkc3RhdGUsICR0aW1lb3V0LCBDb21tZW50LCAkd2luZG93KXtcclxuICAgIC8vIOuztOuTnCDslYTsnbTrlJQg7KCE7IahXHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuICAgIHZhciBib2FyZF9pZCA9ICRzdGF0ZVBhcmFtcy5ib2FyZF9pZDtcclxuXHJcbiAgICBhcHAuZGF0YSA9IHtcclxuICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICB7aWQ6ICcxJywgbmFtZTogJ+qzteyngOyCrO2VrSd9LFxyXG4gICAgICAge2lkOiAnMicsIG5hbWU6ICfsnqHtlZnsgqzsoIQnfSxcclxuICAgICAgIHtpZDogJzMnLCBuYW1lOiAn7KeI66y47IKs7ZWtJ31cclxuICAgICBdLFxyXG4gICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICB9O1xyXG5cclxuICAgIENvbW1lbnQucmVhZEJvYXJkQ29tbWVudChib2FyZF9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5jb21tZW50RGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICB0aGlzLmNyZWF0ZUNvbW1lbnQgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgaWYoISRzY29wZS5tYWluLnVzZXIudXNlcl9pZCl7XHJcbiAgICAgICAgICAgJHNjb3BlLm1haW4ubG9naW4oKTtcclxuICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICBpZighZGF0YSl7XHJcbiAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfrjJPquIDsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICB2YXIgY29tbWVudERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgIGNvbW1lbnQgOiBkYXRhLFxyXG4gICAgICAgICAgICAgICB1c2VyX2lkIDogJHNjb3BlLm1haW4udXNlci51c2VyX2lkLFxyXG4gICAgICAgICAgICAgICBib2FyZF9pZCA6IGJvYXJkX2lkXHJcbiAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgIENvbW1lbnQuY3JlYXRlQ29tbWVudChjb21tZW50RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoe1xyXG4gICAgICAgIGhlaWdodCA6IDM1MCxcclxuICAgICAgICBjYWxsYmFja3M6IHtcclxuICAgICAgICAgICAgb25JbWFnZVVwbG9hZDogZnVuY3Rpb24oZmlsZXMpIHtcclxuICAgICAgICAgICAgICAgIHNlbmRGaWxlKGZpbGVzWzBdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGFuZyA6ICdrby1LUicsXHJcbiAgICAgICAgcGxhY2Vob2xkZXI6ICfrjJPquIDsnYAgMSwwMDDsnpDquYzsp4Ag7J6R7ISx7ZWgIOyImCDsnojsnLzrqbAg7KO87KCc7JmAIOustOq0gO2VnCDrjJPquIAsIOyVheyEsSDrjJPquIDsnYAg7IKt7KCc65CgIOyImCDsnojsirXri4jri6QuJyxcclxuXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBzZW5kRmlsZShmaWxlKSB7XHJcbiAgICAgICAgICAgIGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgZGF0YS5hcHBlbmQoXCJmaWxlXCIsIGZpbGUpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhmaWxlKTtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHVybDogJy91cGxvYWRJbWFnZScsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbih1cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoJ2luc2VydEltYWdlJywgdXJsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIHRoaXMuY3JlYXRlQm9hcmQgPSBmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgIGlmKGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkID09PSAnMCcpe1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+qyjOyLnOq4gOydmCDsooXrpZjrpbwg7ISg7YOd7ZW07KO87IS47JqUJztcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSBpZihyZXNwb25zZSA9PT0gdW5kZWZpbmVkIHx8IHJlc3BvbnNlID09PSBudWxsIHx8IHJlc3BvbnNlID09PSAnJyl7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7KCc66qp7J2EIOyeheugpe2VtOyjvOyEuOyalC4nO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIGlmKCQoJyNzdW1tZXJub3RlJykuc3VtbWVybm90ZSgnY29kZScpID09PSAnPHA+PGJyPjwvcD4nIHx8ICQoJyNzdW1tZXJub3RlJykuc3VtbWVybm90ZSgnY29kZScpID09PSBudWxsIHx8ICQoJyNzdW1tZXJub3RlJykuc3VtbWVybm90ZSgnY29kZScpID09PSB1bmRlZmluZWQgfHwgJCgnI3N1bW1lcm5vdGUnKS5zdW1tZXJub3RlKCdjb2RlJykgPT09ICcnKSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn64K07Jqp7J2EIOyeheugpe2VtOyjvOyEuOyalC4nO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhciBjb250ZW50ID0gJCgnI3N1bW1lcm5vdGUnKS5zdW1tZXJub3RlKCdjb2RlJyk7XHJcbiAgICAgICAgICB2YXIgYm9hcmRfdHlwZSA9IGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkO1xyXG4gICAgICAgICAgdmFyIHRpdGxlID0gcmVzcG9uc2UudGl0bGU7XHJcbiAgICAgICAgICB2YXIgYm9hcmREYXRhID0ge1xyXG4gICAgICAgICAgICB0aXRsZSA6IHRpdGxlLFxyXG4gICAgICAgICAgICBjb250ZW50IDogY29udGVudCxcclxuICAgICAgICAgICAgYm9hcmRfdHlwZSA6IGJvYXJkX3R5cGUsXHJcbiAgICAgICAgICAgIHVzZXJfaWQgOiAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWRcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICBCb2FyZC5jcmVhdGVCb2FyZChib2FyZERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcC5ib2FyZCcpO1xyXG4gICAgICAgICAgICAgIH0sNTAwKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIEJvYXJkLnJlYWRCb2FyZChib2FyZF9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuLy8g7Jik66WY66W8IOyeoeyVhOyVvO2VmOuKlOuNsCDslrTrlqTsi53snLzroZwg7J6h7JWE7JW87ZWY7KeAP1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLmJvYXJkRGF0YXMgPSBkYXRhLmRhdGEucmVzdWx0O1xuICAgICAgICBhcHAuaHRtbGNvbnRlbnQgPSBkYXRhLmRhdGEucmVzdWx0LmNvbnRlbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuLy9cclxuLy8gICAkc2NvcGUuZGF0YSA9IHtcclxuLy8gICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4vLyAgICAgIHtpZDogJy0xJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbi8vICAgICAge2lkOiAnMCcsIG5hbWU6ICfqs7Xsp4Dsgqztla0nfSxcclxuLy8gICAgICB7aWQ6ICcxJywgbmFtZTogJ+2VmeybkC/tmY3rs7QnfSxcclxuLy8gICAgICB7aWQ6ICcyJywgbmFtZTogJ+uqqOyehC/siqTthLDrlJQnfVxyXG4vLyAgICBdLFxyXG4vLyAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnLTEnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4vLyAgICB9O1xyXG4vL1xyXG4vLyAgIC8vIGlk7JeQIO2VtOuLue2VmOuKlCDqsJLsnYQg67O07Jes7KO864qUIO2VqOyImFxyXG4vLyAgICRzY29wZS51c2VyQXJ0aWNsZSA9IGZhbHNlO1xyXG4vL1xyXG4vLyAvLyDqsJLsnYQg7KCA7J6l7ZWY64qUIO2VqOyImFxyXG4vLyAgICRzY29wZS5hZGRCb2FyZCA9IGZ1bmN0aW9uKHRpdGxlLCBjb250ZW50KXtcclxuLy8gLy8gZW1wbG95ZXNzIOygnOuMgOuhnCDrj5nsnpHtlZjripTsp4Ag7ZmV7J24IO2VhOyalFxyXG4vLyAgICAgICB2YXIgYm9hcmRfdHlwZSA9ICRzY29wZS5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkO1xyXG4vLyAgICAgICAkaHR0cC5wb3N0KCdhcGkvYm9hcmRNZW51JyxcclxuLy8gICAgICAgeyB0aXRsZTp0aXRsZSwgY29udGVudDogY29udGVudCwgYm9hcmRfdHlwZTogYm9hcmRfdHlwZX0pXHJcbi8vICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsgICAgICAgICAgLy8g7KCV7IOBIOyekeuPme2VmOyYgOyKteuLiOuLpC5cclxuLy8gICAgICAgfSk7XHJcbi8vICAgfTtcclxuLy9cclxuLy8gXHQkc2NvcGUuc2hvd0JvYXJkID0gZnVuY3Rpb24oKXtcclxuLy8gICAvLyDrs7Trk5wg7JWE7J2065SUIOyghOyGoVxyXG4vLyAgIHZhciBpZCA9ICRzdGF0ZVBhcmFtcy5ib2FyZF9pZDtcclxuLy8gICAgICRodHRwLmdldCgnYXBpL2JvYXJkLycraWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4vLyAvLyDsgqzsmqnsnpDqsIAg7J6R7ISx7ZWcIOqyjOyLnOusvOyeheuLiOuLpC5cclxuLy8gICAgIGlmKHJlc3BvbnNlLmRhdGFbMV0uc3VjY2Vzcyl7XHJcbi8vICAgICAgICRzY29wZS51c2VyQXJ0aWNsZSA9IHRydWU7XHJcbi8vICAgICAgICRzY29wZS5ib2FyZCA9IHJlc3BvbnNlLmRhdGFbMF1bMF07XHJcbi8vICAgICB9XHJcbi8vIC8vIOyCrOyaqeyekOqwgCDsnpHshLHtlZwg6rKM7Iuc66y87J20IOyVhOuLmeuLiOuLpC5cclxuLy8gICAgIGVsc2Uge1xyXG4vLyAgICAgICAkc2NvcGUudXNlckFydGljbGUgPSBmYWxzZTtcclxuLy8gICAgICAgJHNjb3BlLmJvYXJkID0gcmVzcG9uc2UuZGF0YVswXVswXTtcclxuLy8gICAgIH1cclxuLy8gICB9KTtcclxuLy8gfTtcclxuLy9cclxuLy9cclxuLy8gICAvLyDqsJLsnYQg7IKt7KCc7ZWY64qUIO2VqOyImFxyXG4vLyBcdCRzY29wZS5kZWxldGVCb2FyZCA9IGZ1bmN0aW9uKCl7XHJcbi8vICAgICB2YXIgaWQgPSAkc3RhdGVQYXJhbXMuYm9hcmRfaWQ7XHJcbi8vIFx0XHQkaHR0cC5kZWxldGUoJ2FwaS9ib2FyZC8nK2lkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuLy8gICAgICAgICAkbG9jYXRpb24ucGF0aCgnYXBwLmJvYXJkLmNhdGVnb3J5KHtjb2RlOiAwfSknKTtcclxuLy8gXHRcdH0pO1xyXG4vLyBcdH07XHJcbi8vXHJcbi8vICAgXHQvLyDqsJLsnYQg7IiY7KCV7ZWY64qUIO2VqOyImFxyXG4vLyAgIFx0JHNjb3BlLnVwZGF0ZUJvYXJkID0gZnVuY3Rpb24oKXtcclxuLy8gICBcdFx0dmFyIGlkID0gJHN0YXRlUGFyYW1zLmJvYXJkX2lkO1xyXG4vLyAgIFx0XHQkaHR0cC5wdXQoJ2FwaS9ib2FyZC8nK2lkICwgJHNjb3BlLmJvYXJkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuLy8gICBcdFx0XHQkc2NvcGUuYm9hcmQgPSByZXNwb25zZS5kYXRhO1xyXG4vLyAgICAgICAgICRsb2NhdGlvbi5wYXRoKCdib2FyZCcpO1xyXG4vLyAgIFx0XHR9KTtcclxuLy8gICBcdH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnZ2FsbGVydENvbnRyb2xsZXJzJyxbJ2dhbGxlcnlTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignZ2FsbGVyeVRhcEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIEdhbGxlcnkpe1xyXG4gIC8vIOyghOyytCDrqZTribQg6rCA7KC47Jik6riwXHJcbiAgR2FsbGVyeS5yZWFkR2FsbGVyeVRhcCgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICRzY29wZS5oZWFkZXJzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ2dhbGxlcnlQaG90b3NDdHJsJywgZnVuY3Rpb24oR2FsbGVyeSwgJHN0YXRlUGFyYW1zKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB2YXIgcGhvdG9fdHlwZSA9ICRzdGF0ZVBhcmFtcy5jb2RlO1xyXG4gIGFwcC5kYXRhID0ge1xyXG4gICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfSxcclxuICAgICB7c29ydDogJy12aWV3JywgbmFtZTogJ+yhsO2ajOyInCd9LFxyXG4gICAgIHtzb3J0OiAnLWNvbW1lbnRfY291bnQnLCBuYW1lOifrjJPquIDsiJwnfVxyXG4gICBdLFxyXG4gICBzZWxlY3RlZE9wdGlvbjogIHtzb3J0OiAnLWNyZWF0ZWQnLCBuYW1lOiAn7LWc7Iug7IicJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgfTtcclxuXHJcbiAgICBHYWxsZXJ5LnJlYWRQaG90b3MocGhvdG9fdHlwZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5waG90b0RhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdnYWxsZXJ5UGhvdG9DdHJsJywgZnVuY3Rpb24gKCRzdGF0ZVBhcmFtcywgR2FsbGVyeSwgQ29tbWVudCwgJHNjb3BlLCAkd2luZG93LCAkc3RhdGUpIHtcclxuXHJcbiAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICB2YXIgcGhvdG9faWQgPSAkc3RhdGVQYXJhbXMucGhvdG9faWQ7XHJcbiAgIHZhciBwaG90b190eXBlID0gJHN0YXRlUGFyYW1zLnBob3RvX3R5cGU7XHJcbiAgIHZhciB1c2VyX2lkID0gJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xyXG5cclxuICAgR2FsbGVyeS5yZWFkUGhvdG9EYXRhKHBob3RvX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgIGFwcC5waG90b0RhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgIH0gZWxzZSB7XHJcbiAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICB9XHJcbiAgIH0pO1xyXG5cclxuICAgR2FsbGVyeS5yZWFkUGhvdG9zKHBob3RvX3R5cGUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgYXBwLnBob3Rvc0RhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgIH0gZWxzZSB7XHJcbiAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICB9XHJcbiAgIH0pO1xyXG5cclxuICAgQ29tbWVudC5yZWFkQ29tbWVudChwaG90b19pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICBhcHAuY29tbWVudERhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgY29uc29sZS5sb2coYXBwLmNvbW1lbnREYXRhKTtcclxuICAgICB9IGVsc2Uge1xyXG4gICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgfVxyXG4gICB9KTtcclxuXHJcbiAgIHRoaXMuY3JlYXRlQ29tbWVudCA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgaWYoISRzY29wZS5tYWluLnVzZXIudXNlcl9pZCl7XHJcbiAgICAgICAgICRzY29wZS5tYWluLmxvZ2luKCk7XHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICBpZighZGF0YSl7XHJcbiAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn64yT6riA7J2EIOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICB2YXIgY29tbWVudERhdGEgPSB7XHJcbiAgICAgICAgICAgICBjb21tZW50IDogZGF0YSxcclxuICAgICAgICAgICAgIHVzZXJfaWQgOiAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQsXHJcbiAgICAgICAgICAgICBwaG90b19pZCA6IHBob3RvX2lkXHJcbiAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgQ29tbWVudC5jcmVhdGVDb21tZW50KGNvbW1lbnREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9KTtcclxuICAgICAgICAgfVxyXG4gICAgICAgfVxyXG4gIH07XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuLy8gLy8g6rCS7J2EIOyCreygnO2VmOuKlCDtlajsiJhcclxuLy8gICAkc2NvcGUuZGVsZXRlUGhvdG8gPSBmdW5jdGlvbigpe1xyXG4vLyAgICAgIHZhciBpZCA9ICRzdGF0ZVBhcmFtcy5waG90b19pZDtcclxuLy8gICAgICRodHRwLmRlbGV0ZSgnL2FwaS9nYWxsZXJ5LycraWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4vLyAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnYXBwLmdhbGxlcnkuY2F0ZWdvcnkoe2NvZGU6IDB9KScpO1xyXG4vLyAgICAgfSk7XHJcbi8vICAgfTtcclxuLy9cclxuLy9cclxuLy8gLy8g6rCc67OEIOyCrOynhCDqtIDroKjrkJwg7J2066+47KeAIOqwgOyguOyYpOq4sCB8fCDshKDtg53tlZwg7J2066+47KeA7JmAIOqwmeydgCDrtoTrpZjsnZgg7J2066+47KeAIOqwgOyguOyYpOq4sFxyXG4vLyAgICRzY29wZS5nZXRSZWxhdGVkUGljID0gZnVuY3Rpb24oKXtcclxuLy8gICAgIHZhciBjb2RlID0gJHN0YXRlUGFyYW1zLnBob3RvX3R5cGU7XHJcbi8vICAgICAkaHR0cC5nZXQoJy9hcGkvZ2FsbGVyeU1lbnUvJytjb2RlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuLy8gICAgICAgJHNjb3BlLnBob3RvcyA9IHJlc3BvbnNlLmRhdGE7XHJcbi8vICAgICB9KTtcclxuLy8gICB9O1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0hvbWVDdHJsJywgZnVuY3Rpb24gKCAkaHR0cCwgJHNjb3BlKSB7XHJcblxyXG4gICRzY29wZS5nZXRDb250ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgICRodHRwLmdldCgnL2FwaS9ob21lJykudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICRzY29wZS5waG90b3MgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnbWFpbkNvbnRyb2xsZXJzJyxbJ2F1dGhTZXJ2aWNlcycsICd1c2VyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ21haW5DdHJsJywgZnVuY3Rpb24oQXV0aCwgJHRpbWVvdXQsICRsb2NhdGlvbiwgJHN0YXRlLCAkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3csICRpbnRlcnZhbCwgVXNlciwgQXV0aFRva2VuKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgYXBwLmxvYWRtZSA9IGZhbHNlO1xyXG5cclxuICAkc2NvcGUuJG9uKCdMT0FEJywgZnVuY3Rpb24oKXtcclxuICAgICRzY29wZS5sb2FkaW5nID0gdHJ1ZTtcclxuICB9KTtcclxuXHJcbiAgJHNjb3BlLiRvbignVU5MT0FEJywgZnVuY3Rpb24oKXtcclxuICAgICRzY29wZS5sb2FkaW5nID0gZmFsc2U7XHJcbiAgfSk7XHJcblxyXG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKCl7XHJcbiAgICBpZighY2hlY2tTZXNzaW9uKWNoZWNrU2Vzc2lvbigpO1xyXG5cclxuICAgIGlmKEF1dGguaXNMb2dnZWRJbigpKXtcclxuICAgICAgYXBwLmlzTG9nZ2VkSW4gPSB0cnVlO1xyXG5cclxuICAgICAgQXV0aC5nZXRVc2VyKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBhcHAudXNlciA9IGRhdGEuZGF0YTtcclxuICAgICAgICBVc2VyLmdldFBlcm1pc3Npb24oKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICBpZihkYXRhLmRhdGEucGVybWlzc2lvbiA9PT0gJ2FkbWluJyl7XHJcbiAgICAgICAgICAgICAgYXBwLmF1dGhvcml6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYoZGF0YS5kYXRhLnBlcm1pc3Npb24gPT09ICdhcnRpc3QnKXtcclxuICAgICAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXBwLnBlcm1pc3Npb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICBhcHAuYXV0aG9yaXplZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAuYXV0aG9yaXplZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAudXNlciA9IGZhbHNlO1xyXG4gICAgICBhcHAuaXNMb2dnZWRJbiA9IGZhbHNlO1xyXG4gICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcblxyXG4gIHZhciBjaGVja1Nlc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgaWYoQXV0aC5pc0xvZ2dlZEluKCkpe1xyXG4gICAgICBhcHAuY2hlY2tTZXNzaW9uID0gdHJ1ZTtcclxuICAgICAgdmFyIGludGVydmFsID0gJGludGVydmFsKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIHRva2VuID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcclxuICAgICAgICBpZih0b2tlbiA9PT0gbnVsbCl7XHJcbiAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKGludGVydmFsKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VsZi5wYXJzZUp3dCA9IGZ1bmN0aW9uKHRva2VuKXtcclxuICAgICAgICAgICAgdmFyIGJhc2U2NFVybCA9IHRva2VuLnNwbGl0KCcuJylbMV07XHJcbiAgICAgICAgICAgIHZhciBiYXNlNjQgPSBiYXNlNjRVcmwucmVwbGFjZSgnLScsJysnKS5yZXBsYWNlKCdfJywgJy8nKTtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoJHdpbmRvdy5hdG9iKGJhc2U2NCkpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHZhciBleHBpcmVUaW1lID0gc2VsZi5wYXJzZUp3dCh0b2tlbik7XHJcbiAgICAgICAgICB2YXIgdGltZVN0YW1wID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XHJcbiAgICAgICAgICB2YXIgdGltZUNoZWNrID0gZXhwaXJlVGltZS5leHAgLSB0aW1lU3RhbXA7XHJcblxyXG4gICAgICAgICAgaWYodGltZUNoZWNrIDw9IDUpe1xyXG4gICAgICAgICAgICBzaG93TW9kYWwoJ2V4cGlyZWQnKTtcclxuICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChpbnRlcnZhbCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSwgMjAwMCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY2hlY2tTZXNzaW9uKCk7XHJcblxyXG5cclxuICAgIGFwcC5yZW5ld1Nlc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgICBhcHAuY2hvaWNlTWFkZSA9IHRydWU7XHJcbiAgICAgIFVzZXIucmVuZXdTZXNzaW9uKGFwcC51c2VyLnVzZXJuYW1lKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIEF1dGhUb2tlbi5zZXRUb2tlbihkYXRhLmRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgY2hlY2tTZXNzaW9uKCk7XHJcbiAgICAgICAgICBoaWRlTW9kYWwoJ2V4cGlyZWQnKTtcclxuICAgICAgICB9IGVsc2V7XHJcbiAgICAgICAgICBhcHAuTW9kYWxCb2R5ID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICBoaWRlTW9kYWwoJ2V4cGlyZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBhcHAuZW5kU2Vzc2lvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGFwcC5jaG9pY2VNYWRlID0gdHJ1ZTtcclxuICAgICAgaGlkZU1vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2hvd01vZGFsKCdsb2dvdXQnKTtcclxuICAgICAgfSw1MDApO1xyXG4gICAgfTtcclxuXHJcblxyXG4gIHZhciBzaG93TW9kYWwgPSBmdW5jdGlvbihvcHRpb24pe1xyXG4gICAgYXBwLmNob2ljZU1hZGUgPSBmYWxzZTtcclxuICAgIGFwcC5tb2RhbEhlYWRlciA9IHVuZGVmaW5lZDtcclxuICAgIGFwcC5tb2RhbEJvZHkgPSB1bmRlZmluZWQ7XHJcbiAgICBhcHAuaGlkZUJ1dHRvbiA9IGZhbHNlO1xyXG4vLyBjaGVjayB0b2tlbiBleHBpcmVkXHJcbiAgICBpZihvcHRpb24gPT09ICAnZXhwaXJlZCcgKXtcclxuICAgICAgYXBwLm1vZGFsSGVhZGVyID0gJ1RpbWVvdXQgV2FybmluZyc7XHJcbiAgICAgIGFwcC5tb2RhbEJvZHkgPSAnWW91ciBzZXNzaW9uIHdpbGwgZXhwaXJlZCBpbiA1IG1pbnV0ZXMuIFdvdWxkIHlvdSBsaWtlIHRvIHJlbmV3IHlvdXIgc2Vzc2lvbj8nO1xyXG4gICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoe2JhY2tkcm9wOlwic3RhdGljXCJ9KTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICdsb2dvdXQnKXtcclxuLy8gbG9nb3V0XHJcbiAgICAgIGFwcC5oaWRlQnV0dG9uID0gdHJ1ZTtcclxuICAgICAgYXBwLm1vZGFsSGVhZGVyID0gJ+uhnOq3uOyVhOybgyc7XHJcbiAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCh7YmFja2Ryb3A6XCJzdGF0aWNcIn0pO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIEF1dGgubG9nb3V0KCk7XHJcbiAgICAgICAgYXBwLmlzTG9nZ2VkSW4gPSBmYWxzZTtcclxuICAgICAgICBoaWRlTW9kYWwoJ2xvZ291dCcpO1xuICAgICAgICAkc3RhdGUucmVsb2FkKCk7XG4gICAgICB9LCAyMDAwKTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICdsb2dpbicpe1xyXG4vLyBMb2dpblxyXG4gICAgICAkKFwiI2xvZ2luXCIpLm1vZGFsKHtiYWNrZHJvcDpcInN0YXRpY1wifSk7XHJcbiAgICB9ICBlbHNlIGlmKG9wdGlvbiA9PT0ndXBsb2FkJyl7XHJcbi8vIGVucm9sbEFydGlzdFxyXG4gICAgICAkKFwiI3VwbG9hZFwiKS5tb2RhbCh7YmFja2Ryb3A6XCJzdGF0aWNcIn0pO1xyXG4gICAgfVxyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKCFhcHAuY2hvaWNlTWFkZSl7XHJcbiAgICAgICAgICBoaWRlTW9kYWwoJ2xvZ291dCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgNDAwMCk7XHJcblxyXG4gIH07XHJcblxyXG4gIHZhciBoaWRlTW9kYWwgPSBmdW5jdGlvbihvcHRpb24pe1xyXG5cclxuICAgIGlmKG9wdGlvbiA9PT0gJ2V4cGlyZWQnKXtcclxuICAgICAgJChcIiNteU1vZGFsXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAnbG9nb3V0Jyl7XHJcbiAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ2xvZ2luJyl7XHJcbiAgICAgICQoXCIjbG9naW5cIikubW9kYWwoJ2hpZGUnKTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICd1cGxvYWQnKXtcclxuICAgICAgJChcIiN1cGxvYWRcIikubW9kYWwoJ2hpZGUnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuXHJcbi8vIOuhnOq3uOyduFxyXG4gIHRoaXMuZG9Mb2dpbiA9IGZ1bmN0aW9uKGxvZ2luRGF0YSwgdmFsaWQpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXhwaXJlZCA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICBpZih2YWxpZCl7XHJcbiAgICAgIEF1dGgubG9naW4oYXBwLmxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGhpZGVNb2RhbCgnbG9naW4nKTtcclxuICAgICAgICAgICAgYXBwLmxvZ2luRGF0YSA9IG51bGw7XHJcbiAgICAgICAgICAgIGFwcC5pc0xvZ2dlZEluID0gdHJ1ZTtcclxuICAgICAgICAgICAgY2hlY2tTZXNzaW9uKCk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgIH0sMjAwMCk7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgaWYoZGF0YS5kYXRhLmV4cGlyZWQpe1xyXG4gICAgICAgICAgICBhcHAuZXhwaXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTsgLy8gSWYgZXJyb3Igb2NjdXJzLCByZW1vdmUgZGlzYWJsZSBsb2NrIGZyb20gZm9ybVxyXG4gICAgICBhcHAubG9hZGluZyA9IGZhbHNlOyAvLyBTdG9wIGJvb3RzdHJhcCBsb2FkaW5nIGljb25cclxuICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsoJXrs7Trpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIERpc3BsYXkgZXJyb3IgaWYgdmFsaWQgcmV0dXJucyBmYWxzZVxyXG4gICAgfVxyXG5cclxuICB9O1xyXG5cclxuXHJcblxyXG4vLyDsgqzsmqnsnpDsnZgg6raM7ZWcIOyXrOu2gCDtmZXsnbhcclxuICB0aGlzLnVwbG9hZCA9IGZ1bmN0aW9uKCl7XHJcbiAgYXBwLmNob2ljZU1hZGUgPSB0cnVlO1xyXG4gICAgaWYoYXBwLmF1dGhvcml6ZWQgPT09IHRydWUgfHwgYXBwLnBlcm1pc3Npb24gPT09IHRydWUpIHtcclxuICAgICAgJHN0YXRlLmdvKCdhcHAuYXJ0aXN0UHJvZmlsZXMnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIFVzZXIuY2hlY2tQZXJtaXNzaW9uKGFwcC51c2VyLnVzZXJuYW1lKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwLmFydGlzdFByb2ZpbGVzJyk7XHJcbiAgICAgICAgICAgYXBwLnBlcm1pc3Npb24gPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzaG93TW9kYWwoJ3VwbG9hZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH07XHJcblxyXG4gIC8vIOyCrOyaqeyekOyXkOqyjCDqtoztlZwg67aA7JesXHJcbiAgICB0aGlzLmRvUGVybWlzc2lvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGFwcC5jaG9pY2VNYWRlID0gdHJ1ZTtcclxuICAgICAgYXBwLnVwbG9hZERpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgYXBwLnVwbG9hZGVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgIFVzZXIucmVzZXRQZXJtaXNzaW9uKGFwcC51c2VyKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC51cGxvYWREaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICBhcHAudXBsb2FkU3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaGlkZU1vZGFsKCd1cGxvYWQnKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAuYXJ0aXN0UHJvZmlsZXMnKTtcclxuICAgICAgICAgIH0sMjAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC51cGxvYWREaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLnVwbG9hZGVycm9yTXNnID0gJ+yemOuqu+uQnCDsoJXrs7TqsIAg7J6F66Cl65CY7JeI7Iq164uI64ukLic7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG5cclxuICBhcHAubG9naW4gPSBmdW5jdGlvbigpe1xyXG4gICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICBzaG93TW9kYWwoJ2xvZ2luJyk7XHJcbiAgfTtcclxuXHJcbiAgYXBwLmxvZ291dCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBzaG93TW9kYWwoJ2xvZ291dCcpO1xyXG4gIH07XHJcblxyXG4gIGFwcC5yZXNlbmQgPSBmdW5jdGlvbigpe1xyXG4gICAgaGlkZU1vZGFsKCdsb2dpbicpO1xyXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgJHN0YXRlLmdvKCdyZXNlbmQnKTtcclxuICAgICAgYXBwLmV4cGlyZWQgPSBmYWxzZTtcclxuICAgIH0sNTAwKTtcclxuICB9O1xyXG5cclxuICBhcHAucmVzZXR1c2VybmFtZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAkc3RhdGUuZ28oJ3Jlc2V0dXNlcm5hbWUnKTtcclxuICAgIH0sNTAwKTtcclxuICB9O1xyXG5cclxuICBhcHAucmVzZXRwYXNzd29yZCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAkc3RhdGUuZ28oJ3Jlc2V0cGFzc3dvcmQnKTtcclxuICAgIH0sNTAwKTtcclxuXHJcbiAgfTtcclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ21haW5NZW51Q29udHJvbGxlcicsIGZ1bmN0aW9uICgkaHR0cCwgJHNjb3BlKSB7XHJcbiAgJGh0dHAuZ2V0KCcvYXBpL2hlYWRlcicpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgJHNjb3BlLmhlYWRlcnMgPSByZXNwb25zZS5kYXRhO1xyXG4gIH0pO1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2VtYWlsQ29udHJvbGxlcnMnLFsndXNlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdlbWFpbEN0cmwnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIFVzZXIuYWN0aXZlQWNjb3VudCgkc3RhdGVQYXJhbXMudG9rZW4pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICB9LDIwMDApO1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgIH0sMjAwMCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncmVzZW5kQ3RybCcsIGZ1bmN0aW9uKFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIGFwcCA9IHRoaXM7XHJcbiAgdGhpcy5jaGVja0NyZWRlbnRpYWxzID0gZnVuY3Rpb24obG9naW5EYXRhKXtcclxuICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgVXNlci5jaGVja0NyZWRlbnRpYWxzKHRoaXMubG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgVXNlci5yZXNlbmRMaW5rKGFwcC5sb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICB9LDIwMDApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9ZWxzZSB7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigndXNlcm5hbWVDdHJsJywgZnVuY3Rpb24oVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdGhpcy5zZW5kVXNlcm5hbWUgPSBmdW5jdGlvbih1c2VyRGF0YSwgdmFsaWQpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgaWYodmFsaWQpe1xyXG4gICAgICBVc2VyLnNlbmRVc2VybmFtZShhcHAudXNlckRhdGEuZW1haWwpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOydtOuplOydvCDso7zshozqsIAg7JWE64uZ64uI64ukLic7XHJcbiAgICB9XHJcbiAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdwYXNzd29yZEN0cmwnLCBmdW5jdGlvbihVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBhcHAuc2VuZFBhc3N3b3JkID0gZnVuY3Rpb24ocmVzZXREYXRhLCB2YWxpZCl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBpZih2YWxpZCl7XHJcbiAgICAgIFVzZXIuc2VuZFBhc3N3b3JkKGFwcC5yZXNldERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOyVhOydtOuUlOqwgCDslYTri5nri4jri6QuJztcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Jlc2V0Q3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgJHNjb3BlLCBVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgICBhcHAuaGlkZSA9IHRydWU7IC8vIEhpZGUgZm9ybSB1bnRpbCB0b2tlbiBjYW4gYmUgdmVyaWZpZWQgdG8gYmUgdmFsaWRcclxuXHJcbiAgICAvLyBGdW5jdGlvbiB0byBjaGVjayBpZiB0b2tlbiBpcyB2YWxpZCBhbmQgZ2V0IHRoZSB1c2VyJ3MgaW5mbyBmcm9tIGRhdGFiYXNlIChydW5zIG9uIHBhZ2UgbG9hZClcclxuICAgIFVzZXIucmVzZXRQYXNzd29yZCgkc3RhdGVQYXJhbXMudG9rZW4pLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHVzZXIgd2FzIHJldHJpZXZlZFxyXG4gICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICBhcHAuaGlkZSA9IGZhbHNlOyAvLyBTaG93IGZvcm1cclxuICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LXN1Y2Nlc3MnOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gJ+yDiOuhnOyatCDruYTrsIDrsojtmLjrpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIExldCB1c2VyIGtub3cgdGhleSBjYW4gZW50ZXIgbmV3IHBhc3N3b3JkXHJcbiAgICAgICAgICAgICRzY29wZS51c2VybmFtZSA9IGRhdGEuZGF0YS51c2VyWzBdLnVzZXJuYW1lOyAvLyBTYXZlIHVzZXJuYW1lIGluIHNjb3BlIGZvciB1c2UgaW4gc2F2ZVBhc3N3b3JkKCkgZnVuY3Rpb25cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtZGFuZ2VyJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTsgLy8gR3JhYiBlcnJvciBtZXNzYWdlIGZyb20gSlNPTiBvYmplY3RcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBGdW5jdGlvbiB0byBzYXZlIHVzZXIncyBuZXcgcGFzc3dvcmQgdG8gZGF0YWJhc2VcclxuICAgIGFwcC5zYXZlUGFzc3dvcmQgPSBmdW5jdGlvbihyZWdEYXRhLCB2YWxpZCwgY29uZmlybWVkKSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7IC8vIENsZWFyIGVycm9yTXNnIHdoZW4gdXNlciBzdWJtaXRzXHJcbiAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlOyAvLyBEaXNhYmxlIGZvcm0gd2hpbGUgcHJvY2Vzc2luZ1xyXG4gICAgICAgIGFwcC5sb2FkaW5nID0gdHJ1ZTsgLy8gRW5hYmxlIGxvYWRpbmcgaWNvblxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiBmb3JtIGlzIHZhbGlkIGFuZCBwYXNzd29yZHMgbWF0Y2hcclxuICAgICAgICBpZiAodmFsaWQgJiYgY29uZmlybWVkKSB7XHJcbiAgICAgICAgICAgIGFwcC5yZWdEYXRhLnVzZXJuYW1lID0gJHNjb3BlLnVzZXJuYW1lOyAvLyBHcmFiIHVzZXJuYW1lIGZyb20gJHNjb3BlXHJcblxyXG4gICAgICAgICAgICAvLyBSdW4gZnVuY3Rpb24gdG8gc2F2ZSB1c2VyJ3MgbmV3IHBhc3N3b3JkIHRvIGRhdGFiYXNlXHJcbiAgICAgICAgICAgIFVzZXIuc2F2ZVBhc3N3b3JkKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgbG9hZGluZyBpY29uXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBwYXNzd29yZCB3YXMgc2F2ZWQgdG8gZGF0YWJhc2VcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1zdWNjZXNzJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2ZlOuptOycvOuhnCDsnbTrj5ntlanri4jri6QuJzsgLy8gR3JhYiBzdWNjZXNzIG1lc3NhZ2UgZnJvbSBKU09OIG9iamVjdCBhbmQgcmVkaXJlY3RcclxuICAgICAgICAgICAgICAgICAgICAvLyBSZWRpcmVjdCB0byBsb2dpbiBwYWdlIGFmdGVyIDIwMDAgbWlsbGlzZWNvbmRzICgyIHNlY29uZHMpXHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtZGFuZ2VyJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBFbmFibGUgZm9ybSB0byBhbGxvdyB1c2VyIHRvIHJlc3VibWl0XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7IC8vIEdyYWIgZXJyb3IgbWVzc2FnZSBmcm9tIEpTT04gb2JqZWN0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1kYW5nZXInOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgbG9hZGluZyBpY29uXHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBFbmFibGUgZm9ybSB0byBhbGxvdyB1c2VyIHRvIHJlc3VibWl0XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBMZXQgdXNlciBrbm93IGZvcm0gaXMgbm90IHZhbGlkXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCd1c2VyQ29udHJvbGxlcnMnLFsndXNlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdyZWdDdHJsJywgZnVuY3Rpb24gKCAkaHR0cCwgJGxvY2F0aW9uLCAkdGltZW91dCwgVXNlciwgQXV0aCwgJHN0YXRlKSB7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgICAgIHRoaXMucmVnU3RlcDEgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICBpZighcmVnRGF0YSl7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7JW96rSA7JeQIOuPmeydmO2VtOyVvOunjCDtmozsm5DqsIDsnoXsnYQg7KeE7ZaJ7ZWgIOyImCDsnojsirXri4jri6QuJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYoKHJlZ0RhdGEudGVybXMpICYmIChyZWdEYXRhLnByaXZhY3kpKSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9ICfslb3qtIDsl5Ag7ISx6rO17KCB7Jy866GcIOuPmeydmO2VmOyFqOyKteuLiOuLpC4nO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygncmVnaXN0ZXJTdGVwMicpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfslb3qtIDsl5Ag64+Z7J2Y7ZW07JW866eMIO2ajOybkOqwgOyeheydhCDsp4TtlontlaAg7IiYIOyeiOyKteuLiOuLpC4nO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfTtcclxuXHJcbiAgICAvLyDtmozsm5DqsIDsnoVcclxuICAgICAgdGhpcy5yZWdTdGVwMiA9IGZ1bmN0aW9uKHJlZ0RhdGEsIHZhbGlkLCBjb25maXJtZWQpe1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmKHZhbGlkICYmIGNvbmZpcm1lZCl7XHJcbiAgICAgICAgICBVc2VyLmNyZWF0ZShhcHAucmVnRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICBBdXRoLmxvZ2luKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICAgICAgICB9LDEwMDApO1xyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuZXhwaXJlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBJZiBlcnJvciBvY2N1cnMsIHJlbW92ZSBkaXNhYmxlIGxvY2sgZnJvbSBmb3JtXHJcbiAgICAgICAgICAgICBhcHAubG9hZGluZyA9IGZhbHNlOyAvLyBTdG9wIGJvb3RzdHJhcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBEaXNwbGF5IGVycm9yIGlmIHZhbGlkIHJldHVybnMgZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Byb2ZpbGVDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyLCAkdGltZW91dCwgJHN0YXRlLCAkaHR0cCl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4vLyDquLDrs7gg7IKs7Jqp7J6QIOygleuztCDqsIDsoLjsmKTripQg7ZWo7IiYXHJcbiAgdmFyIHVzZXJuYW1lID0gJHNjb3BlLm1haW4udXNlci51c2VybmFtZTtcclxuICBVc2VyLnJlYWRQcm9maWxlcyh1c2VybmFtZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLnJlYWREYXRhID0gZGF0YS5kYXRhLnByb2ZpbGVzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG5cclxuLy8g7Jyg7KCAIO2UhOuhnO2VhCDsgqzsp4Qg67OA6rK9IO2VqOyImFxyXG4gICAgdGhpcy5maWxlID0ge307XHJcbiAgICB0aGlzLnBob3RvQ2hhbmdlZCA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCAmJiBmaWxlc1swXS5uYW1lLm1hdGNoKC9cXC4ocG5nfGpwZWd8anBnKSQvKSkge1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAudGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAudGh1bWJuYWlsLmRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAudXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAubWVzc2FnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhcHAudGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgYXBwLm1lc3NhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbi8vIO2UhOuhnO2VhCDsnbTrr7jsp4Drpbwg7JeF642w7J207Yq47ZWY64qUIO2VqOyImFxyXG4gICAgdGhpcy51cGRhdGVQcm9maWxlSW1hZ2UgPSBmdW5jdGlvbigpe1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICB2YXIgdXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuICAgICAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgICAgICRodHRwLnB1dCgnL2FwaS91cGxvYWRUZW1wLycrdXNlcl9pZCwgIGZkLCB7XHJcbiAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZH1cclxuICAgICAgfSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfTtcclxuXHJcbi8vIO2UhOuhnO2VhCDsoJXrs7Qg67OA6rK9XHJcbiAgdGhpcy51cGRhdGVQcm9maWxlID0gZnVuY3Rpb24oKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGFwcC5yZWFkRGF0YS51c2VyX2lkID0gJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xyXG4gICAgVXNlci51cGRhdGVQcm9maWxlcyhhcHAucmVhZERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgfSwyMDAwKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbn0pO1xyXG4iXX0=

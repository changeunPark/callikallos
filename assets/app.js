angular.module("app",["ui.router","ui.bootstrap","userControllers","mainControllers","emailControllers","artistControllers","gallertControllers","commentControllers","boardControllers","uiCropper"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptors")}]);var app=angular.module("app");app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,a){t.otherwise("/"),e.state("app",{url:"/",views:{header:{templateUrl:"/menues/mainMenu.html",controller:"MainMenuController"},content:{templateUrl:"../categories/home.html"},footer:{templateUrl:"/company/footer.html"}}}).state("registerStep1",{url:"/register/step1",controller:"regCtrl",controllerAs:"register",templateUrl:"/isLoggedOut/registerStep1.html",authenticated:!1}).state("registerStep2",{url:"/register/step2",controller:"regCtrl",controllerAs:"register",templateUrl:"/isLoggedOut/registerStep2.html",authenticated:!1}).state("resetusername",{url:"/resetusername",templateUrl:"/users/reset/username.html",controller:"usernameCtrl",controllerAs:"username"}).state("resetpassword",{url:"/resetpassword",templateUrl:"/users/reset/password.html",controller:"passwordCtrl",controllerAs:"password"}).state("reset",{url:"/reset/:token",templateUrl:"/users/reset/newpassword.html",controller:"resetCtrl",controllerAs:"reset"}).state("activate",{url:"/activate/:token",templateUrl:"/users/activation/activate.html",controller:"emailCtrl",controllerAs:"email"}).state("resend",{url:"/resend",templateUrl:"/users/activation/resend.html",controller:"resendCtrl",controllerAs:"resend"}).state("app.profiles",{url:"profiles",views:{"content@":{templateUrl:"isLoggedIn/userProfiles.html",controller:"profileCtrl",controllerAs:"profile",authenticated:!1}}}).state("app.photos",{url:"photos",views:{"content@":{templateUrl:"isLoggedIn/artistPhotos.html",controller:"artistPhotoCtrl",controllerAs:"artistPhoto",authenticated:!1}}}).state("app.artistProfiles",{url:"artist",views:{"content@":{templateUrl:"isLoggedIn/artistProfiles.html",controller:"artistProfileCtrl",controllerAs:"artistProfile",authenticated:!0}}}).state("app.intro",{url:"intro",views:{"content@":{templateUrl:"/company/intro.html",authenticated:!1}}}).state("app.terms",{url:"terms",views:{"content@":{templateUrl:"/company/terms.html",authenticated:!1}}}).state("app.privacy",{url:"privacy",views:{"content@":{templateUrl:"/company/privacy.html",authenticated:!1}}}).state("app.artist",{url:"artist",views:{"content@":{templateUrl:"categories/artist.html",controller:"artistsCtrl",controllerAs:"artists",authenticated:!1},"artist-header@app.artist":{templateUrl:"/menues/subMenu.html",controller:"artistTapCtrl",controllerAs:"artistTap",authenticated:!1}}}).state("app.artist.categories",{url:"/category=:code",views:{"detail@app.artist":{templateUrl:"/partialArtist/artists.html",controller:"artistsCtrl",controllerAs:"artists",authenticated:!1}}}).state("app.artist.show",{url:"/:artist_id",views:{"content@":{templateUrl:"/partialArtist/artist.html",controller:"artistPhotoCtrl",controllerAs:"artistPhoto",authenticated:!1}}}).state("app.gallery",{url:"gallery",views:{"gallery-header@app.gallery":{templateUrl:"/menues/subMenu.html",controller:"galleryTapCtrl",controllerAs:"galleryTap"},"content@":{templateUrl:"categories/gallery.html",controller:"galleryPhotosCtrl",controllerAs:"galleryPhotos",authenticated:!1}}}).state("app.gallery.categories",{url:"/category=:code",views:{"detail@app.gallery":{templateUrl:"/partialGallery/photos.html",controller:"galleryPhotosCtrl",controllerAs:"galleryPhotos",authenticated:!1}}}).state("app.gallery.show",{url:"/category=:photo_type/photo:photo_id",views:{"content@":{templateUrl:"/partialGallery/photo.html",controller:"galleryPhotoCtrl",controllerAs:"galleryphoto"}}}).state("app.gallery.edit",{url:"/edit/:photo_id",views:{"content@":{templateUrl:"/partialGallery/photoEdit.html",controller:"galleryPhotoCtrl",controllerAs:"galleryphoto"}}}).state("app.display",{url:"display",views:{"content@":{templateUrl:"categories/display.html",authenticated:!1},"display-header@app.display":{templateUrl:"/menues/subMenu.html",controller:"displayMenuController",authenticated:!1}}}).state("app.display.categories",{url:"/category=:code",views:{"detail@app.display":{templateUrl:"/partialDisplay/content.html",controller:"displayMenuController",authenticated:!1}}}).state("app.board",{url:"board",views:{"content@":{templateUrl:"categories/board.html",controller:"boardsCtrl",controllerAs:"boards",authenticated:!1},"board-header@app.board":{templateUrl:"/menues/boardMenu.html",controller:"boardTapCtrl",authenticated:!1}}}).state("app.board.categories",{url:"/category=:code",views:{"content@app.board":{templateUrl:"/partialBoard/boards.html",controller:"boardsCtrl",controllerAs:"boards",authenticated:!1}}}).state("app.board.create",{url:"/create",views:{"content@app.board":{templateUrl:"/partialBoard/boardCreate.html",controller:"boardCtrl",controllerAs:"board",authenticated:!0}}}).state("app.board.show",{url:"/:board_id",views:{"content@app.board":{templateUrl:"partialBoard/board.html",controller:"boardCtrl",controllerAs:"board",authenticated:!1}}}).state("app.board.edit",{url:"/edit/:board_id",views:{"content@app.board":{templateUrl:"partialBoard/boardUpdate.html",controller:"boardCtrl",controllerAs:"board",authenticated:!0}}})}]),angular.module("commentControllers",["commentServices"]).controller("commentCtrl",["$scope","$http","$stateParams","$state","$window","Comment",function(e,t,a,r,o,s){var n=this;e.userComment=!1,this.createComment=function(e){t.post("/api/comment",n.response).then(function(e){console.log(e)})},e.getComment=function(){var r=a.photo_id,o=a.board_id,s="",n={photo_id:r,board_id:o},i={params:n,headers:{Accept:"application/json"}};r?(s=r,t.get("/api/comment/"+s,i).then(function(t){e.comments=t.data[0]})):o?(s=o,t.get("/api/comment/"+s,i).then(function(t){e.comments=t.data[0]})):e.comments="시스템이 불안정합니다."},e.addComment=function(e,a){if(a){var s=e.board_id,n=e.photo_id,i=e.comment;t.post("/api/comment",{board_id:s,photo_id:n,comment:i}).then(function(e){r.reload()})}else o.alert("댓글을 입력해주세요.")},e.deleteComment=function(e){var a=e.comment_id;t.delete("/api/comment/"+a).then(function(e){r.reload()})}}]),angular.module("app").controller("ImageCropCtrl",["$scope",function(e){e.myCroppedImage="",e.myImage=void 0,e.crobject={};var t=function(t){var a=t.currentTarget.files[0],r=new FileReader;r.onload=function(t){e.$apply(function(e){e.myImage=t.target.result})},r.readAsDataURL(a)};angular.element(document.querySelector("#fileInput")).on("change",t),this.imageCrop=function(){var t=e.myImage;console.log(t)}}]),angular.module("app").controller("OpinionController",["$scope","$http","$stateParams",function(e,t,a){e.doLikeStatus=!0,e.doLike=function(){e.doLikeStatus=!e.doLikeStatus},e.getOpinion=function(r){var o=a.id;t.get("/api/opinion/"+o).then(function(t){e.opinionInfo=t.data[0][0]})}}]),angular.module("artistServices",[]).factory("Artist",["$http",function(e){return artistFactory={},artistFactory.readArtistTap=function(){return e.get("/api/artistMenu")},artistFactory.readArtists=function(t){return e.get("/api/artistMenu/"+t)},artistFactory.readArtist=function(t){return e.get("/api/artist/"+t)},artistFactory.createAristPhoto=function(t){return e.post("/api/artistProfiles",t)},artistFactory.updateAristProfile=function(t){return e.put("/api/artistProfiles",t)},artistFactory.readArtistProfile=function(t){return e.get("/api/artistProfiles/"+t)},artistFactory.readAristPhoto=function(t){return e.get("/api/artistPhotos/"+t)},artistFactory}]),angular.module("authServices",[]).factory("Auth",["$http","AuthToken",function(e,t){var a={};return a.getUser=function(){if(t.getToken())return e.post("/api/me");$q.reject({message:"User has no token"})},a.login=function(a){return e.post("/api/authenticate",a).then(function(e){return t.setToken(e.data.token),e})},a.isLoggedIn=function(){return!!t.getToken()},a.logout=function(){t.setToken()},a}]).factory("AuthToken",["$window",function(e){var t={};return t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token",t)},t.getToken=function(){return e.localStorage.getItem("token")},t}]).factory("AuthInterceptors",["AuthToken",function(e){var t={};return t.request=function(t){var a=e.getToken();return a&&(t.headers["x-access-token"]=a),t},t}]),angular.module("boardServices",[]).factory("Board",["$http",function(e){return boardFactory={},boardFactory.readBoardTap=function(){return e.get("/api/boardMenu")},boardFactory.readBoards=function(t){return e.get("/api/boardMenu/"+t)},boardFactory.readBoard=function(t){return e.get("api/board/"+t)},boardFactory}]),angular.module("commentServices",[]).factory("Comment",["$http",function(e){return commentFactory={},commentFactory.createComment=function(t){return e.post("/api/comment",t)},commentFactory}]),angular.module("galleryServices",[]).factory("Gallery",["$http",function(e){return galleryFactory={},galleryFactory.readGalleryTap=function(){return e.get("/api/galleryMenu")},galleryFactory.readPhotos=function(t){return e.get("/api/galleryMenu/"+t)},galleryFactory.readPhotoData=function(t){return e.get("/api/gallery/"+t)},galleryFactory.readMorePhoto=function(t){return e.get("/api/galleryMenu/"+t)},galleryFactory}]),angular.module("userServices",[]).factory("User",["$http",function(e){return userFactory={},userFactory.create=function(t){return e.post("/api/users",t)},userFactory.activeAccount=function(t){return e.put("/api/activate/"+t)},userFactory.checkCredentials=function(t){return e.post("/api/resend",t)},userFactory.resendLink=function(t){return e.put("/api/resend",t)},userFactory.sendUsername=function(t){return e.get("/api/resetusername/"+t)},userFactory.sendPassword=function(t){return e.put("/api/resetpassword",t)},userFactory.resetPassword=function(t){return e.get("/api/resetpassword/"+t)},userFactory.savePassword=function(t){return e.put("/api/savepassword",t)},userFactory.renewSession=function(t){return e.get("/api/renewToken/"+t)},userFactory.resetPermission=function(t){return e.put("/api/users/",t)},userFactory.checkPermission=function(t){return e.get("/api/users/"+t)},userFactory.readProfiles=function(t){return e.get("/api/userProfiles/"+t)},userFactory.updateProfiles=function(t){return e.put("/api/userProfiles",t)},userFactory}]),angular.module("app").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,a,r){var o=e(r.fileModel),s=o.assign;a.bind("change",function(){t.$apply(function(){s(t,a[0].files[0])})})}}}]),angular.module("app").directive("match",function(){return{restrict:"A",controller:["$scope",function(e){e.doConfirm=function(t){e.confirmed=!1,t.forEach(function(t){e.confirm==t?e.confirmed=!0:e.confirmed=!1})}}],link:function(e,t,a){a.$observe("match",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)}),e.$watch("confirm",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)})}}}),angular.module("artistControllers",["userServices","artistServices"]).controller("artistTapCtrl",["$scope","Artist",function(e,t){t.readArtistTap().then(function(t){t.data.success?e.headers=t.data.result:app.errorMsg=t.data.message})}]).controller("artistsCtrl",["$stateParams","Artist",function(e,t){var a=this,r=e.code;a.data={availableOptions:[{sort:"-created",name:"최신순"}],selectedOption:{sort:"-created",name:"최신순"}},t.readArtists(r).then(function(e){e.data.success?a.artistDatas=e.data.result:a.errorMsg=e.data.message})}]).controller("uploadCtrl",["$http","$timeout","$scope","Artist","$state",function(e,t,a,r,o){var s=this;s.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"붓 글씨"},{id:"2",name:"펜 글씨"},{id:"3",name:"미분류"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.file={},this.mainPhotoChanged=function(e){if(e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var a=e[0],r=new FileReader;r.readAsDataURL(a),r.onload=function(e){t(function(){s.mainThumbnail={},s.mainThumbnail.dataUrl=e.target.result})}}else s.mainThumbnail={}},this.readPhoto=function(){s.errorMsg=!1,s.disabled=!0,a.$emit("LOAD");var t=new FormData;t.append("myfile",s.file.upload),e.post("/api/uploadTemp/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.disabled=!1,s.successMsg=e.data.message,s.mainImagePath=e.data.photo_path,s.file={}):(a.$emit("UNLOAD"),s.disabled=!1,s.errorMsg=e.data.message,s.file={})})},this.createPhoto=function(e){s.disabled=!1,s.errorMsg=!1,e?void 0===s.uploadData.title||null===s.uploadData.title||""===s.uploadData.title?s.errorMsg="작품의 제목을 입력해주세요.":void 0===s.uploadData.detail||null===s.uploadData.detail||""===s.uploadData.detail?s.errorMsg="작품의 설명을 입력해주세요.":void 0===s.mainImagePath||null===s.mainImagePath||""===s.mainImagePath?s.errorMsg="작품 이미지를 선택해주세요.":"0"===s.data.selectedOption.id?s.errorMsg="작품의 종류를 선택해주세요.":(s.uploadData=e,s.uploadData.user_id=a.main.user.user_id,s.uploadData.photo_type=s.data.selectedOption.id,s.uploadData.photo_path=s.mainImagePath,r.createAristPhoto(s.uploadData).then(function(e){e.data.success?(s.successMsg=e.data.message,s.disabled=!0,t(function(){o.reload()},2e3)):(s.errorMsg=e.data.message,s.successMsg=!1,s.disabled=!1)})):(s.errorMsg="빈칸을 모두 입력해주세요.",s.successMsg=!1)}}]).controller("artistProfileCtrl",["$timeout","Artist","$state","$scope",function(e,t,a,r){var o=this;o.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"붓 글씨"},{id:"2",name:"펜 글씨"},{id:"3",name:"미분류"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.updateAristProfile=function(s){o.errorMsg=!1,s?void 0===o.artistData.short_info||null===o.artistData.short_info||""===o.artistData.short_info?o.errorMsg="한 줄 소개를 입력해주세요.":void 0===o.artistData.detail_info||null===o.artistData.detail_info||""===o.artistData.detail_info?o.errorMsg="상세 소개를 입력해주세요.":(o.artistData=s,o.artistData.user_id=r.main.user.user_id,o.artistData.user_type=o.data.selectedOption.id,t.updateAristProfile(o.artistData).then(function(t){t.data.success?(o.errorMsg=!1,o.successMsg=t.data.message,o.disabled=!0,e(function(){a.reload()},2e3)):o.errorMsg="올바르지 않은 값이 입력되었습니다."})):o.errorMsg="필수기재사항을 입력해주세요."},this.readAristProfile=function(){var e=r.main.user.user_id;t.readArtistProfile(e).then(function(e){e.data.success?o.artistData=e.data.result:o.errorMsg=e.data.message})}}]).controller("artistPhotoCtrl",["$timeout","Artist","$state","$scope",function(e,t,a,r){var o=this,s=r.main.user.user_id;t.readArtistProfile(s).then(function(e){e.data.success?o.artistData=e.data.result:o.errorMsg=e.data.message}),t.readAristPhoto(s).then(function(e){e.data.success?o.artistPhotos=e.data.result:o.errorMsg=e.data.message})}]),angular.module("boardControllers",["boardServices"]).controller("boardTapCtrl",["Board","$scope",function(e,t){e.readBoardTap().then(function(e){t.headers=e.data})}]).controller("boardsCtrl",["$stateParams","Board",function(e,t){var a=this,r=e.code;a.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},t.readBoards(r).then(function(e){a.boardDatas=e.data.result})}]).controller("boardCtrl",["$stateParams","Board","$scope",function(e,t,a){var r=this;a.text="hello world",$(document).ready(function(){$("#summernote").summernote({lang:"ko-KR",height:100,minHeight:null,maxHeight:null,focus:!0,placeholder:"댓글은 1,000자까지 작성할 수 있으며 주제와 무관한 댓글, 악성 댓글은 삭제될 수 있습니다.",toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]]]})});var o=e.board_id;t.readBoard(o).then(function(e){e.data.success&&(r.boardDatas=e.data.result)})}]),angular.module("gallertControllers",["galleryServices"]).controller("galleryTapCtrl",["$scope","Gallery",function(e,t){t.readGalleryTap().then(function(t){t.data.success?e.headers=t.data.result:app.errorMsg=t.data.message})}]).controller("galleryPhotosCtrl",["Gallery","$stateParams",function(e,t){var a=this,r=t.code;a.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},e.readPhotos(r).then(function(e){e.data.success?a.photoData=e.data.result:a.errorMsg=e.data.message})}]).controller("galleryPhotoCtrl",["$scope","$stateParams","Gallery",function(e,t,a){var r=this,o=t.photo_id,s=t.photo_type;e.main.user.user_id;a.readPhotoData(o).then(function(e){e.data.success?r.photoData=e.data.result:r.errorMsg=e.data.message}),a.readPhotos(s).then(function(e){e.data.success?r.photosData=e.data.result:r.errorMsg=e.data.message})}]),angular.module("app").controller("HomeCtrl",["$http","$scope",function(e,t){t.getContent=function(){e.get("/api/home").then(function(e){t.photos=e.data})}}]),angular.module("mainControllers",["authServices","userServices"]).controller("mainCtrl",["Auth","$timeout","$location","$state","$rootScope","$scope","$window","$interval","User","AuthToken",function(e,t,a,r,o,s,n,i,l,c){var d=this;d.loadme=!1,s.$on("LOAD",function(){s.loading=!0}),s.$on("UNLOAD",function(){s.loading=!1}),o.$on("$stateChangeStart",function(){u||u(),e.isLoggedIn()?(d.isLoggedIn=!0,e.getUser().then(function(e){"admin"===e.data.permission?(d.permission=!0,d.user=e.data,d.loadme=!0):"artist"===e.data.permission?(d.permission=!0,d.user=e.data,d.loadme=!0):(d.user=e.data,d.loadme=!0)})):(d.user=!1,d.isLoggedIn=!1,d.loadme=!0)});var u=function(){if(e.isLoggedIn()){d.checkSession=!0;var t=i(function(){var e=n.localStorage.getItem("token");if(null===e)i.cancel(t);else{self.parseJwt=function(e){var t=e.split(".")[1],a=t.replace("-","+").replace("_","/");return JSON.parse(n.atob(a))};var a=self.parseJwt(e),r=Math.floor(Date.now()/1e3);a.exp-r<=5&&(p("expired"),i.cancel(t))}},2e3)}};u(),d.renewSession=function(){d.choiceMade=!0,l.renewSession(d.user.username).then(function(e){e.data.success?(c.setToken(e.data.token),u(),m("expired")):(d.ModalBody=e.data.message,m("expired"))})},d.endSession=function(){d.choiceMade=!0,m("expired"),t(function(){p("logout")},500)};var p=function(a){d.choiceMade=!1,d.modalHeader=void 0,d.modalBody=void 0,d.hideButton=!1,"expired"===a?(d.modalHeader="Timeout Warning",d.modalBody="Your session will expired in 5 minutes. Would you like to renew your session?",$("#myModal").modal({backdrop:"static"})):"logout"===a?(d.hideButton=!0,d.modalHeader="로그아웃",$("#myModal").modal({backdrop:"static"}),t(function(){e.logout(),d.isLoggedIn=!1,m("logout"),r.reload()},2e3)):"login"===a?$("#login").modal({backdrop:"static"}):"upload"===a&&$("#upload").modal({backdrop:"static"}),t(function(){d.choiceMade||m("logout")},4e3)},m=function(e){"expired"===e?$("#myModal").modal("hide"):"logout"===e?$("#myModal").modal("hide"):"login"===e?$("#login").modal("hide"):"upload"===e&&$("#upload").modal("hide")};this.doLogin=function(a,o){d.errorMsg=!1,d.expired=!1,d.disabled=!0,o?e.login(d.loginData).then(function(e){e.data.success?(d.disabled=!0,d.successMsg=e.data.message,t(function(){m("login"),d.loginData=null,d.isLoggedIn=!0,u(),r.reload()},2e3)):e.data.expired?(d.expired=!0,d.disabled=!0,d.errorMsg=e.data.message):(d.disabled=!1,d.errorMsg=e.data.message)}):(d.disabled=!1,d.loading=!1,d.errorMsg="올바른 정보를 입력해주세요.")},this.upload=function(){d.choiceMade=!0,"artist"===d.user.permission?r.go("app.artistProfiles"):l.checkPermission(d.user.username).then(function(e){e.data.success?(r.go("app.artistProfiles"),d.permission=!0):p("upload")})},this.doPermission=function(){d.choiceMade=!0,d.uploadDisabled=!0,d.uploaderrorMsg=!1,l.resetPermission(d.user).then(function(e){e.data.success?(d.uploadDisabled=!0,d.uploadSuccessMsg=e.data.message,t(function(){m("upload"),r.go("app.artistProfiles")},2e3)):(d.uploadDisabled=!1,d.uploaderrorMsg="잘못된 정보가 입력되었습니다.")})},d.login=function(){d.successMsg=!1,d.errorMsg=!1,d.disabled=!1,p("login")},d.logout=function(){p("logout")},d.resend=function(){m("login"),t(function(){r.go("resend"),d.expired=!1},500)},d.resetusername=function(){m("login"),t(function(){r.go("resetusername")},500)},d.resetpassword=function(){m("login"),t(function(){r.go("resetpassword")},500)}}]),angular.module("app").controller("BoardMenuController",["$scope","$http","$stateParams",function(e,t,a){e.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},t.get("/api/boardMenu").then(function(t){e.headers=t.data}),e.getHeaderContent=function(){var r=a.code;t.get("/api/boardMenu/"+r).then(function(t){e.boardes=t.data})}}]),angular.module("app").controller("displayMenuController",["$scope","$http","$stateParams",function(e,t,a){e.data={availableOptions:[{sort:"-created",name:"최신순"}],selectedOption:{sort:"-created",name:"최신순"}},t.get("/api/displayMenu").then(function(t){e.headers=t.data}),e.getHeaderContent=function(){var r=a.code;t.get("/api/displayMenu/"+r).then(function(t){e.displays=t.data})}}]),angular.module("app").controller("MainMenuController",["$http","$scope",function(e,t){e.get("/api/header").then(function(e){t.headers=e.data})}]),angular.module("emailControllers",["userServices"]).controller("emailCtrl",["$stateParams","User","$timeout","$state",function(e,t,a,r){var o=this;t.activeAccount(e.token).then(function(e){o.successMsg=!1,o.errorMsg=!1,e.data.success?(o.disabled=!0,o.successMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3)):(o.errorMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3))})}]).controller("resendCtrl",["User","$timeout","$state",function(e,t,a){app=this,this.checkCredentials=function(r){app.successMsg=!1,app.errorMsg=!1,app.disabled=!0,e.checkCredentials(this.loginData).then(function(r){r.data.success?e.resendLink(app.loginData).then(function(e){e.data.success&&(app.disabled=!0,app.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3))}):(app.disabled=!1,app.errorMsg=r.data.message)})}}]).controller("usernameCtrl",["User","$timeout","$state",function(e,t,a){var r=this;this.sendUsername=function(o,s){r.errorMsg=!1,r.disabled=!0,s?e.sendUsername(r.userData.email).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 이메일 주소가 아닙니다.")}}]).controller("passwordCtrl",["User","$timeout","$state",function(e,t,a){var r=this;r.sendPassword=function(o,s){r.errorMsg=!1,r.disabled=!0,s?e.sendPassword(r.resetData).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 아이디가 아닙니다.")}}]).controller("resetCtrl",["$stateParams","$scope","User","$timeout","$state",function(e,t,a,r,o){var s=this;s.hide=!0,a.resetPassword(e.token).then(function(e){e.data.success?(s.hide=!1,t.alert="alert alert-success",s.successMsg="새로운 비밀번호를 입력해주세요.",t.username=e.data.user[0].username):(t.alert="alert alert-danger",s.errorMsg=e.data.message)}),s.savePassword=function(e,n,i){s.errorMsg=!1,s.successMsg=!1,s.disabled=!0,s.loading=!0,n&&i?(s.regData.username=t.username,a.savePassword(s.regData).then(function(e){s.loading=!1,e.data.success?(t.alert="alert alert-success",s.successMsg=e.data.message+"...메인 화면으로 이동합니다.",r(function(){o.go("app")},2e3)):(t.alert="alert alert-danger",s.disabled=!1,s.errorMsg=e.data.message)})):(t.alert="alert alert-danger",s.loading=!1,s.disabled=!1,s.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("userControllers",["userServices"]).controller("regCtrl",["$http","$location","$timeout","User","Auth","$state",function(e,t,a,r,o,s){var n=this;this.regStep1=function(e){n.errorMsg=!1,e?e.terms&&e.privacy?(n.successMsg="약관에 성공적으로 동의하셨습니다.",n.disabled=!0,s.go("registerStep2")):(n.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다.",n.disabled=!1):n.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다."},this.regStep2=function(e,t,o){n.errorMsg=!1,n.disabled=!0,t&&o?r.create(n.regData).then(function(e){e.data.success?(n.disabled=!0,n.successMsg=e.data.message,a(function(){$("#register").modal("hide"),n.regData=null,n.isLoggedIn=!1,s.go("app")},3e3)):(n.disabled=!1,n.errorMsg=e.data.message)}):(n.disabled=!1,n.loading=!1,n.errorMsg="올바른 정보를 입력해주세요.")}}]).controller("profileCtrl",["$scope","User","$timeout","$state","$http",function(e,t,a,r,o){var s=this,n=e.main.user.username;t.readProfiles(n).then(function(e){e.data.success?s.readData=e.data.profiles:s.errorMsg=e.data.message}),this.file={},this.photoChanged=function(e){if(e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var t=e[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){a(function(){s.thumbnail={},s.thumbnail.dataUrl=e.target.result,s.uploading=!1,s.message=!1})}}else s.thumbnail={},s.message=!1},this.updateProfileImage=function(){s.errorMsg=!1,s.disabled=!0,e.$emit("LOAD");var t=new FormData,n=e.main.user.user_id;t.append("myfile",s.file.upload),o.put("/api/uploadTemp/"+n,t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(t){t.data.success?(e.$emit("UNLOAD"),s.successMsg=t.data.message,s.file={},a(function(){r.reload()},1e3)):(e.$emit("UNLOAD"),s.disabled=!1,s.errorMsg=t.data.message,s.file={})})},this.updateProfile=function(){s.errorMsg=!1,s.disabled=!0,s.readData.user_id=e.main.user.user_id,t.updateProfiles(s.readData).then(function(e){e.data.success?(s.successMsg=e.data.message,a(function(){r.reload()},2e3)):(s.errorMsg=e.data.message,s.disabled=!1)})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsInJvdXRlLmpzIiwiY29udG9yb2xsZXJzL2NvbW1lbnRDdHJsLmpzIiwiY29udG9yb2xsZXJzL2ltYWdlQ3JvcC5qcyIsImNvbnRvcm9sbGVycy9vcGluaW9uQ3RybC5qcyIsInNlcnZpY2VzL2FydGlzdFNlcnZpY2VzLmpzIiwic2VydmljZXMvYXV0aFNlcnZpY2VzLmpzIiwic2VydmljZXMvYm9hcmRTZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2NvbW1lbnRTZXJ2aWNlcy5qcyIsInNlcnZpY2VzL2dhbGxlcnlTZXJ2aWNlcy5qcyIsInNlcnZpY2VzL3VzZXJTZXJ2aWNlcy5qcyIsImRpcmVjdGl2ZXMvZmlsZU1vZGVsLmpzIiwiZGlyZWN0aXZlcy9tYXRjaFBhc3N3b3JkLmpzIiwiY29udG9yb2xsZXJzL2NhdGVnb3JpZXMvYXJ0aXN0Q3RybC5qcyIsImNvbnRvcm9sbGVycy9jYXRlZ29yaWVzL2JvYXJkQ3RybC5qcyIsImNvbnRvcm9sbGVycy9jYXRlZ29yaWVzL2dhbGxlcnlDdHJsLmpzIiwiY29udG9yb2xsZXJzL2NhdGVnb3JpZXMvaG9tZUN0cmwuanMiLCJjb250b3JvbGxlcnMvbWFpbi9tYWluQ3RybC5qcyIsImNvbnRvcm9sbGVycy9tZW51L2JvYXJkTWVudUN0cmwuanMiLCJjb250b3JvbGxlcnMvbWVudS9kaXNwbGF5TWVudUN0cmwuanMiLCJjb250b3JvbGxlcnMvbWVudS9tYWluTWVudUN0cmwuanMiLCJjb250b3JvbGxlcnMvdXNlci9lbWFpbEN0cmwuanMiLCJjb250b3JvbGxlcnMvdXNlci91c2VyQ3RybC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJGh0dHBQcm92aWRlciIsImludGVyY2VwdG9ycyIsInB1c2giLCJhcHAiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ2aWV3cyIsImhlYWRlciIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImNvbnRlbnQiLCJmb290ZXIiLCJjb250cm9sbGVyQXMiLCJhdXRoZW50aWNhdGVkIiwiY29udGVudEAiLCJhcnRpc3QtaGVhZGVyQGFwcC5hcnRpc3QiLCJkZXRhaWxAYXBwLmFydGlzdCIsImdhbGxlcnktaGVhZGVyQGFwcC5nYWxsZXJ5IiwiZGV0YWlsQGFwcC5nYWxsZXJ5IiwiZGlzcGxheS1oZWFkZXJAYXBwLmRpc3BsYXkiLCJkZXRhaWxAYXBwLmRpc3BsYXkiLCJib2FyZC1oZWFkZXJAYXBwLmJvYXJkIiwiY29udGVudEBhcHAuYm9hcmQiLCIkc2NvcGUiLCIkaHR0cCIsIiRzdGF0ZVBhcmFtcyIsIiRzdGF0ZSIsIiR3aW5kb3ciLCJDb21tZW50IiwidGhpcyIsInVzZXJDb21tZW50IiwiY3JlYXRlQ29tbWVudCIsInJlc3BvbnNlIiwicG9zdCIsInRoZW4iLCJkYXRhIiwiY29uc29sZSIsImxvZyIsImdldENvbW1lbnQiLCJwaG90b19pZCIsImJvYXJkX2lkIiwiaWQiLCJwYXJhbXMiLCJoZWFkZXJzIiwiQWNjZXB0IiwiZ2V0IiwiY29tbWVudHMiLCJhZGRDb21tZW50IiwidmFsaWQiLCJjb21tZW50IiwicmVsb2FkIiwiYWxlcnQiLCJkZWxldGVDb21tZW50IiwiY29tbWVudF9pZCIsImRlbGV0ZSIsIm15Q3JvcHBlZEltYWdlIiwibXlJbWFnZSIsInVuZGVmaW5lZCIsImNyb2JqZWN0IiwiaGFuZGxlRmlsZVNlbGVjdCIsImV2dCIsImZpbGUiLCJjdXJyZW50VGFyZ2V0IiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiJGFwcGx5IiwidGFyZ2V0IiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsImVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJvbiIsImltYWdlQ3JvcCIsImltZ0Jsb2IiLCJkb0xpa2VTdGF0dXMiLCJkb0xpa2UiLCJnZXRPcGluaW9uIiwib3BpbmlvbkluZm8iLCJmYWN0b3J5IiwiYXJ0aXN0RmFjdG9yeSIsInJlYWRBcnRpc3RUYXAiLCJyZWFkQXJ0aXN0cyIsInVzZXJfdHlwZSIsInJlYWRBcnRpc3QiLCJhcnRpc3RfaWQiLCJjcmVhdGVBcmlzdFBob3RvIiwicGhvdG9EYXRhIiwidXBkYXRlQXJpc3RQcm9maWxlIiwiYXJ0aXN0RGF0YSIsInB1dCIsInJlYWRBcnRpc3RQcm9maWxlIiwidXNlcl9pZCIsInJlYWRBcmlzdFBob3RvIiwiQXV0aFRva2VuIiwiYXV0aEZhY3RvcnkiLCJnZXRVc2VyIiwiZ2V0VG9rZW4iLCIkcSIsInJlamVjdCIsIm1lc3NhZ2UiLCJsb2dpbiIsImxvZ2luRGF0YSIsInNldFRva2VuIiwidG9rZW4iLCJpc0xvZ2dlZEluIiwibG9nb3V0IiwiYXV0aFRva2VuRmFjdG9yeSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiZ2V0SXRlbSIsImF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5IiwicmVxdWVzdCIsImJvYXJkRmFjdG9yeSIsInJlYWRCb2FyZFRhcCIsInJlYWRCb2FyZHMiLCJib2FyZF90eXBlIiwicmVhZEJvYXJkIiwiY29tbWVudEZhY3RvcnkiLCJjb21tZW50RGF0YSIsImdhbGxlcnlGYWN0b3J5IiwicmVhZEdhbGxlcnlUYXAiLCJyZWFkUGhvdG9zIiwicGhvdG9fdHlwZSIsInJlYWRQaG90b0RhdGEiLCJyZWFkTW9yZVBob3RvIiwidXNlckZhY3RvcnkiLCJjcmVhdGUiLCJyZWdEYXRhIiwiYWN0aXZlQWNjb3VudCIsImNoZWNrQ3JlZGVudGlhbHMiLCJyZXNlbmRMaW5rIiwidXNlcm5hbWUiLCJzZW5kVXNlcm5hbWUiLCJ1c2VyRGF0YSIsInNlbmRQYXNzd29yZCIsInJlc2V0RGF0YSIsInJlc2V0UGFzc3dvcmQiLCJzYXZlUGFzc3dvcmQiLCJyZW5ld1Nlc3Npb24iLCJyZXNldFBlcm1pc3Npb24iLCJjaGVja1Blcm1pc3Npb24iLCJyZWFkUHJvZmlsZXMiLCJ1cGRhdGVQcm9maWxlcyIsInVwZGF0ZURhdGEiLCJkaXJlY3RpdmUiLCIkcGFyc2UiLCJyZXN0cmljdCIsImxpbmsiLCJzY29wZSIsImF0dHJzIiwicGFyc2VkRmlsZSIsImZpbGVNb2RlbCIsInBhcnNlZGZpbGVTZXR0ZXIiLCJhc3NpZ24iLCJiaW5kIiwiZG9Db25maXJtIiwidmFsdWVzIiwiY29uZmlybWVkIiwiZm9yRWFjaCIsImVsZSIsImNvbmZpcm0iLCIkb2JzZXJ2ZSIsIm1hdGNoZXMiLCJKU09OIiwicGFyc2UiLCJtYXRjaCIsIiR3YXRjaCIsIkFydGlzdCIsInN1Y2Nlc3MiLCJlcnJvck1zZyIsImNvZGUiLCJhdmFpbGFibGVPcHRpb25zIiwic29ydCIsIm5hbWUiLCJzZWxlY3RlZE9wdGlvbiIsImFydGlzdERhdGFzIiwiJHRpbWVvdXQiLCJtYWluUGhvdG9DaGFuZ2VkIiwibGVuZ3RoIiwiZmlsZVJlYWRlciIsImUiLCJtYWluVGh1bWJuYWlsIiwiZGF0YVVybCIsInJlYWRQaG90byIsImRpc2FibGVkIiwiJGVtaXQiLCJmZCIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidXBsb2FkIiwidHJhbnNmb3JtUmVxdWVzdCIsImlkZW50aXR5IiwiQ29udGVudC1UeXBlIiwic3VjY2Vzc01zZyIsIm1haW5JbWFnZVBhdGgiLCJwaG90b19wYXRoIiwiY3JlYXRlUGhvdG8iLCJ1cGxvYWREYXRhIiwidGl0bGUiLCJkZXRhaWwiLCJtYWluIiwidXNlciIsInNob3J0X2luZm8iLCJkZXRhaWxfaW5mbyIsInJlYWRBcmlzdFByb2ZpbGUiLCJhcnRpc3RQaG90b3MiLCJCb2FyZCIsImJvYXJkRGF0YXMiLCJ0ZXh0IiwiJCIsInJlYWR5Iiwic3VtbWVybm90ZSIsImxhbmciLCJoZWlnaHQiLCJtaW5IZWlnaHQiLCJtYXhIZWlnaHQiLCJmb2N1cyIsInBsYWNlaG9sZGVyIiwidG9vbGJhciIsIkdhbGxlcnkiLCJwaG90b3NEYXRhIiwiZ2V0Q29udGVudCIsInBob3RvcyIsIkF1dGgiLCIkbG9jYXRpb24iLCIkcm9vdFNjb3BlIiwiJGludGVydmFsIiwiVXNlciIsImxvYWRtZSIsIiRvbiIsImxvYWRpbmciLCJjaGVja1Nlc3Npb24iLCJwZXJtaXNzaW9uIiwiaW50ZXJ2YWwiLCJjYW5jZWwiLCJzZWxmIiwicGFyc2VKd3QiLCJiYXNlNjRVcmwiLCJzcGxpdCIsImJhc2U2NCIsInJlcGxhY2UiLCJhdG9iIiwiZXhwaXJlVGltZSIsInRpbWVTdGFtcCIsIk1hdGgiLCJmbG9vciIsIkRhdGUiLCJub3ciLCJleHAiLCJzaG93TW9kYWwiLCJjaG9pY2VNYWRlIiwiaGlkZU1vZGFsIiwiTW9kYWxCb2R5IiwiZW5kU2Vzc2lvbiIsIm9wdGlvbiIsIm1vZGFsSGVhZGVyIiwibW9kYWxCb2R5IiwiaGlkZUJ1dHRvbiIsIm1vZGFsIiwiYmFja2Ryb3AiLCJkb0xvZ2luIiwiZXhwaXJlZCIsImdvIiwiZG9QZXJtaXNzaW9uIiwidXBsb2FkRGlzYWJsZWQiLCJ1cGxvYWRlcnJvck1zZyIsInVwbG9hZFN1Y2Nlc3NNc2ciLCJyZXNlbmQiLCJyZXNldHVzZXJuYW1lIiwicmVzZXRwYXNzd29yZCIsImdldEhlYWRlckNvbnRlbnQiLCJib2FyZGVzIiwiZGlzcGxheXMiLCJlbWFpbCIsImhpZGUiLCJyZWdTdGVwMSIsInJlZ1N0ZXAyIiwicmVhZERhdGEiLCJwcm9maWxlcyIsInBob3RvQ2hhbmdlZCIsInRodW1ibmFpbCIsInVwbG9hZGluZyIsInVwZGF0ZVByb2ZpbGVJbWFnZSIsInVwZGF0ZVByb2ZpbGUiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLE9BQ0EsWUFDQSxlQUNBLGtCQUNBLGtCQUNBLG1CQUNBLG9CQUNBLHFCQUNBLHFCQUNBLG1CQUNBLGNBQ0FDLFFBQUEsZ0JBQUEsU0FBQUMsR0FDQUEsRUFBQUMsYUFBQUMsS0FBQSxzQkNaQSxJQUFBQyxLQUFBTixRQUFBQyxPQUFBLE1BQ0FLLEtBQUFKLFFBQUEsaUJBQUEscUJBQUEsb0JBQUEsU0FBQUssRUFBQUMsRUFBQUMsR0FDQUQsRUFBQUUsVUFBQSxLQUlBSCxFQUNBSSxNQUFBLE9B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QUFBa1EsY0FBQSxXQUNBaFMsRUFBQThLLFVBQUEsRUFDQTlLLEVBQUE2TCxVQUFBLEVBQ0E3TCxFQUFBMFIsU0FBQTNMLFFBQUF2RSxFQUFBcUwsS0FBQUMsS0FBQS9HLFFBQ0F5SSxFQUFBckYsZUFBQW5KLEVBQUEwUixVQUFBdlAsS0FBQSxTQUFBQyxHQUNBQSxFQUFBQSxLQUFBeUksU0FDQTdLLEVBQUFzTSxXQUFBbEssRUFBQUEsS0FBQW1FLFFBQ0E4RSxFQUFBLFdBQ0ExSixFQUFBd0IsVUFDQSxPQUVBbkQsRUFBQThLLFNBQUExSSxFQUFBQSxLQUFBbUUsUUFDQXZHLEVBQUE2TCxVQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdhcHAnLFtcclxuICAgICd1aS5yb3V0ZXInLFxyXG4gICAgJ3VpLmJvb3RzdHJhcCcsXHJcbiAgICAndXNlckNvbnRyb2xsZXJzJyxcclxuICAgICdtYWluQ29udHJvbGxlcnMnLFxyXG4gICAgJ2VtYWlsQ29udHJvbGxlcnMnLFxyXG4gICAgJ2FydGlzdENvbnRyb2xsZXJzJyxcclxuICAgICdnYWxsZXJ0Q29udHJvbGxlcnMnLFxyXG4gICAgJ2NvbW1lbnRDb250cm9sbGVycycsXHJcbiAgICAnYm9hcmRDb250cm9sbGVycycsXHJcbiAgICAndWlDcm9wcGVyJ1xyXG5dKS5jb25maWcoZnVuY3Rpb24oJGh0dHBQcm92aWRlcil7XHJcbiAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnQXV0aEludGVyY2VwdG9ycycpO1xyXG59KTtcclxuIiwidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcclxuYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcclxuJHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xuLy8gJGxvY2F0aW9uUHJvdmlkZXIuaHRtbDVNb2RlKHRydWUpO1xyXG5cclxuXHJcbiAkc3RhdGVQcm92aWRlclxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwJywge1xyXG4gICAgICAgICAgICAgdXJsOiAnLycsXHJcbiAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICdoZWFkZXInOiB7XHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21lbnVlcy9tYWluTWVudS5odG1sJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ01haW5NZW51Q29udHJvbGxlcidcclxuICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiB7XHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vY2F0ZWdvcmllcy9ob21lLmh0bWwnXHJcbiAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICdmb290ZXInOiB7XHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NvbXBhbnkvZm9vdGVyLmh0bWwnXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncmVnaXN0ZXJTdGVwMScsXHJcbiAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIHVybDogJy9yZWdpc3Rlci9zdGVwMScsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZWdDdHJsJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVnaXN0ZXInLFxyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9pc0xvZ2dlZE91dC9yZWdpc3RlclN0ZXAxLmh0bWwnLFxyXG4gICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZWdpc3RlclN0ZXAyJyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyL3N0ZXAyJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlZ0N0cmwnLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWdpc3RlcicsXHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2lzTG9nZ2VkT3V0L3JlZ2lzdGVyU3RlcDIuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZXNldHVzZXJuYW1lJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJy9yZXNldHVzZXJuYW1lJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9yZXNldC91c2VybmFtZS5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAndXNlcm5hbWVDdHJsJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd1c2VybmFtZSdcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncmVzZXRwYXNzd29yZCcsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZXRwYXNzd29yZCcsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVzZXQvcGFzc3dvcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Bhc3N3b3JkQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncGFzc3dvcmQnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Jlc2V0JyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJy9yZXNldC86dG9rZW4nLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3Jlc2V0L25ld3Bhc3N3b3JkLmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZXNldEN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Jlc2V0J1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYWN0aXZhdGUnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2FjdGl2YXRlLzp0b2tlbicsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvYWN0aXZhdGlvbi9hY3RpdmF0ZS5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZW1haWxDdHJsJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdlbWFpbCdcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncmVzZW5kJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJy9yZXNlbmQnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL2FjdGl2YXRpb24vcmVzZW5kLmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZXNlbmRDdHJsJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZXNlbmQnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuXHJcbiAgLy8g7Jyg7KCAIO2UhOuhnO2VhCDrqqjslYQg64aT7J2AIOqzsyAgLyDqs4TsoJUg7KCV67O0XHJcbiAgICAgICAgICAgLnN0YXRlKCdhcHAucHJvZmlsZXMnLCB7XHJcbiAgICAgICAgICAgICB1cmw6ICdwcm9maWxlcycsXHJcbiAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaXNMb2dnZWRJbi91c2VyUHJvZmlsZXMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncHJvZmlsZUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncHJvZmlsZScsXHJcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG5cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuLy8g7J6R6rCAIOyeke2SiCDrqqjslYQg64aT7J2AIOqzs1xyXG4gICAgICAgICAgLnN0YXRlKCdhcHAucGhvdG9zJywge1xyXG4gICAgICAgICAgICB1cmw6ICdwaG90b3MnLFxyXG4gICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdpc0xvZ2dlZEluL2FydGlzdFBob3Rvcy5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhcnRpc3RQaG90b0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYXJ0aXN0UGhvdG8nLFxyXG4gICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9KVxyXG5cclxuLy8g65Ox66Gd65CcIOyekeqwgOydmCDsnpHtkogg7JeF66Gc65OcICYg7J6R6rCAIO2UhOuhnO2VhFxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwLmFydGlzdFByb2ZpbGVzJywge1xyXG4gICAgICAgICAgICAgdXJsOiAnYXJ0aXN0JyxcclxuICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdpc0xvZ2dlZEluL2FydGlzdFByb2ZpbGVzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2FydGlzdFByb2ZpbGVDdHJsJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2FydGlzdFByb2ZpbGUnLFxyXG4gICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogdHJ1ZVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmludHJvJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJ2ludHJvJyxcclxuICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NvbXBhbnkvaW50cm8uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAudGVybXMnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAndGVybXMnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS90ZXJtcy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5wcml2YWN5JyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJ3ByaXZhY3knLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS9wcml2YWN5Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT0gIGFydGlzdCAvIGdhbGxlcnkgLyBleGhpYml0aW9uIC8gYm9hcmQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG4vLyA9PT09PT09PT09PT09PT09PT0gIGFydGlzdCDsubTthYzqs6DrpqwgPT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuYXJ0aXN0Jywge1xyXG4gICAgICAgICAgICAgIHVybDogJ2FydGlzdCcsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NhdGVnb3JpZXMvYXJ0aXN0Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYXJ0aXN0c0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhcnRpc3RzJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnYXJ0aXN0LWhlYWRlckBhcHAuYXJ0aXN0Jzp7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21lbnVlcy9zdWJNZW51Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYXJ0aXN0VGFwQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2FydGlzdFRhcCcsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5hcnRpc3QuY2F0ZWdvcmllcycsIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvY2F0ZWdvcnk9OmNvZGUnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAnZGV0YWlsQGFwcC5hcnRpc3QnOntcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEFydGlzdC9hcnRpc3RzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYXJ0aXN0c0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhcnRpc3RzJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgLnN0YXRlKCdhcHAuYXJ0aXN0LnNob3cnLCB7XHJcbiAgICAgICAgICAgICAgIHVybDogJy86YXJ0aXN0X2lkJyxcclxuICAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgICdjb250ZW50QCc6e1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEFydGlzdC9hcnRpc3QuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYXJ0aXN0UGhvdG9DdHJsJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2FydGlzdFBob3RvJyxcclxuICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSlcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT0gIGFydGlzdCAvIGdhbGxlcnkgLyBleGhpYml0aW9uIC8gYm9hcmQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG4vLyA9PT09PT09PT09PT09PT09PT0gIGdhbGxlcnkg7Lm07YWM6rOg66asID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy9cclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLmdhbGxlcnknLCB7XHJcbiAgICAgICAgICAgIHVybDogJ2dhbGxlcnknLFxyXG4gICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgJ2dhbGxlcnktaGVhZGVyQGFwcC5nYWxsZXJ5Jzp7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tZW51ZXMvc3ViTWVudS5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdnYWxsZXJ5VGFwQ3RybCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnYWxsZXJ5VGFwJ1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjYXRlZ29yaWVzL2dhbGxlcnkuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZ2FsbGVyeVBob3Rvc0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZ2FsbGVyeVBob3RvcycsXHJcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuZ2FsbGVyeS5jYXRlZ29yaWVzJywge1xyXG4gICAgICAgICAgICB1cmw6ICcvY2F0ZWdvcnk9OmNvZGUnLFxyXG4gICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICdkZXRhaWxAYXBwLmdhbGxlcnknOntcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxHYWxsZXJ5L3Bob3Rvcy5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdnYWxsZXJ5UGhvdG9zQ3RybCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnYWxsZXJ5UGhvdG9zJyxcclxuICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAuc3RhdGUoJ2FwcC5nYWxsZXJ5LnNob3cnLCB7XHJcbiAgICAgICAgICAgICB1cmw6ICcvY2F0ZWdvcnk9OnBob3RvX3R5cGUvcGhvdG86cGhvdG9faWQnLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnY29udGVudEAnOntcclxuICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsR2FsbGVyeS9waG90by5odG1sJyxcclxuICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZ2FsbGVyeVBob3RvQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZ2FsbGVyeXBob3RvJyxcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuZ2FsbGVyeS5lZGl0Jywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9lZGl0LzpwaG90b19pZCcsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzp7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxHYWxsZXJ5L3Bob3RvRWRpdC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dhbGxlcnlQaG90b0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnYWxsZXJ5cGhvdG8nLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH0pXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT0gIGFydGlzdCAvIGdhbGxlcnkgLyBleGhpYml0aW9uIC8gYm9hcmQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG4vLyA9PT09PT09PT09PT09PT09PT0gIGV4aGliaXRpb24g7Lm07YWM6rOg66asID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy9cclxuXHJcbiAgICAgICAgICAgICAgLnN0YXRlKCdhcHAuZGlzcGxheScsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ2Rpc3BsYXknLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjYXRlZ29yaWVzL2Rpc3BsYXkuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgJ2Rpc3BsYXktaGVhZGVyQGFwcC5kaXNwbGF5Jzp7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWVudWVzL3N1Yk1lbnUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2Rpc3BsYXlNZW51Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAuc3RhdGUoJ2FwcC5kaXNwbGF5LmNhdGVnb3JpZXMnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvY2F0ZWdvcnk9OmNvZGUnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgJ2RldGFpbEBhcHAuZGlzcGxheSc6e1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxEaXNwbGF5L2NvbnRlbnQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2Rpc3BsYXlNZW51Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09ICBhcnRpc3QgLyBnYWxsZXJ5IC8gZXhoaWJpdGlvbiAvIGJvYXJkID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy9cclxuLy8gPT09PT09PT09PT09PT09PT09ICBib2FyZCDsubTthYzqs6DrpqwgPT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuYm9hcmQnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnYm9hcmQnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjYXRlZ29yaWVzL2JvYXJkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYm9hcmRzQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2JvYXJkcycsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ2JvYXJkLWhlYWRlckBhcHAuYm9hcmQnOntcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWVudWVzL2JvYXJkTWVudS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2JvYXJkVGFwQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5ib2FyZC5jYXRlZ29yaWVzJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9jYXRlZ29yeT06Y29kZScsXHJcbiAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdjb250ZW50QGFwcC5ib2FyZCc6e1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsQm9hcmQvYm9hcmRzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYm9hcmRzQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2JvYXJkcycsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuYm9hcmQuY3JlYXRlJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDonL2NyZWF0ZScsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAYXBwLmJvYXJkJzp7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOicvcGFydGlhbEJvYXJkL2JvYXJkQ3JlYXRlLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYm9hcmRDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYm9hcmQnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAuc3RhdGUoJ2FwcC5ib2FyZC5zaG93JyxcclxuICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICB1cmw6ICcvOmJvYXJkX2lkJyxcclxuICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnRAYXBwLmJvYXJkJzp7XHJcbiAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFsQm9hcmQvYm9hcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2JvYXJkQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYm9hcmQnLFxyXG4gICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgLnN0YXRlKCdhcHAuYm9hcmQuZWRpdCcsXHJcbiAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgdXJsOiAnL2VkaXQvOmJvYXJkX2lkJyxcclxuICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnRAYXBwLmJvYXJkJzp7XHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbEJvYXJkL2JvYXJkVXBkYXRlLmh0bWwnLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYm9hcmRDdHJsJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYm9hcmQnLFxyXG4gICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiB0cnVlXHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICB9KTtcblxyXG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdjb21tZW50Q29udHJvbGxlcnMnLFsnY29tbWVudFNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdjb21tZW50Q3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgJHdpbmRvdywgQ29tbWVudCkge1xyXG4gIC8vIGlk7JeQIO2VtOuLue2VmOuKlCDqsJLsnYQg67O07Jes7KO864qUIO2VqOyImFxyXG4gIC8vIOqwkuydhCDqsIDsoLjsmKTripQg7ZWo7IiYXHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgJHNjb3BlLnVzZXJDb21tZW50ID0gZmFsc2U7XHJcblxyXG4gIC8vIOy9lOupmO2KuCDsg53shLHtlZjquLBcclxuICAgIHRoaXMuY3JlYXRlQ29tbWVudCA9IGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL2NvbW1lbnQnLCBhcHAucmVzcG9uc2UpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICB9KTtcclxuICAgICAgLy8gaWYodmFsaWQpe1xyXG4gICAgICAvLyAgIENvbW1lbnQuY3JlYXRlQ29tbWVudChhcHAucmVzcG9uc2UpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIC8vXHJcbiAgICAgIC8vXHJcbiAgICAgIC8vICAgfSk7XHJcbiAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgIC8vICAgYXBwLmVycm9yTXNnID0gJyc7XHJcbiAgICAgIC8vIH1cclxuICAgICAgLy8gaWYodmFsaWQpe1xyXG4gICAgICAvLyAgIHZhciBib2FyZF9pZCA9IHJlc3BvbnNlLmJvYXJkX2lkO1xyXG4gICAgICAvLyAgIHZhciBwaG90b19pZCA9IHJlc3BvbnNlLnBob3RvX2lkO1xyXG4gICAgICAvLyAgIHZhciBjb21tZW50ICA9IHJlc3BvbnNlLmNvbW1lbnQ7XHJcbiAgICAgIC8vICAgICRodHRwLnBvc3QoJy9hcGkvY29tbWVudCcsIHtcclxuICAgICAgLy8gICAgICBib2FyZF9pZDogYm9hcmRfaWQsIHBob3RvX2lkOiBwaG90b19pZCwgY29tbWVudDogY29tbWVudFxyXG4gICAgICAvLyAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgLy8gICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgIC8vICAgIH0pO1xyXG4gICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAvLyAgICR3aW5kb3cuYWxlcnQoXCLrjJPquIDsnYQg7J6F66Cl7ZW07KO87IS47JqULlwiKTtcclxuICAgICAgLy8gfVxyXG5cclxuICAgIH07XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICRzY29wZS5nZXRDb21tZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBwaG90b19pZCA9ICRzdGF0ZVBhcmFtcy5waG90b19pZDtcclxuICAgIHZhciBib2FyZF9pZCA9ICRzdGF0ZVBhcmFtcy5ib2FyZF9pZDtcclxuICAgIHZhciBpZCA9IFwiXCI7XHJcblxyXG4gICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgIHBob3RvX2lkOnBob3RvX2lkLFxyXG4gICAgICBib2FyZF9pZDpib2FyZF9pZFxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgY29uZmlnID0ge1xyXG4gICAgICBwYXJhbXM6IGRhdGEsXHJcbiAgICAgIGhlYWRlcnMgOiB7J0FjY2VwdCcgOiAnYXBwbGljYXRpb24vanNvbid9XHJcbiAgICB9O1xyXG5cclxuICAgIGlmKHBob3RvX2lkKXtcclxuICAgICAgaWQgPSBwaG90b19pZDtcclxuICAgICAgJGh0dHAuZ2V0KCcvYXBpL2NvbW1lbnQvJytpZCwgY29uZmlnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAkc2NvcGUuY29tbWVudHMgPSByZXNwb25zZS5kYXRhWzBdO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYoYm9hcmRfaWQpe1xyXG4gICAgICBpZCA9IGJvYXJkX2lkO1xyXG4gICAgICAkaHR0cC5nZXQoJy9hcGkvY29tbWVudC8nK2lkLCBjb25maWcpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICRzY29wZS5jb21tZW50cyA9IHJlc3BvbnNlLmRhdGFbMF07XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkc2NvcGUuY29tbWVudHMgPSAn7Iuc7Iqk7YWc7J20IOu2iOyViOygle2VqeuLiOuLpC4nO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIOy9lOupmO2KuCDsg53shLHtlZjquLBcclxuICAgICRzY29wZS5hZGRDb21tZW50ID0gZnVuY3Rpb24ocmVzcG9uc2UsIHZhbGlkKXtcclxuICAgICAgaWYodmFsaWQpe1xyXG4gICAgICAgIHZhciBib2FyZF9pZCA9IHJlc3BvbnNlLmJvYXJkX2lkO1xyXG4gICAgICAgIHZhciBwaG90b19pZCA9IHJlc3BvbnNlLnBob3RvX2lkO1xyXG4gICAgICAgIHZhciBjb21tZW50ICA9IHJlc3BvbnNlLmNvbW1lbnQ7XHJcbiAgICAgICAgICRodHRwLnBvc3QoJy9hcGkvY29tbWVudCcsIHtcclxuICAgICAgICAgICBib2FyZF9pZDogYm9hcmRfaWQsIHBob3RvX2lkOiBwaG90b19pZCwgY29tbWVudDogY29tbWVudFxyXG4gICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICR3aW5kb3cuYWxlcnQoXCLrjJPquIDsnYQg7J6F66Cl7ZW07KO87IS47JqULlwiKTtcclxuICAgICAgfVxyXG5cclxuICAgIH07XHJcblxyXG5cclxuICAvLyDqsJLsnYQg7IKt7KCc7ZWY64qUIO2VqOyImFxyXG4gICRzY29wZS5kZWxldGVDb21tZW50ID0gZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgdmFyIGlkID0gcmVzcG9uc2UuY29tbWVudF9pZDtcclxuICBcdCRodHRwLmRlbGV0ZSgnL2FwaS9jb21tZW50LycraWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgXHR9KTtcclxuICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgLmNvbnRyb2xsZXIoJ0ltYWdlQ3JvcEN0cmwnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICAgICAgJHNjb3BlLm15Q3JvcHBlZEltYWdlID0gJyc7XHJcbiAgICAgICRzY29wZS5teUltYWdlID0gdW5kZWZpbmVkO1xyXG4gICAgICAkc2NvcGUuY3JvYmplY3QgPSB7fTtcclxuXHJcbiAgICAgIHZhciBoYW5kbGVGaWxlU2VsZWN0ID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgdmFyIGZpbGUgPSBldnQuY3VycmVudFRhcmdldC5maWxlc1swXTtcclxuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUubXlJbWFnZSA9IGV2dC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgfTtcclxuICAgICAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaWxlSW5wdXQnKSkub24oJ2NoYW5nZScsIGhhbmRsZUZpbGVTZWxlY3QpO1xyXG5cblxuICAgICAgdGhpcy5pbWFnZUNyb3AgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaW1nQmxvYiA9ICRzY29wZS5teUltYWdlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGltZ0Jsb2IpO1xuICAgICAgfTtcclxuICAgIH0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdPcGluaW9uQ29udHJvbGxlcicsIGZ1bmN0aW9uICggJHNjb3BlLCAkaHR0cCwgJHN0YXRlUGFyYW1zKSB7XHJcblxyXG4vLyDsoovslYTsmpQg6rCA7KC47Jik6riwXHJcbi8vIOuMk+q4gCDqsJzsiJgg6rCA7KC47Jik6riwXHJcbiRzY29wZS5kb0xpa2VTdGF0dXMgPSB0cnVlO1xyXG4gICAkc2NvcGUuZG9MaWtlID0gZnVuY3Rpb24oKXtcclxuICAgICAkc2NvcGUuZG9MaWtlU3RhdHVzID0gISRzY29wZS5kb0xpa2VTdGF0dXM7XHJcbiAgIH07XHJcblxyXG5cclxuLy8g6rKM7Iuc7YyQ7JeQIO2VtOuLue2VmOuKlCDrjJPquIAg67CPIOyii+yVhOyalCDqsIDsoLjsmKTquLBcclxuICAkc2NvcGUuZ2V0T3BpbmlvbiA9IGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgIFx0XHR2YXIgaWQgPSAkc3RhdGVQYXJhbXMuaWQ7XHJcbiAgICAkaHR0cC5nZXQoJy9hcGkvb3Bpbmlvbi8nK2lkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgJHNjb3BlLm9waW5pb25JbmZvID0gcmVzcG9uc2UuZGF0YVswXVswXTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIC8vICRzY29wZS5hZGRMaWtlID0gZnVuY3Rpb24oKXtcclxuICAvLyAgICRzY29wZS5saWtlU3RhdHVzID0gISRzY29wZS5saWtlU3RhdHVzO1xyXG4gIC8vICAgaWYoJHNjb3BlLmxpa2VTdGF0dXMpe1xyXG4gIC8vICAgICBjb25zb2xlLmxvZygn7IKs7Jqp7J6Q6rCAIOyii+yVhOyalOulvCDst6jshoztlanri4jri6QuJyk7XHJcbiAgLy8gICAgIHZhciBpZCA9ICRzdGF0ZVBhcmFtcy5pZDtcclxuICAvLyAgICAgJGh0dHAuZGVsZXRlKCcvYXBpL29waW5pb24vJytpZCx7XHJcbiAgLy8gICAgICAgICBib2FyZF9pZDppZFxyXG4gIC8vICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAvLyAgICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAvLyAgICAgfSk7XHJcbiAgLy8gICB9ZWxzZSB7XHJcbiAgLy8gICAgIGNvbnNvbGUubG9nKCfsgqzsmqnsnpDqsIAg7KKL7JWE7JqU66W8IOuIjOuggOyKteuLiOuLpC4nKTtcclxuICAvLyAgICAgdmFyIGJvYXJkX2lkID0gJHN0YXRlUGFyYW1zLmlkO1xyXG4gIC8vICAgICAkaHR0cC5wb3N0KCcvYXBpL29waW5pb24vJyx7XHJcbiAgLy8gICAgICAgICBib2FyZF9pZDpib2FyZF9pZFxyXG4gIC8vICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAvLyAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAvLyAgICAgfSk7XHJcbiAgLy8gICB9XHJcbiAgLy8gfTtcclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXJ0aXN0U2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnQXJ0aXN0JywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIGFydGlzdEZhY3RvcnkgPSB7fTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT0gQXJ0aXN0IENhdGVnb3J5ID09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG4gIGFydGlzdEZhY3RvcnkucmVhZEFydGlzdFRhcCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9hcnRpc3RNZW51Jyk7XHJcbiAgfTtcclxuXHJcbiAgYXJ0aXN0RmFjdG9yeS5yZWFkQXJ0aXN0cyA9IGZ1bmN0aW9uKHVzZXJfdHlwZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2FydGlzdE1lbnUvJyt1c2VyX3R5cGUpO1xyXG4gIH07XHJcblxyXG4gIGFydGlzdEZhY3RvcnkucmVhZEFydGlzdCA9IGZ1bmN0aW9uKGFydGlzdF9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2FydGlzdC8nK2FydGlzdF9pZCk7XHJcbiAgfTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXHJcblxyXG4vLyBBcnRpc3QuY3JlYXRlUGhvdG8ocGhvdG9EYXRhKVxyXG4gIGFydGlzdEZhY3RvcnkuY3JlYXRlQXJpc3RQaG90byA9IGZ1bmN0aW9uKHBob3RvRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9hcnRpc3RQcm9maWxlcycsIHBob3RvRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIEFydGlzdC51cGRhdGVBcmlzdEluZm8oYXJ0aXN0RGF0YSlcclxuICBhcnRpc3RGYWN0b3J5LnVwZGF0ZUFyaXN0UHJvZmlsZSA9IGZ1bmN0aW9uKGFydGlzdERhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9hcnRpc3RQcm9maWxlcycsIGFydGlzdERhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBBcnRpc3QucmVhZEFydGlzdFByb2ZpbGUodXNlcl9pZClcclxuICBhcnRpc3RGYWN0b3J5LnJlYWRBcnRpc3RQcm9maWxlID0gZnVuY3Rpb24odXNlcl9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2FydGlzdFByb2ZpbGVzLycrdXNlcl9pZCk7XHJcbiAgfTtcclxuXHJcbi8vXHJcbiAgYXJ0aXN0RmFjdG9yeS5yZWFkQXJpc3RQaG90byA9IGZ1bmN0aW9uKHVzZXJfaWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9hcnRpc3RQaG90b3MvJyt1c2VyX2lkKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gYXJ0aXN0RmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhdXRoU2VydmljZXMnLFtdKVxyXG5cclxuLmZhY3RvcnkoJ0F1dGgnLCBmdW5jdGlvbigkaHR0cCwgQXV0aFRva2VuKXtcclxuICAgIHZhciBhdXRoRmFjdG9yeSA9IHt9O1xyXG5cclxuXHJcbi8vIEF1dGguZ2V0VXNlcigpO1xyXG4gICAgYXV0aEZhY3RvcnkuZ2V0VXNlciA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGlmKEF1dGhUb2tlbi5nZXRUb2tlbigpKXtcclxuICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9tZScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICRxLnJlamVjdCh7bWVzc2FnZTonVXNlciBoYXMgbm8gdG9rZW4nfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4vLyBBdXRoLmxvZ2luKGxvZ2luRGF0YSk7XHJcbiAgICBhdXRoRmFjdG9yeS5sb2dpbiA9IGZ1bmN0aW9uKGxvZ2luRGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2F1dGhlbnRpY2F0ZScsIGxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oZGF0YS5kYXRhLnRva2VuKTtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuLy8gQXV0aC5pc0xvZ2dlZEluKCk7XHJcbiAgICBhdXRoRmFjdG9yeS5pc0xvZ2dlZEluID0gZnVuY3Rpb24oKXtcclxuICAgICAgaWYoQXV0aFRva2VuLmdldFRva2VuKCkpe1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbi8vIEF1dGgubG9nb3V0KCk7XHJcbiAgICBhdXRoRmFjdG9yeS5sb2dvdXQgPSBmdW5jdGlvbigpe1xyXG4gICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gYXV0aEZhY3Rvcnk7XHJcbn0pXHJcblxyXG4uZmFjdG9yeSgnQXV0aFRva2VuJywgZnVuY3Rpb24oJHdpbmRvdyl7XHJcbiAgdmFyIGF1dGhUb2tlbkZhY3RvcnkgPSB7fTtcclxuXHJcbiAgLy8gQXV0aFRva2VuLnNldFRva2VuKHRva2VuKTtcclxuICBhdXRoVG9rZW5GYWN0b3J5LnNldFRva2VuID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgaWYodG9rZW4pe1xyXG4gICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTtcclxuICAgIH1lbHNlIHtcclxuICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nLCB0b2tlbik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbi8vIEF1dGhUb2tlbi5nZXRUb2tlbigpO1xyXG4gIGF1dGhUb2tlbkZhY3RvcnkuZ2V0VG9rZW4gPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcbiAgfTtcclxuICByZXR1cm4gYXV0aFRva2VuRmFjdG9yeTtcclxufSlcclxuXHJcbi5mYWN0b3J5KCdBdXRoSW50ZXJjZXB0b3JzJywgZnVuY3Rpb24oQXV0aFRva2VuKXtcclxuICB2YXIgYXV0aEludGVyY2VwdG9yc0ZhY3RvcnkgPSB7fTtcclxuXHJcbiAgYXV0aEludGVyY2VwdG9yc0ZhY3RvcnkucmVxdWVzdCA9IGZ1bmN0aW9uKGNvbmZpZyl7XHJcbiAgICB2YXIgdG9rZW4gPSBBdXRoVG9rZW4uZ2V0VG9rZW4oKTtcclxuXHJcbiAgICBpZih0b2tlbikgY29uZmlnLmhlYWRlcnNbJ3gtYWNjZXNzLXRva2VuJ10gPSB0b2tlbjtcclxuXHJcbiAgICByZXR1cm4gY29uZmlnO1xyXG4gIH07XHJcbiAgcmV0dXJuIGF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2JvYXJkU2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnQm9hcmQnLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgYm9hcmRGYWN0b3J5ID0ge307XHJcblxyXG4gIGJvYXJkRmFjdG9yeS5yZWFkQm9hcmRUYXAgPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9ib2FyZE1lbnUnKTtcclxuICB9O1xyXG5cclxuICBib2FyZEZhY3RvcnkucmVhZEJvYXJkcyA9IGZ1bmN0aW9uKGJvYXJkX3R5cGUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9ib2FyZE1lbnUvJytib2FyZF90eXBlKTtcclxuICB9O1xyXG5cclxuICBib2FyZEZhY3RvcnkucmVhZEJvYXJkID0gZnVuY3Rpb24oYm9hcmRfaWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnYXBpL2JvYXJkLycrYm9hcmRfaWQpO1xyXG4gIH07XHJcblxyXG5cclxuICByZXR1cm4gYm9hcmRGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2NvbW1lbnRTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdDb21tZW50JywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIGNvbW1lbnRGYWN0b3J5ID0ge307XHJcblxyXG4vLyBHYWxsZXJ5LnJlYWRQaG90b0RhdGEodXNlcl9pZClcclxuICBjb21tZW50RmFjdG9yeS5jcmVhdGVDb21tZW50ID0gZnVuY3Rpb24oY29tbWVudERhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvY29tbWVudCcsY29tbWVudERhdGEpO1xyXG4gIH07XHJcblxyXG5cclxuICByZXR1cm4gY29tbWVudEZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnZ2FsbGVyeVNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ0dhbGxlcnknLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgZ2FsbGVyeUZhY3RvcnkgPSB7fTtcclxuXHJcbi8vIEdhbGxlcnkucmVhZEdhbGxlcnlUYXAoKVxyXG4gIGdhbGxlcnlGYWN0b3J5LnJlYWRHYWxsZXJ5VGFwID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAgJGh0dHAuZ2V0KCcvYXBpL2dhbGxlcnlNZW51Jyk7XHJcbiAgfTtcclxuXHJcbi8vIEdhbGxlcnkucmVhZFBob3RvcyhwaG90b190eXBlKTtcclxuICBnYWxsZXJ5RmFjdG9yeS5yZWFkUGhvdG9zID0gZnVuY3Rpb24ocGhvdG9fdHlwZSl7XHJcbiAgICByZXR1cm4gICRodHRwLmdldCgnL2FwaS9nYWxsZXJ5TWVudS8nK3Bob3RvX3R5cGUpO1xyXG5cclxuICB9O1xyXG4vLyBHYWxsZXJ5LnJlYWRQaG90b0RhdGEodXNlcl9pZClcclxuICBnYWxsZXJ5RmFjdG9yeS5yZWFkUGhvdG9EYXRhID0gZnVuY3Rpb24ocGhvdG9faWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9nYWxsZXJ5LycrcGhvdG9faWQpO1xyXG4gIH07XHJcblxyXG4gIGdhbGxlcnlGYWN0b3J5LnJlYWRNb3JlUGhvdG8gPSBmdW5jdGlvbihwaG90b190eXBlKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvZ2FsbGVyeU1lbnUvJysgcGhvdG9fdHlwZSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIHJldHVybiBnYWxsZXJ5RmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCd1c2VyU2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnVXNlcicsIGZ1bmN0aW9uKCRodHRwKXtcclxuICB1c2VyRmFjdG9yeSA9IHt9O1xyXG5cclxuLy8gVXNlci5jcmVhdGUocmVnRGF0YSlcclxuICB1c2VyRmFjdG9yeS5jcmVhdGUgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzJywgcmVnRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuYWN0aXZlQWNjb3VudCh0b2tlbik7XHJcbiAgdXNlckZhY3RvcnkuYWN0aXZlQWNjb3VudCA9IGZ1bmN0aW9uKHRva2VuKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvYWN0aXZhdGUvJyt0b2tlbik7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuY2hlY2tDcmVkZW50aWFscyhsb2dpbkRhdGEpO1xyXG4gIHVzZXJGYWN0b3J5LmNoZWNrQ3JlZGVudGlhbHMgPSBmdW5jdGlvbihsb2dpbkRhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvcmVzZW5kJywgbG9naW5EYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5yZXNlbmRMaW5rKHVzZXJuYW1lKVxyXG4gIHVzZXJGYWN0b3J5LnJlc2VuZExpbmsgPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3Jlc2VuZCcsIHVzZXJuYW1lKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5zZW5kVXNlcm5hbWUodXNlckRhdGEpO1xyXG4gIHVzZXJGYWN0b3J5LnNlbmRVc2VybmFtZSA9IGZ1bmN0aW9uKHVzZXJEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcmVzZXR1c2VybmFtZS8nK3VzZXJEYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5zZW5kUGFzc3dvcmQocmVzZXREYXRhKTtcclxuICB1c2VyRmFjdG9yeS5zZW5kUGFzc3dvcmQgPSBmdW5jdGlvbihyZXNldERhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9yZXNldHBhc3N3b3JkJywgcmVzZXREYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5yZXNldFBhc3N3b3JkKHRva2VuKTtcclxuICB1c2VyRmFjdG9yeS5yZXNldFBhc3N3b3JkID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9yZXNldHBhc3N3b3JkLycrdG9rZW4pO1xyXG4gIH07XHJcblxyXG5cclxuLy8gVXNlci5zYXZlUGFzc3dvcmQocmVnRGF0YSlcclxuICB1c2VyRmFjdG9yeS5zYXZlUGFzc3dvcmQgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvc2F2ZXBhc3N3b3JkJywgcmVnRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vICBVc2VyLnJlbmV3U2Vzc2lvbih1c2VybmFtZSlcclxuICB1c2VyRmFjdG9yeS5yZW5ld1Nlc3Npb24gPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3JlbmV3VG9rZW4vJysgdXNlcm5hbWUpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLnJlc2V0UGVybWlzc2lvbih1c2VyRGF0YSlcclxuICB1c2VyRmFjdG9yeS5yZXNldFBlcm1pc3Npb24gPSBmdW5jdGlvbih1c2VyRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3VzZXJzLycsIHVzZXJEYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5jaGVja1Blcm1pc3Npb24odXNlckRhdGEpXHJcbiAgdXNlckZhY3RvcnkuY2hlY2tQZXJtaXNzaW9uID0gZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy8nK3VzZXJuYW1lKTtcclxuICB9O1xyXG5cclxuXHJcbi8vIHJlc2V0IC8gY2hlY2sgLyByZW5ldyAvIHNhdmUgLyBzZW5kIC8vIHJlc2VuZFxyXG5cclxuLy8gQ3JlYXRlIC8vIHJlYWQgLy8gdXBkYXRlIC8vIGRlbGV0ZSAvL1xyXG5cclxuLy8gVXNlci5yZWFkUHJvZmlsZXModXNlcm5hbWUpXHJcbiAgdXNlckZhY3RvcnkucmVhZFByb2ZpbGVzID0gZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2VyUHJvZmlsZXMvJyt1c2VybmFtZSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIudXBkYXRlUHJvZmlsZXModXBkYXRlRGF0YSlcclxuICB1c2VyRmFjdG9yeS51cGRhdGVQcm9maWxlcyA9IGZ1bmN0aW9uKHVwZGF0ZURhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS91c2VyUHJvZmlsZXMnLCB1cGRhdGVEYXRhKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gdXNlckZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmRpcmVjdGl2ZSgnZmlsZU1vZGVsJyxmdW5jdGlvbigkcGFyc2Upe1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuICAgICAgdmFyIHBhcnNlZEZpbGUgPSAkcGFyc2UoYXR0cnMuZmlsZU1vZGVsKTtcclxuICAgICAgdmFyIHBhcnNlZGZpbGVTZXR0ZXIgPSBwYXJzZWRGaWxlLmFzc2lnbjtcclxuXHJcbiAgICAgIGVsZW1lbnQuYmluZCgnY2hhbmdlJyxmdW5jdGlvbigpe1xyXG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpe1xyXG4gICAgICAgICAgcGFyc2VkZmlsZVNldHRlcihzY29wZSwgZWxlbWVudFswXS5maWxlc1swXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmRpcmVjdGl2ZSgnbWF0Y2gnLGZ1bmN0aW9uKCl7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICBjb250cm9sbGVyOmZ1bmN0aW9uKCRzY29wZSl7XHJcbiAgICAgICRzY29wZS5kb0NvbmZpcm0gPSBmdW5jdGlvbih2YWx1ZXMpe1xyXG5cclxuICAgICAgICAkc2NvcGUuY29uZmlybWVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24oZWxlKXtcclxuICAgICAgICAgIGlmKCRzY29wZS5jb25maXJtID09IGVsZSl7XHJcbiAgICAgICAgICAgICRzY29wZS5jb25maXJtZWQgPSB0cnVlO1xyXG4gICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuY29uZmlybWVkID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9LFxyXG5cclxuICAgIGxpbms6ZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuICAgICAgYXR0cnMuJG9ic2VydmUoJ21hdGNoJywgZnVuY3Rpb24oKXtcclxuICAgICAgICBzY29wZS5tYXRjaGVzID0gSlNPTi5wYXJzZShhdHRycy5tYXRjaCk7XHJcbiAgICAgICAgc2NvcGUuZG9Db25maXJtKHNjb3BlLm1hdGNoZXMpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHNjb3BlLiR3YXRjaCgnY29uZmlybScsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2NvcGUubWF0Y2hlcyA9IEpTT04ucGFyc2UoYXR0cnMubWF0Y2gpO1xyXG4gICAgICAgIHNjb3BlLmRvQ29uZmlybShzY29wZS5tYXRjaGVzKTtcclxuXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXJ0aXN0Q29udHJvbGxlcnMnLFsndXNlclNlcnZpY2VzJywgJ2FydGlzdFNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdhcnRpc3RUYXBDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBBcnRpc3Qpe1xyXG4gIC8vIOyghOyytCDrqZTribQg6rCA7KC47Jik6riwXHJcbiAgQXJ0aXN0LnJlYWRBcnRpc3RUYXAoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAkc2NvcGUuaGVhZGVycyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdhcnRpc3RzQ3RybCcsIGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMsIEFydGlzdCkge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICB2YXIgdXNlcl90eXBlID0gJHN0YXRlUGFyYW1zLmNvZGU7XHJcblxyXG4gICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfVxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246ICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgfTtcclxuXHJcbiAgICAgIEFydGlzdC5yZWFkQXJ0aXN0cyh1c2VyX3R5cGUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLmFydGlzdERhdGFzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCd1cGxvYWRDdHJsJywgZnVuY3Rpb24gKCRodHRwLCAkdGltZW91dCwgJHNjb3BlLCBBcnRpc3QsICRzdGF0ZSkge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAge2lkOiAnMScsIG5hbWU6ICfrtpMg6riA7JSoJ30sXHJcbiAgICAgICB7aWQ6ICcyJywgbmFtZTogJ+2OnCDquIDslKgnfSxcclxuICAgICAgIHtpZDogJzMnLCBuYW1lOiAn66+467aE66WYJ31cclxuICAgICBdLFxyXG4gICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICB9O1xyXG4gICAgLy8g7YyM7J287J2YIOqyveuhnOunjCDsoIDsnqXtlZjquLBcclxuICAgIHRoaXMuZmlsZSA9IHt9O1xyXG5cclxuICAgIHRoaXMubWFpblBob3RvQ2hhbmdlZCA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCAmJiBmaWxlc1swXS5uYW1lLm1hdGNoKC9cXC4ocG5nfGpwZWd8anBnKSQvKSkge1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLm1haW5UaHVtYm5haWwuZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXBwLm1haW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICB0aGlzLnJlYWRQaG90byA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgIGZkLmFwcGVuZCgnbXlmaWxlJywgYXBwLmZpbGUudXBsb2FkKTtcclxuICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL3VwbG9hZFRlbXAvJywgZmQse1xyXG4gICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHksXHJcbiAgICAgICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiB1bmRlZmluZWR9XHJcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIGFwcC5tYWluSW1hZ2VQYXRoID0gZGF0YS5kYXRhLnBob3RvX3BhdGg7XHJcbiAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG5cclxuLy8g7J6R6rCAIOyeke2SiCDsl4XroZzrk5xcclxuICAgICAgdGhpcy5jcmVhdGVQaG90byA9IGZ1bmN0aW9uKHVwbG9hZERhdGEpe1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgIGlmKCF1cGxvYWREYXRhKXtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfruYjsubjsnYQg66qo65GQIOyeheugpe2VtOyjvOyEuOyalC4nO1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYoYXBwLnVwbG9hZERhdGEudGl0bGUgPT09IHVuZGVmaW5lZCB8fCBhcHAudXBsb2FkRGF0YS50aXRsZSA9PT0gbnVsbCB8fCBhcHAudXBsb2FkRGF0YS50aXRsZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yeke2SiOydmCDsoJzrqqnsnYQg7J6F66Cl7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICB9IGVsc2UgaWYoYXBwLnVwbG9hZERhdGEuZGV0YWlsID09PSB1bmRlZmluZWQgfHwgYXBwLnVwbG9hZERhdGEuZGV0YWlsID09PSBudWxsIHx8IGFwcC51cGxvYWREYXRhLmRldGFpbCA9PT0gJycpIHtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yeke2SiOydmCDshKTrqoXsnYQg7J6F66Cl7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICB9IGVsc2UgaWYoYXBwLm1haW5JbWFnZVBhdGggPT09IHVuZGVmaW5lZCB8fCBhcHAubWFpbkltYWdlUGF0aCA9PT0gIG51bGwgfHwgYXBwLm1haW5JbWFnZVBhdGggPT09ICcnKXtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yeke2SiCDsnbTrr7jsp4Drpbwg7ISg7YOd7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICB9IGVsc2UgaWYoYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQgPT09ICcwJyl7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsnpHtkojsnZgg7KKF66WY66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nO1xyXG4gICAgICAgICAgfSBlbHNlIHtcblxyXG4gICAgICAgICAgICBhcHAudXBsb2FkRGF0YSA9IHVwbG9hZERhdGE7XHJcbiAgICAgICAgICAgIGFwcC51cGxvYWREYXRhLnVzZXJfaWQgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XHJcbiAgICAgICAgICAgIGFwcC51cGxvYWREYXRhLnBob3RvX3R5cGUgPSBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZDtcclxuICAgICAgICAgICAgYXBwLnVwbG9hZERhdGEucGhvdG9fcGF0aCA9IGFwcC5tYWluSW1hZ2VQYXRoO1xyXG5cclxuICAgICAgICAgICAgQXJ0aXN0LmNyZWF0ZUFyaXN0UGhvdG8oYXBwLnVwbG9hZERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdhcnRpc3RQcm9maWxlQ3RybCcsIGZ1bmN0aW9uICgkdGltZW91dCwgQXJ0aXN0LCAkc3RhdGUsICRzY29wZSkge1xyXG5cclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAge2lkOiAnMScsIG5hbWU6ICfrtpMg6riA7JSoJ30sXHJcbiAgICAgICB7aWQ6ICcyJywgbmFtZTogJ+2OnCDquIDslKgnfSxcclxuICAgICAgIHtpZDogJzMnLCBuYW1lOiAn66+467aE66WYJ31cclxuICAgICBdLFxyXG4gICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICB9O1xyXG5cclxuICAvLyDsnpHqsIAg7ZSE66Gc7ZWEIOyDneyEsVxyXG4gICAgICB0aGlzLnVwZGF0ZUFyaXN0UHJvZmlsZSA9IGZ1bmN0aW9uKGFydGlzdERhdGEpe1xuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcbiAgICAgICAgaWYoIWFydGlzdERhdGEpe1xuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICftlYTsiJjquLDsnqzsgqztla3snYQg7J6F66Cl7ZW07KO87IS47JqULic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYoYXBwLmFydGlzdERhdGEuc2hvcnRfaW5mbyA9PT0gdW5kZWZpbmVkIHx8IGFwcC5hcnRpc3REYXRhLnNob3J0X2luZm8gPT09IG51bGwgfHwgYXBwLmFydGlzdERhdGEuc2hvcnRfaW5mbyA9PT0gJycpIHtcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICftlZwg7KSEIOyGjOqwnOulvCDsnoXroKXtlbTso7zshLjsmpQuJztcbiAgICAgICAgICB9IGVsc2UgaWYoYXBwLmFydGlzdERhdGEuZGV0YWlsX2luZm8gPT09IHVuZGVmaW5lZCB8fCBhcHAuYXJ0aXN0RGF0YS5kZXRhaWxfaW5mbyA9PT0gbnVsbCB8fCBhcHAuYXJ0aXN0RGF0YS5kZXRhaWxfaW5mbyA9PT0gJycpIHtcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsg4HshLgg7IaM6rCc66W8IOyeheugpe2VtOyjvOyEuOyalC4nO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcHAuYXJ0aXN0RGF0YSA9IGFydGlzdERhdGE7XG4gICAgICAgICAgICBhcHAuYXJ0aXN0RGF0YS51c2VyX2lkID0gICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcbiAgICAgICAgICAgIGFwcC5hcnRpc3REYXRhLnVzZXJfdHlwZSA9ICBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZDtcblxuICAgICAgICAgICAgQXJ0aXN0LnVwZGF0ZUFyaXN0UHJvZmlsZShhcHAuYXJ0aXN0RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W07KeAIOyViuydgCDqsJLsnbQg7J6F66Cl65CY7JeI7Iq164uI64ukLic7XG5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLnJlYWRBcmlzdFByb2ZpbGUgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciB1c2VyX2lkID0gJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xyXG4gICAgICAgIEFydGlzdC5yZWFkQXJ0aXN0UHJvZmlsZSh1c2VyX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICBhcHAuYXJ0aXN0RGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignYXJ0aXN0UGhvdG9DdHJsJywgZnVuY3Rpb24gKCR0aW1lb3V0LCBBcnRpc3QsICRzdGF0ZSwgJHNjb3BlKSB7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuICAgICAgdmFyIHVzZXJfaWQgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XHJcbiAgICAgIEFydGlzdC5yZWFkQXJ0aXN0UHJvZmlsZSh1c2VyX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5hcnRpc3REYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIEFydGlzdC5yZWFkQXJpc3RQaG90byh1c2VyX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5hcnRpc3RQaG90b3MgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYm9hcmRDb250cm9sbGVycycsWydib2FyZFNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdib2FyZFRhcEN0cmwnLCBmdW5jdGlvbihCb2FyZCwgJHNjb3BlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBCb2FyZC5yZWFkQm9hcmRUYXAoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgJHNjb3BlLmhlYWRlcnMgPSBkYXRhLmRhdGE7XHJcbiAgfSk7XHJcbn0pXHJcbi5jb250cm9sbGVyKCdib2FyZHNDdHJsJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBCb2FyZCl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdmFyIGJvYXJkX3R5cGUgPSAkc3RhdGVQYXJhbXMuY29kZTtcclxuXHJcbiAgYXBwLmRhdGEgPSB7XHJcbiAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9LFxyXG4gICAgIHtzb3J0OiAnLXZpZXcnLCBuYW1lOiAn7KGw7ZqM7IicJ30sXHJcbiAgICAge3NvcnQ6ICctY29tbWVudF9jb3VudCcsIG5hbWU6J+uMk+q4gOyInCd9XHJcbiAgIF0sXHJcbiAgIHNlbGVjdGVkT3B0aW9uOiAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICB9O1xyXG5cclxuICAgQm9hcmQucmVhZEJvYXJkcyhib2FyZF90eXBlKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGFwcC5ib2FyZERhdGFzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuXHJcbiAgIH0pO1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ2JvYXJkQ3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgQm9hcmQsICRzY29wZSl7XHJcbiAgICAvLyDrs7Trk5wg7JWE7J2065SUIOyghOyGoVxyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICAkc2NvcGUudGV4dCA9IFwiaGVsbG8gd29ybGRcIjtcclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgJCgnI3N1bW1lcm5vdGUnKS5zdW1tZXJub3RlKHtcclxuICAgICAgICBsYW5nOiAna28tS1InLCAvLyBkZWZhdWx0OiAnZW4tVVMnXHJcbiAgICAgICAgaGVpZ2h0IDogMTAwLCAvLyDsl5DrlJTthLDsnZgg64aS7J20XHJcbiAgICAgICAgbWluSGVpZ2h0IDogbnVsbCxcclxuICAgICAgICBtYXhIZWlnaHQgOiBudWxsLFxyXG4gICAgICAgIGZvY3VzIDogdHJ1ZSxcclxuICAgICAgICBwbGFjZWhvbGRlcjogJ+uMk+q4gOydgCAxLDAwMOyekOq5jOyngCDsnpHshLHtlaAg7IiYIOyeiOycvOupsCDso7zsoJzsmYAg66y06rSA7ZWcIOuMk+q4gCwg7JWF7ISxIOuMk+q4gOydgCDsgq3soJzrkKAg7IiYIOyeiOyKteuLiOuLpC4nLFxyXG4gICAgICAgIHRvb2xiYXI6IFtcclxuICAvLyBbZ3JvdXBOYW1lLCBbbGlzdCBvZiBidXR0b25dXVxyXG4gICAgICAgICAgWydzdHlsZScsIFsnYm9sZCcsICdpdGFsaWMnLCAndW5kZXJsaW5lJywgJ2NsZWFyJ11dLFxyXG4gICAgICAgICAgWydmb250JywgWydzdHJpa2V0aHJvdWdoJywgJ3N1cGVyc2NyaXB0JywgJ3N1YnNjcmlwdCddXSxcclxuICAgICAgICAgIFsnZm9udHNpemUnLCBbJ2ZvbnRzaXplJ11dLFxyXG4gICAgICAgICAgWydjb2xvcicsIFsnY29sb3InXV0sXHJcbiAgICAgICAgICBbJ3BhcmEnLCBbJ3VsJywgJ29sJywgJ3BhcmFncmFwaCddXSxcclxuICAgICAgICAgIFsnaGVpZ2h0JywgWydoZWlnaHQnXV1cclxuICAgICAgICBdXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIGJvYXJkX2lkID0gJHN0YXRlUGFyYW1zLmJvYXJkX2lkO1xyXG4gICAgQm9hcmQucmVhZEJvYXJkKGJvYXJkX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLmJvYXJkRGF0YXMgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuXHJcblxyXG5cclxuLy9cclxuLy8gICAkc2NvcGUuZGF0YSA9IHtcclxuLy8gICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4vLyAgICAgIHtpZDogJy0xJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbi8vICAgICAge2lkOiAnMCcsIG5hbWU6ICfqs7Xsp4Dsgqztla0nfSxcclxuLy8gICAgICB7aWQ6ICcxJywgbmFtZTogJ+2VmeybkC/tmY3rs7QnfSxcclxuLy8gICAgICB7aWQ6ICcyJywgbmFtZTogJ+uqqOyehC/siqTthLDrlJQnfVxyXG4vLyAgICBdLFxyXG4vLyAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnLTEnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4vLyAgICB9O1xyXG4vL1xyXG4vLyAgIC8vIGlk7JeQIO2VtOuLue2VmOuKlCDqsJLsnYQg67O07Jes7KO864qUIO2VqOyImFxyXG4vLyAgICRzY29wZS51c2VyQXJ0aWNsZSA9IGZhbHNlO1xyXG4vL1xyXG4vLyAvLyDqsJLsnYQg7KCA7J6l7ZWY64qUIO2VqOyImFxyXG4vLyAgICRzY29wZS5hZGRCb2FyZCA9IGZ1bmN0aW9uKHRpdGxlLCBjb250ZW50KXtcclxuLy8gLy8gZW1wbG95ZXNzIOygnOuMgOuhnCDrj5nsnpHtlZjripTsp4Ag7ZmV7J24IO2VhOyalFxyXG4vLyAgICAgICB2YXIgYm9hcmRfdHlwZSA9ICRzY29wZS5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkO1xyXG4vLyAgICAgICAkaHR0cC5wb3N0KCdhcGkvYm9hcmRNZW51JyxcclxuLy8gICAgICAgeyB0aXRsZTp0aXRsZSwgY29udGVudDogY29udGVudCwgYm9hcmRfdHlwZTogYm9hcmRfdHlwZX0pXHJcbi8vICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsgICAgICAgICAgLy8g7KCV7IOBIOyekeuPme2VmOyYgOyKteuLiOuLpC5cclxuLy8gICAgICAgfSk7XHJcbi8vICAgfTtcclxuLy9cclxuLy8gXHQkc2NvcGUuc2hvd0JvYXJkID0gZnVuY3Rpb24oKXtcclxuLy8gICAvLyDrs7Trk5wg7JWE7J2065SUIOyghOyGoVxyXG4vLyAgIHZhciBpZCA9ICRzdGF0ZVBhcmFtcy5ib2FyZF9pZDtcclxuLy8gICAgICRodHRwLmdldCgnYXBpL2JvYXJkLycraWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4vLyAvLyDsgqzsmqnsnpDqsIAg7J6R7ISx7ZWcIOqyjOyLnOusvOyeheuLiOuLpC5cclxuLy8gICAgIGlmKHJlc3BvbnNlLmRhdGFbMV0uc3VjY2Vzcyl7XHJcbi8vICAgICAgICRzY29wZS51c2VyQXJ0aWNsZSA9IHRydWU7XHJcbi8vICAgICAgICRzY29wZS5ib2FyZCA9IHJlc3BvbnNlLmRhdGFbMF1bMF07XHJcbi8vICAgICB9XHJcbi8vIC8vIOyCrOyaqeyekOqwgCDsnpHshLHtlZwg6rKM7Iuc66y87J20IOyVhOuLmeuLiOuLpC5cclxuLy8gICAgIGVsc2Uge1xyXG4vLyAgICAgICAkc2NvcGUudXNlckFydGljbGUgPSBmYWxzZTtcclxuLy8gICAgICAgJHNjb3BlLmJvYXJkID0gcmVzcG9uc2UuZGF0YVswXVswXTtcclxuLy8gICAgIH1cclxuLy8gICB9KTtcclxuLy8gfTtcclxuLy9cclxuLy9cclxuLy8gICAvLyDqsJLsnYQg7IKt7KCc7ZWY64qUIO2VqOyImFxyXG4vLyBcdCRzY29wZS5kZWxldGVCb2FyZCA9IGZ1bmN0aW9uKCl7XHJcbi8vICAgICB2YXIgaWQgPSAkc3RhdGVQYXJhbXMuYm9hcmRfaWQ7XHJcbi8vIFx0XHQkaHR0cC5kZWxldGUoJ2FwaS9ib2FyZC8nK2lkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuLy8gICAgICAgICAkbG9jYXRpb24ucGF0aCgnYXBwLmJvYXJkLmNhdGVnb3J5KHtjb2RlOiAwfSknKTtcclxuLy8gXHRcdH0pO1xyXG4vLyBcdH07XHJcbi8vXHJcbi8vICAgXHQvLyDqsJLsnYQg7IiY7KCV7ZWY64qUIO2VqOyImFxyXG4vLyAgIFx0JHNjb3BlLnVwZGF0ZUJvYXJkID0gZnVuY3Rpb24oKXtcclxuLy8gICBcdFx0dmFyIGlkID0gJHN0YXRlUGFyYW1zLmJvYXJkX2lkO1xyXG4vLyAgIFx0XHQkaHR0cC5wdXQoJ2FwaS9ib2FyZC8nK2lkICwgJHNjb3BlLmJvYXJkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuLy8gICBcdFx0XHQkc2NvcGUuYm9hcmQgPSByZXNwb25zZS5kYXRhO1xyXG4vLyAgICAgICAgICRsb2NhdGlvbi5wYXRoKCdib2FyZCcpO1xyXG4vLyAgIFx0XHR9KTtcclxuLy8gICBcdH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnZ2FsbGVydENvbnRyb2xsZXJzJyxbJ2dhbGxlcnlTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignZ2FsbGVyeVRhcEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIEdhbGxlcnkpe1xyXG4gIC8vIOyghOyytCDrqZTribQg6rCA7KC47Jik6riwXHJcbiAgR2FsbGVyeS5yZWFkR2FsbGVyeVRhcCgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICRzY29wZS5oZWFkZXJzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ2dhbGxlcnlQaG90b3NDdHJsJywgZnVuY3Rpb24oR2FsbGVyeSwgJHN0YXRlUGFyYW1zKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB2YXIgcGhvdG9fdHlwZSA9ICRzdGF0ZVBhcmFtcy5jb2RlO1xyXG4gIGFwcC5kYXRhID0ge1xyXG4gICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfSxcclxuICAgICB7c29ydDogJy12aWV3JywgbmFtZTogJ+yhsO2ajOyInCd9LFxyXG4gICAgIHtzb3J0OiAnLWNvbW1lbnRfY291bnQnLCBuYW1lOifrjJPquIDsiJwnfVxyXG4gICBdLFxyXG4gICBzZWxlY3RlZE9wdGlvbjogIHtzb3J0OiAnLWNyZWF0ZWQnLCBuYW1lOiAn7LWc7Iug7IicJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgfTtcclxuXHJcbiAgICBHYWxsZXJ5LnJlYWRQaG90b3MocGhvdG9fdHlwZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5waG90b0RhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdnYWxsZXJ5UGhvdG9DdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBHYWxsZXJ5KSB7XHJcblxyXG4gICB2YXIgYXBwID0gdGhpcztcclxuICAgdmFyIHBob3RvX2lkID0gJHN0YXRlUGFyYW1zLnBob3RvX2lkO1xyXG4gICB2YXIgcGhvdG9fdHlwZSA9ICRzdGF0ZVBhcmFtcy5waG90b190eXBlO1xyXG4gICB2YXIgdXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuXHJcbiAgIEdhbGxlcnkucmVhZFBob3RvRGF0YShwaG90b19pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICBhcHAucGhvdG9EYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICB9IGVsc2Uge1xyXG4gICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgfVxyXG4gICB9KTtcclxuXHJcbiAgIEdhbGxlcnkucmVhZFBob3RvcyhwaG90b190eXBlKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgIGFwcC5waG90b3NEYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICB9IGVsc2Uge1xyXG4gICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgfVxyXG4gICB9KTtcclxuXHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuLy8gLy8g6rCS7J2EIOyCreygnO2VmOuKlCDtlajsiJhcclxuLy8gICAkc2NvcGUuZGVsZXRlUGhvdG8gPSBmdW5jdGlvbigpe1xyXG4vLyAgICAgIHZhciBpZCA9ICRzdGF0ZVBhcmFtcy5waG90b19pZDtcclxuLy8gICAgICRodHRwLmRlbGV0ZSgnL2FwaS9nYWxsZXJ5LycraWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4vLyAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnYXBwLmdhbGxlcnkuY2F0ZWdvcnkoe2NvZGU6IDB9KScpO1xyXG4vLyAgICAgfSk7XHJcbi8vICAgfTtcclxuLy9cclxuLy9cclxuLy8gLy8g6rCc67OEIOyCrOynhCDqtIDroKjrkJwg7J2066+47KeAIOqwgOyguOyYpOq4sCB8fCDshKDtg53tlZwg7J2066+47KeA7JmAIOqwmeydgCDrtoTrpZjsnZgg7J2066+47KeAIOqwgOyguOyYpOq4sFxyXG4vLyAgICRzY29wZS5nZXRSZWxhdGVkUGljID0gZnVuY3Rpb24oKXtcclxuLy8gICAgIHZhciBjb2RlID0gJHN0YXRlUGFyYW1zLnBob3RvX3R5cGU7XHJcbi8vICAgICAkaHR0cC5nZXQoJy9hcGkvZ2FsbGVyeU1lbnUvJytjb2RlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuLy8gICAgICAgJHNjb3BlLnBob3RvcyA9IHJlc3BvbnNlLmRhdGE7XHJcbi8vICAgICB9KTtcclxuLy8gICB9O1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0hvbWVDdHJsJywgZnVuY3Rpb24gKCAkaHR0cCwgJHNjb3BlKSB7XHJcblxyXG4gICRzY29wZS5nZXRDb250ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgICRodHRwLmdldCgnL2FwaS9ob21lJykudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICRzY29wZS5waG90b3MgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnbWFpbkNvbnRyb2xsZXJzJyxbJ2F1dGhTZXJ2aWNlcycsICd1c2VyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ21haW5DdHJsJywgZnVuY3Rpb24oQXV0aCwgJHRpbWVvdXQsICRsb2NhdGlvbiwgJHN0YXRlLCAkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3csICRpbnRlcnZhbCwgVXNlciwgQXV0aFRva2VuKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgYXBwLmxvYWRtZSA9IGZhbHNlO1xyXG5cclxuICAkc2NvcGUuJG9uKCdMT0FEJywgZnVuY3Rpb24oKXtcclxuICAgICRzY29wZS5sb2FkaW5nID0gdHJ1ZTtcclxuICB9KTtcclxuXHJcbiAgJHNjb3BlLiRvbignVU5MT0FEJywgZnVuY3Rpb24oKXtcclxuICAgICRzY29wZS5sb2FkaW5nID0gZmFsc2U7XHJcbiAgfSk7XHJcblxyXG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKCl7XHJcbiAgICBpZighY2hlY2tTZXNzaW9uKWNoZWNrU2Vzc2lvbigpO1xyXG5cclxuICAgIGlmKEF1dGguaXNMb2dnZWRJbigpKXtcclxuICAgICAgYXBwLmlzTG9nZ2VkSW4gPSB0cnVlO1xyXG4gICAgICBBdXRoLmdldFVzZXIoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5wZXJtaXNzaW9uID09PSAnYWRtaW4nKSB7XHJcbiAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IHRydWU7XHJcbiAgICAgICAgICBhcHAudXNlciA9IGRhdGEuZGF0YTtcclxuICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZihkYXRhLmRhdGEucGVybWlzc2lvbiA9PT0gJ2FydGlzdCcpIHtcclxuICAgICAgICAgIGFwcC5wZXJtaXNzaW9uID0gdHJ1ZTtcclxuICAgICAgICAgIGFwcC51c2VyID0gZGF0YS5kYXRhO1xyXG4gICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC51c2VyID0gZGF0YS5kYXRhO1xyXG4gICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC51c2VyID0gZmFsc2U7XHJcbiAgICAgIGFwcC5pc0xvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuXHJcbiAgdmFyIGNoZWNrU2Vzc2lvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICBpZihBdXRoLmlzTG9nZ2VkSW4oKSl7XHJcbiAgICAgIGFwcC5jaGVja1Nlc3Npb24gPSB0cnVlO1xyXG4gICAgICB2YXIgaW50ZXJ2YWwgPSAkaW50ZXJ2YWwoZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgdG9rZW4gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpO1xyXG4gICAgICAgIGlmKHRva2VuID09PSBudWxsKXtcclxuICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWxmLnBhcnNlSnd0ID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgICAgICAgICB2YXIgYmFzZTY0VXJsID0gdG9rZW4uc3BsaXQoJy4nKVsxXTtcclxuICAgICAgICAgICAgdmFyIGJhc2U2NCA9IGJhc2U2NFVybC5yZXBsYWNlKCctJywnKycpLnJlcGxhY2UoJ18nLCAnLycpO1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSgkd2luZG93LmF0b2IoYmFzZTY0KSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgdmFyIGV4cGlyZVRpbWUgPSBzZWxmLnBhcnNlSnd0KHRva2VuKTtcclxuICAgICAgICAgIHZhciB0aW1lU3RhbXAgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcclxuICAgICAgICAgIHZhciB0aW1lQ2hlY2sgPSBleHBpcmVUaW1lLmV4cCAtIHRpbWVTdGFtcDtcclxuXHJcbiAgICAgICAgICBpZih0aW1lQ2hlY2sgPD0gNSl7XHJcbiAgICAgICAgICAgIHNob3dNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKGludGVydmFsKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAyMDAwKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjaGVja1Nlc3Npb24oKTtcclxuXHJcblxyXG4gICAgYXBwLnJlbmV3U2Vzc2lvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGFwcC5jaG9pY2VNYWRlID0gdHJ1ZTtcclxuICAgICAgVXNlci5yZW5ld1Nlc3Npb24oYXBwLnVzZXIudXNlcm5hbWUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgQXV0aFRva2VuLnNldFRva2VuKGRhdGEuZGF0YS50b2tlbik7XHJcbiAgICAgICAgICBjaGVja1Nlc3Npb24oKTtcclxuICAgICAgICAgIGhpZGVNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAgIH0gZWxzZXtcclxuICAgICAgICAgIGFwcC5Nb2RhbEJvZHkgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIGhpZGVNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGFwcC5lbmRTZXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgICAgYXBwLmNob2ljZU1hZGUgPSB0cnVlO1xyXG4gICAgICBoaWRlTW9kYWwoJ2V4cGlyZWQnKTtcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICBzaG93TW9kYWwoJ2xvZ291dCcpO1xyXG4gICAgICB9LDUwMCk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgdmFyIHNob3dNb2RhbCA9IGZ1bmN0aW9uKG9wdGlvbil7XHJcbiAgICBhcHAuY2hvaWNlTWFkZSA9IGZhbHNlO1xyXG4gICAgYXBwLm1vZGFsSGVhZGVyID0gdW5kZWZpbmVkO1xyXG4gICAgYXBwLm1vZGFsQm9keSA9IHVuZGVmaW5lZDtcclxuICAgIGFwcC5oaWRlQnV0dG9uID0gZmFsc2U7XHJcbi8vIGNoZWNrIHRva2VuIGV4cGlyZWRcclxuICAgIGlmKG9wdGlvbiA9PT0gICdleHBpcmVkJyApe1xyXG4gICAgICBhcHAubW9kYWxIZWFkZXIgPSAnVGltZW91dCBXYXJuaW5nJztcclxuICAgICAgYXBwLm1vZGFsQm9keSA9ICdZb3VyIHNlc3Npb24gd2lsbCBleHBpcmVkIGluIDUgbWludXRlcy4gV291bGQgeW91IGxpa2UgdG8gcmVuZXcgeW91ciBzZXNzaW9uPyc7XHJcbiAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCh7YmFja2Ryb3A6XCJzdGF0aWNcIn0pO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ2xvZ291dCcpe1xyXG4vLyBsb2dvdXRcclxuICAgICAgYXBwLmhpZGVCdXR0b24gPSB0cnVlO1xyXG4gICAgICBhcHAubW9kYWxIZWFkZXIgPSAn66Gc6re47JWE7JuDJztcclxuICAgICAgJChcIiNteU1vZGFsXCIpLm1vZGFsKHtiYWNrZHJvcDpcInN0YXRpY1wifSk7XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgQXV0aC5sb2dvdXQoKTtcclxuICAgICAgICBhcHAuaXNMb2dnZWRJbiA9IGZhbHNlO1xyXG4gICAgICAgIGhpZGVNb2RhbCgnbG9nb3V0Jyk7XG4gICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcbiAgICAgIH0sIDIwMDApO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ2xvZ2luJyl7XHJcbi8vIExvZ2luXHJcbiAgICAgICQoXCIjbG9naW5cIikubW9kYWwoe2JhY2tkcm9wOlwic3RhdGljXCJ9KTtcclxuICAgIH0gIGVsc2UgaWYob3B0aW9uID09PSd1cGxvYWQnKXtcclxuLy8gZW5yb2xsQXJ0aXN0XHJcbiAgICAgICQoXCIjdXBsb2FkXCIpLm1vZGFsKHtiYWNrZHJvcDpcInN0YXRpY1wifSk7XHJcbiAgICB9XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYoIWFwcC5jaG9pY2VNYWRlKXtcclxuICAgICAgICAgIGhpZGVNb2RhbCgnbG9nb3V0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCA0MDAwKTtcclxuXHJcbiAgfTtcclxuXHJcbiAgdmFyIGhpZGVNb2RhbCA9IGZ1bmN0aW9uKG9wdGlvbil7XHJcblxyXG4gICAgaWYob3B0aW9uID09PSAnZXhwaXJlZCcpe1xyXG4gICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoJ2hpZGUnKTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICdsb2dvdXQnKXtcclxuICAgICAgJChcIiNteU1vZGFsXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAnbG9naW4nKXtcclxuICAgICAgJChcIiNsb2dpblwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ3VwbG9hZCcpe1xyXG4gICAgICAkKFwiI3VwbG9hZFwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG5cclxuLy8g66Gc6re47J24XHJcbiAgdGhpcy5kb0xvZ2luID0gZnVuY3Rpb24obG9naW5EYXRhLCB2YWxpZCl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5leHBpcmVkID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgIGlmKHZhbGlkKXtcclxuICAgICAgQXV0aC5sb2dpbihhcHAubG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaGlkZU1vZGFsKCdsb2dpbicpO1xyXG4gICAgICAgICAgICBhcHAubG9naW5EYXRhID0gbnVsbDtcclxuICAgICAgICAgICAgYXBwLmlzTG9nZ2VkSW4gPSB0cnVlO1xyXG4gICAgICAgICAgICBjaGVja1Nlc3Npb24oKTtcclxuICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgfSwyMDAwKTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICBpZihkYXRhLmRhdGEuZXhwaXJlZCl7XHJcbiAgICAgICAgICAgIGFwcC5leHBpcmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBJZiBlcnJvciBvY2N1cnMsIHJlbW92ZSBkaXNhYmxlIGxvY2sgZnJvbSBmb3JtXHJcbiAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgYm9vdHN0cmFwIGxvYWRpbmcgaWNvblxyXG4gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gRGlzcGxheSBlcnJvciBpZiB2YWxpZCByZXR1cm5zIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gIH07XHJcblxyXG5cclxuXHJcbi8vIOyCrOyaqeyekOydmCDqtoztlZwg7Jes67aAIO2ZleyduFxyXG4gIHRoaXMudXBsb2FkID0gZnVuY3Rpb24oKXtcclxuICBhcHAuY2hvaWNlTWFkZSA9IHRydWU7XHJcbiAgICBpZihhcHAudXNlci5wZXJtaXNzaW9uID09PSAnYXJ0aXN0Jyl7XHJcbiAgICAgICRzdGF0ZS5nbygnYXBwLmFydGlzdFByb2ZpbGVzJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBVc2VyLmNoZWNrUGVybWlzc2lvbihhcHAudXNlci51c2VybmFtZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oJ2FwcC5hcnRpc3RQcm9maWxlcycpO1xyXG4gICAgICAgICAgIGFwcC5wZXJtaXNzaW9uID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2hvd01vZGFsKCd1cGxvYWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9O1xyXG5cclxuICAvLyDsgqzsmqnsnpDsl5Dqsowg6raM7ZWcIOu2gOyXrFxyXG4gICAgdGhpcy5kb1Blcm1pc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgICBhcHAuY2hvaWNlTWFkZSA9IHRydWU7XHJcbiAgICAgIGFwcC51cGxvYWREaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIGFwcC51cGxvYWRlcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICBVc2VyLnJlc2V0UGVybWlzc2lvbihhcHAudXNlcikudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAudXBsb2FkRGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgYXBwLnVwbG9hZFN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGhpZGVNb2RhbCgndXBsb2FkJyk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwLmFydGlzdFByb2ZpbGVzJyk7XHJcbiAgICAgICAgICB9LDIwMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAudXBsb2FkRGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC51cGxvYWRlcnJvck1zZyA9ICfsnpjrqrvrkJwg7KCV67O06rCAIOyeheugpeuQmOyXiOyKteuLiOuLpC4nO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgYXBwLmxvZ2luID0gZnVuY3Rpb24oKXtcclxuICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgc2hvd01vZGFsKCdsb2dpbicpO1xyXG4gIH07XHJcblxyXG4gIGFwcC5sb2dvdXQgPSBmdW5jdGlvbigpe1xyXG4gICAgc2hvd01vZGFsKCdsb2dvdXQnKTtcclxuICB9O1xyXG5cclxuICBhcHAucmVzZW5kID0gZnVuY3Rpb24oKXtcclxuICAgIGhpZGVNb2RhbCgnbG9naW4nKTtcclxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICRzdGF0ZS5nbygncmVzZW5kJyk7XHJcbiAgICAgIGFwcC5leHBpcmVkID0gZmFsc2U7XHJcbiAgICB9LDUwMCk7XHJcbiAgfTtcclxuXHJcbiAgYXBwLnJlc2V0dXNlcm5hbWUgPSBmdW5jdGlvbigpe1xyXG4gICAgaGlkZU1vZGFsKCdsb2dpbicpO1xyXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgJHN0YXRlLmdvKCdyZXNldHVzZXJuYW1lJyk7XHJcbiAgICB9LDUwMCk7XHJcbiAgfTtcclxuXHJcbiAgYXBwLnJlc2V0cGFzc3dvcmQgPSBmdW5jdGlvbigpe1xyXG4gICAgaGlkZU1vZGFsKCdsb2dpbicpO1xyXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgJHN0YXRlLmdvKCdyZXNldHBhc3N3b3JkJyk7XHJcbiAgICB9LDUwMCk7XHJcblxyXG4gIH07XHJcblxyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdCb2FyZE1lbnVDb250cm9sbGVyJywgZnVuY3Rpb24gKCRzY29wZSwkaHR0cCwgJHN0YXRlUGFyYW1zKSB7XHJcblxyXG4vLyBkZWZpbmUgbGlzdCBvZiBpdGVtcyDsoITssrQg642w7J207YSwIOygleugrFxyXG4gICAgICAgICRzY29wZS5kYXRhID0ge1xyXG4gICAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICAgICAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfSxcclxuICAgICAgICAgICB7c29ydDogJy12aWV3JywgbmFtZTogJ+yhsO2ajOyInCd9LFxyXG4gICAgICAgICAgIHtzb3J0OiAnLWNvbW1lbnRfY291bnQnLCBuYW1lOifrjJPquIDsiJwnfVxyXG4gICAgICAgICBdLFxyXG4gICAgICAgICBzZWxlY3RlZE9wdGlvbjogIHtzb3J0OiAnLWNyZWF0ZWQnLCBuYW1lOiAn7LWc7Iug7IicJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICAgICAgfTtcclxuXHJcblxyXG4vLyDsoITssrQg66mU64m0IOqwgOyguOyYpOq4sFxyXG4gICAgJGh0dHAuZ2V0KCcvYXBpL2JvYXJkTWVudScpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAkc2NvcGUuaGVhZGVycyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICB9KTtcclxuXHJcbi8vIOyEoO2Dne2VnCDsvZTrk5zsl5Ag65Sw66W4IOqysOqzvCDqsJIg6rCA7KC47Jik6riwXHJcbiAgICAgICRzY29wZS5nZXRIZWFkZXJDb250ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgY29kZSA9ICRzdGF0ZVBhcmFtcy5jb2RlO1xyXG4gICAgICAgICRodHRwLmdldCgnL2FwaS9ib2FyZE1lbnUvJytjb2RlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAgICRzY29wZS5ib2FyZGVzID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignZGlzcGxheU1lbnVDb250cm9sbGVyJywgZnVuY3Rpb24gKCAkc2NvcGUsICRodHRwLCAkc3RhdGVQYXJhbXMpIHtcclxuXHJcbi8vIGRlZmluZSBsaXN0IG9mIGl0ZW1zIOyghOyytCDrjbDsnbTthLAg7KCV66CsXHJcbiAgICAkc2NvcGUuZGF0YSA9IHtcclxuICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9XHJcbiAgICAgXSxcclxuICAgICBzZWxlY3RlZE9wdGlvbjogIHtzb3J0OiAnLWNyZWF0ZWQnLCBuYW1lOiAn7LWc7Iug7IicJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICB9O1xyXG5cclxuICAgICRodHRwLmdldCgnL2FwaS9kaXNwbGF5TWVudScpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAkc2NvcGUuaGVhZGVycyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICB9KTtcclxuXHJcblxyXG4vLyDshKDtg53tlZwg7L2U65Oc7JeQIOuUsOuluCDsnbTrr7jsp4Ag6rCA7KC47Jik6riwXHJcbiAgICAkc2NvcGUuZ2V0SGVhZGVyQ29udGVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIHZhciBjb2RlID0gJHN0YXRlUGFyYW1zLmNvZGU7XHJcbiAgICAgICRodHRwLmdldCgnL2FwaS9kaXNwbGF5TWVudS8nK2NvZGUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICRzY29wZS5kaXNwbGF5cyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ01haW5NZW51Q29udHJvbGxlcicsIGZ1bmN0aW9uICgkaHR0cCwgJHNjb3BlKSB7XHJcbiAgJGh0dHAuZ2V0KCcvYXBpL2hlYWRlcicpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgJHNjb3BlLmhlYWRlcnMgPSByZXNwb25zZS5kYXRhO1xyXG4gIH0pO1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2VtYWlsQ29udHJvbGxlcnMnLFsndXNlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdlbWFpbEN0cmwnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIFVzZXIuYWN0aXZlQWNjb3VudCgkc3RhdGVQYXJhbXMudG9rZW4pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICB9LDIwMDApO1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgIH0sMjAwMCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncmVzZW5kQ3RybCcsIGZ1bmN0aW9uKFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIGFwcCA9IHRoaXM7XHJcbiAgdGhpcy5jaGVja0NyZWRlbnRpYWxzID0gZnVuY3Rpb24obG9naW5EYXRhKXtcclxuICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgVXNlci5jaGVja0NyZWRlbnRpYWxzKHRoaXMubG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgVXNlci5yZXNlbmRMaW5rKGFwcC5sb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICB9LDIwMDApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9ZWxzZSB7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigndXNlcm5hbWVDdHJsJywgZnVuY3Rpb24oVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdGhpcy5zZW5kVXNlcm5hbWUgPSBmdW5jdGlvbih1c2VyRGF0YSwgdmFsaWQpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgaWYodmFsaWQpe1xyXG4gICAgICBVc2VyLnNlbmRVc2VybmFtZShhcHAudXNlckRhdGEuZW1haWwpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOydtOuplOydvCDso7zshozqsIAg7JWE64uZ64uI64ukLic7XHJcbiAgICB9XHJcbiAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdwYXNzd29yZEN0cmwnLCBmdW5jdGlvbihVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBhcHAuc2VuZFBhc3N3b3JkID0gZnVuY3Rpb24ocmVzZXREYXRhLCB2YWxpZCl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBpZih2YWxpZCl7XHJcbiAgICAgIFVzZXIuc2VuZFBhc3N3b3JkKGFwcC5yZXNldERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOyVhOydtOuUlOqwgCDslYTri5nri4jri6QuJztcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Jlc2V0Q3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgJHNjb3BlLCBVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgICBhcHAuaGlkZSA9IHRydWU7IC8vIEhpZGUgZm9ybSB1bnRpbCB0b2tlbiBjYW4gYmUgdmVyaWZpZWQgdG8gYmUgdmFsaWRcclxuXHJcbiAgICAvLyBGdW5jdGlvbiB0byBjaGVjayBpZiB0b2tlbiBpcyB2YWxpZCBhbmQgZ2V0IHRoZSB1c2VyJ3MgaW5mbyBmcm9tIGRhdGFiYXNlIChydW5zIG9uIHBhZ2UgbG9hZClcclxuICAgIFVzZXIucmVzZXRQYXNzd29yZCgkc3RhdGVQYXJhbXMudG9rZW4pLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHVzZXIgd2FzIHJldHJpZXZlZFxyXG4gICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICBhcHAuaGlkZSA9IGZhbHNlOyAvLyBTaG93IGZvcm1cclxuICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LXN1Y2Nlc3MnOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gJ+yDiOuhnOyatCDruYTrsIDrsojtmLjrpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIExldCB1c2VyIGtub3cgdGhleSBjYW4gZW50ZXIgbmV3IHBhc3N3b3JkXHJcbiAgICAgICAgICAgICRzY29wZS51c2VybmFtZSA9IGRhdGEuZGF0YS51c2VyWzBdLnVzZXJuYW1lOyAvLyBTYXZlIHVzZXJuYW1lIGluIHNjb3BlIGZvciB1c2UgaW4gc2F2ZVBhc3N3b3JkKCkgZnVuY3Rpb25cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtZGFuZ2VyJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTsgLy8gR3JhYiBlcnJvciBtZXNzYWdlIGZyb20gSlNPTiBvYmplY3RcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBGdW5jdGlvbiB0byBzYXZlIHVzZXIncyBuZXcgcGFzc3dvcmQgdG8gZGF0YWJhc2VcclxuICAgIGFwcC5zYXZlUGFzc3dvcmQgPSBmdW5jdGlvbihyZWdEYXRhLCB2YWxpZCwgY29uZmlybWVkKSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7IC8vIENsZWFyIGVycm9yTXNnIHdoZW4gdXNlciBzdWJtaXRzXHJcbiAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlOyAvLyBEaXNhYmxlIGZvcm0gd2hpbGUgcHJvY2Vzc2luZ1xyXG4gICAgICAgIGFwcC5sb2FkaW5nID0gdHJ1ZTsgLy8gRW5hYmxlIGxvYWRpbmcgaWNvblxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiBmb3JtIGlzIHZhbGlkIGFuZCBwYXNzd29yZHMgbWF0Y2hcclxuICAgICAgICBpZiAodmFsaWQgJiYgY29uZmlybWVkKSB7XHJcbiAgICAgICAgICAgIGFwcC5yZWdEYXRhLnVzZXJuYW1lID0gJHNjb3BlLnVzZXJuYW1lOyAvLyBHcmFiIHVzZXJuYW1lIGZyb20gJHNjb3BlXHJcblxyXG4gICAgICAgICAgICAvLyBSdW4gZnVuY3Rpb24gdG8gc2F2ZSB1c2VyJ3MgbmV3IHBhc3N3b3JkIHRvIGRhdGFiYXNlXHJcbiAgICAgICAgICAgIFVzZXIuc2F2ZVBhc3N3b3JkKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgbG9hZGluZyBpY29uXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBwYXNzd29yZCB3YXMgc2F2ZWQgdG8gZGF0YWJhc2VcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1zdWNjZXNzJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2ZlOuptOycvOuhnCDsnbTrj5ntlanri4jri6QuJzsgLy8gR3JhYiBzdWNjZXNzIG1lc3NhZ2UgZnJvbSBKU09OIG9iamVjdCBhbmQgcmVkaXJlY3RcclxuICAgICAgICAgICAgICAgICAgICAvLyBSZWRpcmVjdCB0byBsb2dpbiBwYWdlIGFmdGVyIDIwMDAgbWlsbGlzZWNvbmRzICgyIHNlY29uZHMpXHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtZGFuZ2VyJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBFbmFibGUgZm9ybSB0byBhbGxvdyB1c2VyIHRvIHJlc3VibWl0XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7IC8vIEdyYWIgZXJyb3IgbWVzc2FnZSBmcm9tIEpTT04gb2JqZWN0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1kYW5nZXInOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgbG9hZGluZyBpY29uXHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBFbmFibGUgZm9ybSB0byBhbGxvdyB1c2VyIHRvIHJlc3VibWl0XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBMZXQgdXNlciBrbm93IGZvcm0gaXMgbm90IHZhbGlkXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCd1c2VyQ29udHJvbGxlcnMnLFsndXNlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdyZWdDdHJsJywgZnVuY3Rpb24gKCAkaHR0cCwgJGxvY2F0aW9uLCAkdGltZW91dCwgVXNlciwgQXV0aCwgJHN0YXRlKSB7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgICAgIHRoaXMucmVnU3RlcDEgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICBpZighcmVnRGF0YSl7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7JW96rSA7JeQIOuPmeydmO2VtOyVvOunjCDtmozsm5DqsIDsnoXsnYQg7KeE7ZaJ7ZWgIOyImCDsnojsirXri4jri6QuJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYoKHJlZ0RhdGEudGVybXMpICYmIChyZWdEYXRhLnByaXZhY3kpKSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9ICfslb3qtIDsl5Ag7ISx6rO17KCB7Jy866GcIOuPmeydmO2VmOyFqOyKteuLiOuLpC4nO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygncmVnaXN0ZXJTdGVwMicpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfslb3qtIDsl5Ag64+Z7J2Y7ZW07JW866eMIO2ajOybkOqwgOyeheydhCDsp4TtlontlaAg7IiYIOyeiOyKteuLiOuLpC4nO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfTtcclxuXHJcbiAgICAvLyDtmozsm5DqsIDsnoVcclxuICAgICAgdGhpcy5yZWdTdGVwMiA9IGZ1bmN0aW9uKHJlZ0RhdGEsIHZhbGlkLCBjb25maXJtZWQpe1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmKHZhbGlkICYmIGNvbmZpcm1lZCl7XHJcbiAgICAgICAgICBVc2VyLmNyZWF0ZShhcHAucmVnRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgJChcIiNyZWdpc3RlclwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgICAgICAgICAgYXBwLnJlZ0RhdGEgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgYXBwLmlzTG9nZ2VkSW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICAgICAgfSwzMDAwKTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBJZiBlcnJvciBvY2N1cnMsIHJlbW92ZSBkaXNhYmxlIGxvY2sgZnJvbSBmb3JtXHJcbiAgICAgICAgICAgICBhcHAubG9hZGluZyA9IGZhbHNlOyAvLyBTdG9wIGJvb3RzdHJhcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBEaXNwbGF5IGVycm9yIGlmIHZhbGlkIHJldHVybnMgZmFsc2VcclxuICAgICAgICB9XHJcblxyXG4gICAgICB9O1xyXG5cclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdwcm9maWxlQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgVXNlciwgJHRpbWVvdXQsICRzdGF0ZSwgJGh0dHApe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuLy8g6riw67O4IOyCrOyaqeyekCDsoJXrs7Qg6rCA7KC47Jik64qUIO2VqOyImFxyXG4gIHZhciB1c2VybmFtZSA9ICRzY29wZS5tYWluLnVzZXIudXNlcm5hbWU7XHJcbiAgVXNlci5yZWFkUHJvZmlsZXModXNlcm5hbWUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5yZWFkRGF0YSA9IGRhdGEuZGF0YS5wcm9maWxlcztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuXHJcbi8vIOycoOyggCDtlITroZztlYQg7IKs7KeEIOuzgOqyvSDtlajsiJhcclxuICAgIHRoaXMuZmlsZSA9IHt9O1xyXG4gICAgdGhpcy5waG90b0NoYW5nZWQgPSBmdW5jdGlvbihmaWxlcykge1xyXG4gICAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA+IDAgJiYgZmlsZXNbMF0ubmFtZS5tYXRjaCgvXFwuKHBuZ3xqcGVnfGpwZykkLykpIHtcclxuICAgICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdO1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLnRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLnRodW1ibmFpbC5kYXRhVXJsID0gZS50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLnVwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLm1lc3NhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXBwLnRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICAgIGFwcC5tZXNzYWdlID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4vLyDtlITroZztlYQg7J2066+47KeA66W8IOyXheuNsOydtO2KuO2VmOuKlCDtlajsiJhcclxuICAgIHRoaXMudXBkYXRlUHJvZmlsZUltYWdlID0gZnVuY3Rpb24oKXtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgdmFyIHVzZXJfaWQgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XHJcbiAgICAgIGZkLmFwcGVuZCgnbXlmaWxlJywgYXBwLmZpbGUudXBsb2FkKTtcclxuICAgICAgICAkaHR0cC5wdXQoJy9hcGkvdXBsb2FkVGVtcC8nK3VzZXJfaWQsICBmZCwge1xyXG4gICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHksXHJcbiAgICAgICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiB1bmRlZmluZWR9XHJcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH07XHJcblxyXG4vLyDtlITroZztlYQg7KCV67O0IOuzgOqyvVxyXG4gIHRoaXMudXBkYXRlUHJvZmlsZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBhcHAucmVhZERhdGEudXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuICAgIFVzZXIudXBkYXRlUHJvZmlsZXMoYXBwLnJlYWREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgIH0sMjAwMCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG59KTtcclxuIl19

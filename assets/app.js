angular.module("app",["ui.router","ui.bootstrap","userControllers","mainControllers","emailControllers","artistControllers","gallertControllers","commentControllers","boardControllers","uiCropper"]).config(["$httpProvider",function(t){t.interceptors.push("AuthInterceptors")}]);var app=angular.module("app");app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(t,e,a){e.otherwise("/"),t.state("app",{url:"/",views:{header:{templateUrl:"/menues/mainMenu.html",controller:"MainMenuController"},content:{templateUrl:"/main/home.html"},footer:{templateUrl:"/company/footer.html"}}}).state("registerStep1",{url:"/register/step1",controller:"regCtrl",controllerAs:"register",templateUrl:"/isLoggedOut/registerStep1.html",authenticated:!1}).state("registerStep2",{url:"/register/step2",controller:"regCtrl",controllerAs:"register",templateUrl:"/isLoggedOut/registerStep2.html",authenticated:!1}).state("resetusername",{url:"/resetusername",templateUrl:"/users/reset/username.html",controller:"usernameCtrl",controllerAs:"username"}).state("resetpassword",{url:"/resetpassword",templateUrl:"/users/reset/password.html",controller:"passwordCtrl",controllerAs:"password"}).state("reset",{url:"/reset/:token",templateUrl:"/users/reset/newpassword.html",controller:"resetCtrl",controllerAs:"reset"}).state("activate",{url:"/activate/:token",templateUrl:"/users/activation/activate.html",controller:"emailCtrl",controllerAs:"email"}).state("resend",{url:"/resend",templateUrl:"/users/activation/resend.html",controller:"resendCtrl",controllerAs:"resend"}).state("app.profiles",{url:"profiles",views:{"content@":{templateUrl:"isLoggedIn/userProfiles.html",controller:"profileCtrl",controllerAs:"profile",authenticated:!1}}}).state("app.photos",{url:"photos",views:{"content@":{templateUrl:"isLoggedIn/artistPhotos.html",controller:"artistPhotoCtrl",controllerAs:"artistPhoto",authenticated:!1}}}).state("app.artistProfiles",{url:"artist",views:{"content@":{templateUrl:"isLoggedIn/artistProfiles.html",controller:"artistProfileCtrl",controllerAs:"artistProfile",authenticated:!0}}}).state("app.intro",{url:"intro",views:{"content@":{templateUrl:"/company/intro.html",authenticated:!1}}}).state("app.terms",{url:"terms",views:{"content@":{templateUrl:"/company/terms.html",authenticated:!1}}}).state("app.privacy",{url:"privacy",views:{"content@":{templateUrl:"/company/privacy.html",authenticated:!1}}}).state("app.artist",{url:"artist/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.artist":{templateUrl:"/partialArtist/artistTap.html",controller:"artistTapCtrl",controllerAs:"artistTap",authenticated:!1},"contents@app.artist":{templateUrl:"/partialArtist/artists.html",controller:"artistsCtrl",controllerAs:"artists",authenticated:!1}}}).state("app.gallery",{url:"gallery/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.gallery":{templateUrl:"/partialGallery/galleryTap.html",controller:"galleryTapCtrl",controllerAs:"galleryTap"},"contents@app.gallery":{templateUrl:"/partialGallery/photos.html",controller:"galleryPhotosCtrl",controllerAs:"galleryPhotos",authenticated:!1}}}).state("app.board",{url:"board/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.board":{templateUrl:"/partialBoard/boardTap.html",controller:"boardTapCtrl",authenticated:!1},"contents@app.board":{templateUrl:"/partialBoard/boards.html",controller:"boardsCtrl",controllerAs:"boards",authenticated:!1}}}).state("app.display",{url:"display/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.display":{templateUrl:"/partialDisplay/displayTap.html",controller:"displayMenuController",authenticated:!1},"contents@app.display":{templateUrl:"/partialDisplay/content.html",controller:"displayMenuController",authenticated:!1}}}).state("app.artist.show",{url:"/artist:artist_id",views:{"content@":{templateUrl:"/partialArtist/artist.html",controller:"artistPhotoCtrl",controllerAs:"artistPhoto",authenticated:!1}}}).state("app.gallery.show",{url:"/photo_type=:photo_type/photo:photo_id",views:{"content@":{templateUrl:"/partialGallery/photo.html",controller:"galleryPhotoCtrl",controllerAs:"galleryphoto"}}}).state("app.board.show",{url:"/board:board_id",views:{"contents@app.board":{templateUrl:"partialBoard/board.html",controller:"boardCtrl",controllerAs:"board"}}}).state("app.board.create",{url:"/create",views:{"contents@app.board":{templateUrl:"/partialBoard/boardCreate.html",controller:"boardCtrl",controllerAs:"board",authenticated:!0}}}).state("app.board.edit",{url:"/edit/:board_id",views:{"contents@app.board":{templateUrl:"partialBoard/boardUpdate.html",controller:"boardCtrl",controllerAs:"board",authenticated:!0}}}).state("app.gallery.edit",{url:"/edit/:photo_id",views:{"content@":{templateUrl:"/partialGallery/photoEdit.html",controller:"galleryPhotoCtrl",controllerAs:"galleryphoto"}}})}]),angular.module("commentControllers",["commentServices"]).controller("commentCtrl",["$scope","$http","$stateParams","$state","$window","Comment",function(t,e,a,r,o,s){var n=this;t.userComment=!1,this.createComment=function(t){e.post("/api/comment",n.response).then(function(t){console.log(t)})},t.getComment=function(){var r=a.photo_id,o=a.board_id,s="",n={photo_id:r,board_id:o},i={params:n,headers:{Accept:"application/json"}};r?(s=r,e.get("/api/comment/"+s,i).then(function(e){t.comments=e.data[0]})):o?(s=o,e.get("/api/comment/"+s,i).then(function(e){t.comments=e.data[0]})):t.comments="시스템이 불안정합니다."},t.addComment=function(t,a){if(a){var s=t.board_id,n=t.photo_id,i=t.comment;e.post("/api/comment",{board_id:s,photo_id:n,comment:i}).then(function(t){r.reload()})}else o.alert("댓글을 입력해주세요.")},t.deleteComment=function(t){var a=t.comment_id;e.delete("/api/comment/"+a).then(function(t){r.reload()})}}]),angular.module("app").controller("ImageCropCtrl",["$scope",function(t){t.myCroppedImage="",t.myImage=void 0,t.crobject={};var e=function(e){var a=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){t.$apply(function(t){t.myImage=e.target.result})},r.readAsDataURL(a)};angular.element(document.querySelector("#fileInput")).on("change",e),this.imageCrop=function(){var e=t.myImage;console.log(e)}}]),angular.module("app").controller("OpinionController",["$scope","$http","$stateParams",function(t,e,a){t.doLikeStatus=!0,t.doLike=function(){t.doLikeStatus=!t.doLikeStatus},t.getOpinion=function(r){var o=a.id;e.get("/api/opinion/"+o).then(function(e){t.opinionInfo=e.data[0][0]})}}]),angular.module("app").directive("fileModel",["$parse",function(t){return{restrict:"A",link:function(e,a,r){var o=t(r.fileModel),s=o.assign;a.bind("change",function(){e.$apply(function(){s(e,a[0].files[0])})})}}}]),angular.module("app").directive("match",function(){return{restrict:"A",controller:["$scope",function(t){t.doConfirm=function(e){t.confirmed=!1,e.forEach(function(e){t.confirm==e?t.confirmed=!0:t.confirmed=!1})}}],link:function(t,e,a){a.$observe("match",function(){t.matches=JSON.parse(a.match),t.doConfirm(t.matches)}),t.$watch("confirm",function(){t.matches=JSON.parse(a.match),t.doConfirm(t.matches)})}}}),angular.module("artistServices",[]).factory("Artist",["$http",function(t){return artistFactory={},artistFactory.readArtistTap=function(){return t.get("/api/artistMenu")},artistFactory.readArtists=function(e){return t.get("/api/artistMenu/"+e)},artistFactory.readArtist=function(e){return t.get("/api/artist/"+e)},artistFactory.createAristPhoto=function(e){return t.post("/api/artistProfiles",e)},artistFactory.updateAristProfile=function(e){return t.put("/api/artistProfiles",e)},artistFactory.readArtistProfile=function(e){return t.get("/api/artistProfiles/"+e)},artistFactory.readAristPhoto=function(e){return t.get("/api/artistPhotos/"+e)},artistFactory}]),angular.module("authServices",[]).factory("Auth",["$http","AuthToken",function(t,e){var a={};return a.getUser=function(){if(e.getToken())return t.post("/api/me");$q.reject({message:"User has no token"})},a.login=function(a){return t.post("/api/authenticate",a).then(function(t){return e.setToken(t.data.token),t})},a.isLoggedIn=function(){return!!e.getToken()},a.logout=function(){e.setToken()},a}]).factory("AuthToken",["$window",function(t){var e={};return e.setToken=function(e){e?t.localStorage.setItem("token",e):t.localStorage.removeItem("token",e)},e.getToken=function(){return t.localStorage.getItem("token")},e}]).factory("AuthInterceptors",["AuthToken",function(t){var e={};return e.request=function(e){var a=t.getToken();return a&&(e.headers["x-access-token"]=a),e},e}]),angular.module("boardServices",[]).factory("Board",["$http",function(t){return boardFactory={},boardFactory.readBoardTap=function(){return t.get("/api/boardMenu")},boardFactory.readBoards=function(e){return t.get("/api/boardMenu/"+e)},boardFactory.readBoard=function(e){return t.get("api/board/"+e)},boardFactory.createBoard=function(e){return t.post("/api/boardMenu",e)},boardFactory}]),angular.module("commentServices",[]).factory("Comment",["$http",function(t){return commentFactory={},commentFactory.createComment=function(e){return t.post("/api/comment",e)},commentFactory}]),angular.module("galleryServices",[]).factory("Gallery",["$http",function(t){return galleryFactory={},galleryFactory.readGalleryTap=function(){return t.get("/api/galleryMenu")},galleryFactory.readPhotos=function(e){return t.get("/api/galleryMenu/"+e)},galleryFactory.readPhotoData=function(e){return t.get("/api/gallery/"+e)},galleryFactory.readMorePhoto=function(e){return t.get("/api/galleryMenu/"+e)},galleryFactory}]),angular.module("userServices",[]).factory("User",["$http",function(t){return userFactory={},userFactory.create=function(e){return t.post("/api/users",e)},userFactory.activeAccount=function(e){return t.put("/api/activate/"+e)},userFactory.checkCredentials=function(e){return t.post("/api/resend",e)},userFactory.resendLink=function(e){return t.put("/api/resend",e)},userFactory.sendUsername=function(e){return t.get("/api/resetusername/"+e)},userFactory.sendPassword=function(e){return t.put("/api/resetpassword",e)},userFactory.resetPassword=function(e){return t.get("/api/resetpassword/"+e)},userFactory.savePassword=function(e){return t.put("/api/savepassword",e)},userFactory.renewSession=function(e){return t.get("/api/renewToken/"+e)},userFactory.resetPermission=function(e){return t.put("/api/users/",e)},userFactory.checkPermission=function(e){return t.get("/api/users/"+e)},userFactory.readProfiles=function(e){return t.get("/api/userProfiles/"+e)},userFactory.updateProfiles=function(e){return t.put("/api/userProfiles",e)},userFactory}]),angular.module("artistControllers",["userServices","artistServices"]).controller("artistTapCtrl",["$scope","Artist",function(t,e){e.readArtistTap().then(function(e){e.data.success?t.headers=e.data.result:app.errorMsg=e.data.message})}]).controller("artistsCtrl",["$stateParams","Artist",function(t,e){var a=this,r=t.code;a.data={availableOptions:[{sort:"-created",name:"최신순"}],selectedOption:{sort:"-created",name:"최신순"}},e.readArtists(r).then(function(t){t.data.success?a.artistDatas=t.data.result:a.errorMsg=t.data.message})}]).controller("uploadCtrl",["$http","$timeout","$scope","Artist","$state",function(t,e,a,r,o){var s=this;s.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"붓 글씨"},{id:"2",name:"펜 글씨"},{id:"3",name:"미분류"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.file={},this.mainPhotoChanged=function(t){if(t.length>0&&t[0].name.match(/\.(png|jpeg|jpg)$/)){var a=t[0],r=new FileReader;r.readAsDataURL(a),r.onload=function(t){e(function(){s.mainThumbnail={},s.mainThumbnail.dataUrl=t.target.result})}}else s.mainThumbnail={}},this.readPhoto=function(){s.errorMsg=!1,s.disabled=!0,a.$emit("LOAD");var e=new FormData;e.append("myfile",s.file.upload),t.post("/api/uploadTemp/",e,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(t){t.data.success?(a.$emit("UNLOAD"),s.disabled=!1,s.successMsg=t.data.message,s.mainImagePath=t.data.photo_path,s.file={}):(a.$emit("UNLOAD"),s.disabled=!1,s.errorMsg=t.data.message,s.file={})})},this.createPhoto=function(t){s.disabled=!1,s.errorMsg=!1,t?void 0===s.uploadData.title||null===s.uploadData.title||""===s.uploadData.title?s.errorMsg="작품의 제목을 입력해주세요.":void 0===s.uploadData.detail||null===s.uploadData.detail||""===s.uploadData.detail?s.errorMsg="작품의 설명을 입력해주세요.":void 0===s.mainImagePath||null===s.mainImagePath||""===s.mainImagePath?s.errorMsg="작품 이미지를 선택해주세요.":"0"===s.data.selectedOption.id?s.errorMsg="작품의 종류를 선택해주세요.":(s.uploadData=t,s.uploadData.user_id=a.main.user.user_id,s.uploadData.photo_type=s.data.selectedOption.id,s.uploadData.photo_path=s.mainImagePath,r.createAristPhoto(s.uploadData).then(function(t){t.data.success?(s.successMsg=t.data.message,s.disabled=!0,e(function(){o.reload()},2e3)):(s.errorMsg=t.data.message,s.successMsg=!1,s.disabled=!1)})):(s.errorMsg="빈칸을 모두 입력해주세요.",s.successMsg=!1)}}]).controller("artistProfileCtrl",["$timeout","Artist","$state","$scope",function(t,e,a,r){var o=this;o.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"붓 글씨"},{id:"2",name:"펜 글씨"},{id:"3",name:"미분류"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.updateAristProfile=function(s){o.errorMsg=!1,s?void 0===o.artistData.short_info||null===o.artistData.short_info||""===o.artistData.short_info?o.errorMsg="한 줄 소개를 입력해주세요.":void 0===o.artistData.detail_info||null===o.artistData.detail_info||""===o.artistData.detail_info?o.errorMsg="상세 소개를 입력해주세요.":(o.artistData=s,o.artistData.user_id=r.main.user.user_id,o.artistData.user_type=o.data.selectedOption.id,e.updateAristProfile(o.artistData).then(function(e){e.data.success?(o.errorMsg=!1,o.successMsg=e.data.message,o.disabled=!0,t(function(){a.reload()},2e3)):o.errorMsg="올바르지 않은 값이 입력되었습니다."})):o.errorMsg="필수기재사항을 입력해주세요."},this.readAristProfile=function(){var t=r.main.user.user_id;e.readArtistProfile(t).then(function(t){t.data.success?o.artistData=t.data.result:o.errorMsg=t.data.message})}}]).controller("artistPhotoCtrl",["Artist","$stateParams",function(t,e){var a=this,r=e.artist_id;this.contactArtist=function(){console.log("작동 중")},t.readArtistProfile(r).then(function(t){t.data.success?a.artistData=t.data.result:a.errorMsg=t.data.message}),t.readAristPhoto(r).then(function(t){t.data.success?a.artistPhotos=t.data.result:a.errorMsg=t.data.message})}]),angular.module("boardControllers",["boardServices"]).filter("to_trusted",["$sce",function(t){return function(e){return t.trustAsHtml(e)}}]).controller("boardTapCtrl",["Board","$scope",function(t,e){t.readBoardTap().then(function(t){e.headers=t.data})}]).controller("boardsCtrl",["$stateParams","Board",function(t,e){var a=this,r=t.code;a.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},e.readBoards(r).then(function(t){a.boardDatas=t.data.result})}]).controller("boardCtrl",["$stateParams","Board","$scope","$http","$state","$timeout",function(t,e,a,r,o,s){var n=this;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"공지사항"},{id:"2",name:"잡학사전"},{id:"3",name:"질문사항"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},$(document).ready(function(){$("#summernote").summernote({lang:"ko-KR",height:100,minHeight:null,maxHeight:null,focus:!0,placeholder:"댓글은 1,000자까지 작성할 수 있으며 주제와 무관한 댓글, 악성 댓글은 삭제될 수 있습니다.",toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]]]})}),this.createBoard=function(t){if(n.disabled=!0,n.errorMsg=!1,"0"===n.data.selectedOption.id)n.errorMsg="게시글의 종류를 선택해주세요",n.disabled=!1;else if(void 0===t||null===t||""===t)n.errorMsg="제목을 입력해주세요.",n.disabled=!1;else if("<p><br></p>"===$("#summernote").summernote("code")||null===$("#summernote").summernote("code")||void 0===$("#summernote").summernote("code")||""===$("#summernote").summernote("code"))n.errorMsg="내용을 입력해주세요.",n.disabled=!1;else{var r=$("#summernote").summernote("code"),i=n.data.selectedOption.id,l=t.title,d={title:l,content:r,board_type:i,user_id:a.main.user.user_id};e.createBoard(d).then(function(t){t.data.success?(n.successMsg=t.data.message,s(function(){o.go("app.board")},500)):(n.disabled=!1,n.errorMsg=t.data.message)})}};var i=t.board_id;e.readBoard(i).then(function(t){t.data.success?(n.boardDatas=t.data.result,n.htmlcontent=t.data.result.content):n.errorMsg=t.data.message})}]),angular.module("gallertControllers",["galleryServices"]).controller("galleryTapCtrl",["$scope","Gallery",function(t,e){e.readGalleryTap().then(function(e){e.data.success?t.headers=e.data.result:app.errorMsg=e.data.message})}]).controller("galleryPhotosCtrl",["Gallery","$stateParams",function(t,e){var a=this,r=e.code;a.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},t.readPhotos(r).then(function(t){t.data.success?a.photoData=t.data.result:a.errorMsg=t.data.message})}]).controller("galleryPhotoCtrl",["$scope","$stateParams","Gallery",function(t,e,a){var r=this,o=e.photo_id,s=e.photo_type;t.main.user.user_id;a.readPhotoData(o).then(function(t){t.data.success?r.photoData=t.data.result:r.errorMsg=t.data.message}),a.readPhotos(s).then(function(t){t.data.success?r.photosData=t.data.result:r.errorMsg=t.data.message})}]),angular.module("app").controller("HomeCtrl",["$http","$scope",function(t,e){e.getContent=function(){t.get("/api/home").then(function(t){e.photos=t.data})}}]),angular.module("mainControllers",["authServices","userServices"]).controller("mainCtrl",["Auth","$timeout","$location","$state","$rootScope","$scope","$window","$interval","User","AuthToken",function(t,e,a,r,o,s,n,i,l,d){var c=this;c.loadme=!1,s.$on("LOAD",function(){s.loading=!0}),s.$on("UNLOAD",function(){s.loading=!1}),o.$on("$stateChangeStart",function(){u||u(),t.isLoggedIn()?(c.isLoggedIn=!0,t.getUser().then(function(t){"admin"===t.data.permission?(c.permission=!0,c.user=t.data,c.loadme=!0):"artist"===t.data.permission?(c.permission=!0,c.user=t.data,c.loadme=!0):(c.user=t.data,c.loadme=!0)})):(c.user=!1,c.isLoggedIn=!1,c.loadme=!0)});var u=function(){if(t.isLoggedIn()){c.checkSession=!0;var e=i(function(){var t=n.localStorage.getItem("token");if(null===t)i.cancel(e);else{self.parseJwt=function(t){var e=t.split(".")[1],a=e.replace("-","+").replace("_","/");return JSON.parse(n.atob(a))};var a=self.parseJwt(t),r=Math.floor(Date.now()/1e3);a.exp-r<=5&&(p("expired"),i.cancel(e))}},2e3)}};u(),c.renewSession=function(){c.choiceMade=!0,l.renewSession(c.user.username).then(function(t){t.data.success?(d.setToken(t.data.token),u(),m("expired")):(c.ModalBody=t.data.message,m("expired"))})},c.endSession=function(){c.choiceMade=!0,m("expired"),e(function(){p("logout")},500)};var p=function(a){c.choiceMade=!1,c.modalHeader=void 0,c.modalBody=void 0,c.hideButton=!1,"expired"===a?(c.modalHeader="Timeout Warning",c.modalBody="Your session will expired in 5 minutes. Would you like to renew your session?",$("#myModal").modal({backdrop:"static"})):"logout"===a?(c.hideButton=!0,c.modalHeader="로그아웃",$("#myModal").modal({backdrop:"static"}),e(function(){t.logout(),c.isLoggedIn=!1,m("logout"),r.reload()},2e3)):"login"===a?$("#login").modal({backdrop:"static"}):"upload"===a&&$("#upload").modal({backdrop:"static"}),e(function(){c.choiceMade||m("logout")},4e3)},m=function(t){"expired"===t?$("#myModal").modal("hide"):"logout"===t?$("#myModal").modal("hide"):"login"===t?$("#login").modal("hide"):"upload"===t&&$("#upload").modal("hide")};this.doLogin=function(a,o){c.errorMsg=!1,c.expired=!1,c.disabled=!0,o?t.login(c.loginData).then(function(t){t.data.success?(c.disabled=!0,c.successMsg=t.data.message,e(function(){m("login"),c.loginData=null,c.isLoggedIn=!0,u(),r.reload()},2e3)):t.data.expired?(c.expired=!0,c.disabled=!0,c.errorMsg=t.data.message):(c.disabled=!1,c.errorMsg=t.data.message)}):(c.disabled=!1,c.loading=!1,c.errorMsg="올바른 정보를 입력해주세요.")},this.upload=function(){c.choiceMade=!0,"artist"===c.user.permission?r.go("app.artistProfiles"):l.checkPermission(c.user.username).then(function(t){t.data.success?(r.go("app.artistProfiles"),c.permission=!0):p("upload")})},this.doPermission=function(){c.choiceMade=!0,c.uploadDisabled=!0,c.uploaderrorMsg=!1,l.resetPermission(c.user).then(function(t){t.data.success?(c.uploadDisabled=!0,c.uploadSuccessMsg=t.data.message,e(function(){m("upload"),r.go("app.artistProfiles")},2e3)):(c.uploadDisabled=!1,c.uploaderrorMsg="잘못된 정보가 입력되었습니다.")})},c.login=function(){c.successMsg=!1,c.errorMsg=!1,c.disabled=!1,p("login")},c.logout=function(){p("logout")},c.resend=function(){m("login"),e(function(){r.go("resend"),c.expired=!1},500)},c.resetusername=function(){m("login"),e(function(){r.go("resetusername")},500)},c.resetpassword=function(){m("login"),e(function(){r.go("resetpassword")},500)}}]),angular.module("app").controller("BoardMenuController",["$scope","$http","$stateParams",function(t,e,a){t.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},e.get("/api/boardMenu").then(function(e){t.headers=e.data}),t.getHeaderContent=function(){var r=a.code;e.get("/api/boardMenu/"+r).then(function(e){t.boardes=e.data})}}]),angular.module("app").controller("displayMenuController",["$scope","$http","$stateParams",function(t,e,a){t.data={availableOptions:[{sort:"-created",name:"최신순"}],selectedOption:{sort:"-created",name:"최신순"}},e.get("/api/displayMenu").then(function(e){t.headers=e.data}),t.getHeaderContent=function(){var r=a.code;e.get("/api/displayMenu/"+r).then(function(e){t.displays=e.data})}}]),angular.module("app").controller("MainMenuController",["$http","$scope",function(t,e){t.get("/api/header").then(function(t){e.headers=t.data})}]),angular.module("emailControllers",["userServices"]).controller("emailCtrl",["$stateParams","User","$timeout","$state",function(t,e,a,r){var o=this;e.activeAccount(t.token).then(function(t){o.successMsg=!1,o.errorMsg=!1,t.data.success?(o.disabled=!0,o.successMsg=t.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3)):(o.errorMsg=t.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3))})}]).controller("resendCtrl",["User","$timeout","$state",function(t,e,a){app=this,this.checkCredentials=function(r){app.successMsg=!1,app.errorMsg=!1,app.disabled=!0,t.checkCredentials(this.loginData).then(function(r){r.data.success?t.resendLink(app.loginData).then(function(t){t.data.success&&(app.disabled=!0,app.successMsg=t.data.message+"...메인 페이지로 이동합니다.",e(function(){a.go("app")},2e3))}):(app.disabled=!1,app.errorMsg=r.data.message)})}}]).controller("usernameCtrl",["User","$timeout","$state",function(t,e,a){var r=this;this.sendUsername=function(o,s){r.errorMsg=!1,r.disabled=!0,s?t.sendUsername(r.userData.email).then(function(t){t.data.success?(r.successMsg=t.data.message+"...메인 페이지로 이동합니다.",e(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=t.data.message)}):(r.disabled=!1,r.errorMsg="올바른 이메일 주소가 아닙니다.")}}]).controller("passwordCtrl",["User","$timeout","$state",function(t,e,a){var r=this;r.sendPassword=function(o,s){r.errorMsg=!1,r.disabled=!0,s?t.sendPassword(r.resetData).then(function(t){t.data.success?(r.successMsg=t.data.message+"...메인 페이지로 이동합니다.",e(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=t.data.message)}):(r.disabled=!1,r.errorMsg="올바른 아이디가 아닙니다.")}}]).controller("resetCtrl",["$stateParams","$scope","User","$timeout","$state",function(t,e,a,r,o){var s=this;s.hide=!0,a.resetPassword(t.token).then(function(t){t.data.success?(s.hide=!1,e.alert="alert alert-success",s.successMsg="새로운 비밀번호를 입력해주세요.",e.username=t.data.user[0].username):(e.alert="alert alert-danger",s.errorMsg=t.data.message)}),s.savePassword=function(t,n,i){s.errorMsg=!1,s.successMsg=!1,s.disabled=!0,s.loading=!0,n&&i?(s.regData.username=e.username,a.savePassword(s.regData).then(function(t){s.loading=!1,t.data.success?(e.alert="alert alert-success",s.successMsg=t.data.message+"...메인 화면으로 이동합니다.",r(function(){o.go("app")},2e3)):(e.alert="alert alert-danger",s.disabled=!1,s.errorMsg=t.data.message)})):(e.alert="alert alert-danger",s.loading=!1,s.disabled=!1,s.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("userControllers",["userServices"]).controller("regCtrl",["$http","$location","$timeout","User","Auth","$state",function(t,e,a,r,o,s){var n=this;this.regStep1=function(t){n.errorMsg=!1,t?t.terms&&t.privacy?(n.successMsg="약관에 성공적으로 동의하셨습니다.",n.disabled=!0,s.go("registerStep2")):(n.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다.",n.disabled=!1):n.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다."},this.regStep2=function(t,e,o){n.errorMsg=!1,n.disabled=!0,e&&o?r.create(n.regData).then(function(t){t.data.success?(n.disabled=!0,n.successMsg=t.data.message,a(function(){$("#register").modal("hide"),n.regData=null,n.isLoggedIn=!1,s.go("app")},3e3)):(n.disabled=!1,n.errorMsg=t.data.message)}):(n.disabled=!1,n.loading=!1,n.errorMsg="올바른 정보를 입력해주세요.")}}]).controller("profileCtrl",["$scope","User","$timeout","$state","$http",function(t,e,a,r,o){var s=this,n=t.main.user.username;e.readProfiles(n).then(function(t){t.data.success?s.readData=t.data.profiles:s.errorMsg=t.data.message}),this.file={},this.photoChanged=function(t){if(t.length>0&&t[0].name.match(/\.(png|jpeg|jpg)$/)){var e=t[0],r=new FileReader;r.readAsDataURL(e),r.onload=function(t){a(function(){s.thumbnail={},s.thumbnail.dataUrl=t.target.result,s.uploading=!1,s.message=!1})}}else s.thumbnail={},s.message=!1},this.updateProfileImage=function(){s.errorMsg=!1,s.disabled=!0,t.$emit("LOAD");var e=new FormData,n=t.main.user.user_id;e.append("myfile",s.file.upload),o.put("/api/uploadTemp/"+n,e,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(t.$emit("UNLOAD"),s.successMsg=e.data.message,s.file={},a(function(){r.reload()},1e3)):(t.$emit("UNLOAD"),s.disabled=!1,s.errorMsg=e.data.message,s.file={})})},this.updateProfile=function(){s.errorMsg=!1,s.disabled=!0,s.readData.user_id=t.main.user.user_id,e.updateProfiles(s.readData).then(function(t){t.data.success?(s.successMsg=t.data.message,a(function(){r.reload()},2e3)):(s.errorMsg=t.data.message,s.disabled=!1)})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsInJvdXRlLmpzIiwiY29udG9yb2xsZXJzL2NvbW1lbnRDdHJsLmpzIiwiY29udG9yb2xsZXJzL2ltYWdlQ3JvcC5qcyIsImNvbnRvcm9sbGVycy9vcGluaW9uQ3RybC5qcyIsImRpcmVjdGl2ZXMvZmlsZU1vZGVsLmpzIiwiZGlyZWN0aXZlcy9tYXRjaFBhc3N3b3JkLmpzIiwic2VydmljZXMvYXJ0aXN0U2VydmljZXMuanMiLCJzZXJ2aWNlcy9hdXRoU2VydmljZXMuanMiLCJzZXJ2aWNlcy9ib2FyZFNlcnZpY2VzLmpzIiwic2VydmljZXMvY29tbWVudFNlcnZpY2VzLmpzIiwic2VydmljZXMvZ2FsbGVyeVNlcnZpY2VzLmpzIiwic2VydmljZXMvdXNlclNlcnZpY2VzLmpzIiwiY29udG9yb2xsZXJzL2NhdGVnb3JpZXMvYXJ0aXN0Q3RybC5qcyIsImNvbnRvcm9sbGVycy9jYXRlZ29yaWVzL2JvYXJkQ3RybC5qcyIsImNvbnRvcm9sbGVycy9jYXRlZ29yaWVzL2dhbGxlcnlDdHJsLmpzIiwiY29udG9yb2xsZXJzL2NhdGVnb3JpZXMvaG9tZUN0cmwuanMiLCJjb250b3JvbGxlcnMvbWFpbi9tYWluQ3RybC5qcyIsImNvbnRvcm9sbGVycy9tZW51L2JvYXJkTWVudUN0cmwuanMiLCJjb250b3JvbGxlcnMvbWVudS9kaXNwbGF5TWVudUN0cmwuanMiLCJjb250b3JvbGxlcnMvbWVudS9tYWluTWVudUN0cmwuanMiLCJjb250b3JvbGxlcnMvdXNlci9lbWFpbEN0cmwuanMiLCJjb250b3JvbGxlcnMvdXNlci91c2VyQ3RybC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJGh0dHBQcm92aWRlciIsImludGVyY2VwdG9ycyIsInB1c2giLCJhcHAiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ2aWV3cyIsImhlYWRlciIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImNvbnRlbnQiLCJmb290ZXIiLCJjb250cm9sbGVyQXMiLCJhdXRoZW50aWNhdGVkIiwiY29udGVudEAiLCJtZW51QGFwcC5hcnRpc3QiLCJjb250ZW50c0BhcHAuYXJ0aXN0IiwibWVudUBhcHAuZ2FsbGVyeSIsImNvbnRlbnRzQGFwcC5nYWxsZXJ5IiwibWVudUBhcHAuYm9hcmQiLCJjb250ZW50c0BhcHAuYm9hcmQiLCJtZW51QGFwcC5kaXNwbGF5IiwiY29udGVudHNAYXBwLmRpc3BsYXkiLCIkc2NvcGUiLCIkaHR0cCIsIiRzdGF0ZVBhcmFtcyIsIiRzdGF0ZSIsIiR3aW5kb3ciLCJDb21tZW50IiwidGhpcyIsInVzZXJDb21tZW50IiwiY3JlYXRlQ29tbWVudCIsInJlc3BvbnNlIiwicG9zdCIsInRoZW4iLCJkYXRhIiwiY29uc29sZSIsImxvZyIsImdldENvbW1lbnQiLCJwaG90b19pZCIsImJvYXJkX2lkIiwiaWQiLCJwYXJhbXMiLCJoZWFkZXJzIiwiQWNjZXB0IiwiZ2V0IiwiY29tbWVudHMiLCJhZGRDb21tZW50IiwidmFsaWQiLCJjb21tZW50IiwicmVsb2FkIiwiYWxlcnQiLCJkZWxldGVDb21tZW50IiwiY29tbWVudF9pZCIsImRlbGV0ZSIsIm15Q3JvcHBlZEltYWdlIiwibXlJbWFnZSIsInVuZGVmaW5lZCIsImNyb2JqZWN0IiwiaGFuZGxlRmlsZVNlbGVjdCIsImV2dCIsImZpbGUiLCJjdXJyZW50VGFyZ2V0IiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiJGFwcGx5IiwidGFyZ2V0IiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsImVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJvbiIsImltYWdlQ3JvcCIsImltZ0Jsb2IiLCJkb0xpa2VTdGF0dXMiLCJkb0xpa2UiLCJnZXRPcGluaW9uIiwib3BpbmlvbkluZm8iLCJkaXJlY3RpdmUiLCIkcGFyc2UiLCJyZXN0cmljdCIsImxpbmsiLCJzY29wZSIsImF0dHJzIiwicGFyc2VkRmlsZSIsImZpbGVNb2RlbCIsInBhcnNlZGZpbGVTZXR0ZXIiLCJhc3NpZ24iLCJiaW5kIiwiZG9Db25maXJtIiwidmFsdWVzIiwiY29uZmlybWVkIiwiZm9yRWFjaCIsImVsZSIsImNvbmZpcm0iLCIkb2JzZXJ2ZSIsIm1hdGNoZXMiLCJKU09OIiwicGFyc2UiLCJtYXRjaCIsIiR3YXRjaCIsImZhY3RvcnkiLCJhcnRpc3RGYWN0b3J5IiwicmVhZEFydGlzdFRhcCIsInJlYWRBcnRpc3RzIiwidXNlcl90eXBlIiwicmVhZEFydGlzdCIsImFydGlzdF9pZCIsImNyZWF0ZUFyaXN0UGhvdG8iLCJwaG90b0RhdGEiLCJ1cGRhdGVBcmlzdFByb2ZpbGUiLCJhcnRpc3REYXRhIiwicHV0IiwicmVhZEFydGlzdFByb2ZpbGUiLCJyZWFkQXJpc3RQaG90byIsIkF1dGhUb2tlbiIsImF1dGhGYWN0b3J5IiwiZ2V0VXNlciIsImdldFRva2VuIiwiJHEiLCJyZWplY3QiLCJtZXNzYWdlIiwibG9naW4iLCJsb2dpbkRhdGEiLCJzZXRUb2tlbiIsInRva2VuIiwiaXNMb2dnZWRJbiIsImxvZ291dCIsImF1dGhUb2tlbkZhY3RvcnkiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImdldEl0ZW0iLCJhdXRoSW50ZXJjZXB0b3JzRmFjdG9yeSIsInJlcXVlc3QiLCJib2FyZEZhY3RvcnkiLCJyZWFkQm9hcmRUYXAiLCJyZWFkQm9hcmRzIiwiYm9hcmRfdHlwZSIsInJlYWRCb2FyZCIsImNyZWF0ZUJvYXJkIiwiYm9hcmREYXRhIiwiY29tbWVudEZhY3RvcnkiLCJjb21tZW50RGF0YSIsImdhbGxlcnlGYWN0b3J5IiwicmVhZEdhbGxlcnlUYXAiLCJyZWFkUGhvdG9zIiwicGhvdG9fdHlwZSIsInJlYWRQaG90b0RhdGEiLCJyZWFkTW9yZVBob3RvIiwidXNlckZhY3RvcnkiLCJjcmVhdGUiLCJyZWdEYXRhIiwiYWN0aXZlQWNjb3VudCIsImNoZWNrQ3JlZGVudGlhbHMiLCJyZXNlbmRMaW5rIiwidXNlcm5hbWUiLCJzZW5kVXNlcm5hbWUiLCJ1c2VyRGF0YSIsInNlbmRQYXNzd29yZCIsInJlc2V0RGF0YSIsInJlc2V0UGFzc3dvcmQiLCJzYXZlUGFzc3dvcmQiLCJyZW5ld1Nlc3Npb24iLCJyZXNldFBlcm1pc3Npb24iLCJjaGVja1Blcm1pc3Npb24iLCJyZWFkUHJvZmlsZXMiLCJ1cGRhdGVQcm9maWxlcyIsInVwZGF0ZURhdGEiLCJBcnRpc3QiLCJzdWNjZXNzIiwiZXJyb3JNc2ciLCJjb2RlIiwiYXZhaWxhYmxlT3B0aW9ucyIsInNvcnQiLCJuYW1lIiwic2VsZWN0ZWRPcHRpb24iLCJhcnRpc3REYXRhcyIsIiR0aW1lb3V0IiwibWFpblBob3RvQ2hhbmdlZCIsImxlbmd0aCIsImZpbGVSZWFkZXIiLCJlIiwibWFpblRodW1ibmFpbCIsImRhdGFVcmwiLCJyZWFkUGhvdG8iLCJkaXNhYmxlZCIsIiRlbWl0IiwiZmQiLCJGb3JtRGF0YSIsImFwcGVuZCIsInVwbG9hZCIsInRyYW5zZm9ybVJlcXVlc3QiLCJpZGVudGl0eSIsIkNvbnRlbnQtVHlwZSIsInN1Y2Nlc3NNc2ciLCJtYWluSW1hZ2VQYXRoIiwicGhvdG9fcGF0aCIsImNyZWF0ZVBob3RvIiwidXBsb2FkRGF0YSIsInRpdGxlIiwiZGV0YWlsIiwidXNlcl9pZCIsIm1haW4iLCJ1c2VyIiwic2hvcnRfaW5mbyIsImRldGFpbF9pbmZvIiwicmVhZEFyaXN0UHJvZmlsZSIsImNvbnRhY3RBcnRpc3QiLCJhcnRpc3RQaG90b3MiLCJmaWx0ZXIiLCIkc2NlIiwidGV4dCIsInRydXN0QXNIdG1sIiwiQm9hcmQiLCJib2FyZERhdGFzIiwiJCIsInJlYWR5Iiwic3VtbWVybm90ZSIsImxhbmciLCJoZWlnaHQiLCJtaW5IZWlnaHQiLCJtYXhIZWlnaHQiLCJmb2N1cyIsInBsYWNlaG9sZGVyIiwidG9vbGJhciIsImdvIiwiaHRtbGNvbnRlbnQiLCJHYWxsZXJ5IiwicGhvdG9zRGF0YSIsImdldENvbnRlbnQiLCJwaG90b3MiLCJBdXRoIiwiJGxvY2F0aW9uIiwiJHJvb3RTY29wZSIsIiRpbnRlcnZhbCIsIlVzZXIiLCJsb2FkbWUiLCIkb24iLCJsb2FkaW5nIiwiY2hlY2tTZXNzaW9uIiwicGVybWlzc2lvbiIsImludGVydmFsIiwiY2FuY2VsIiwic2VsZiIsInBhcnNlSnd0IiwiYmFzZTY0VXJsIiwic3BsaXQiLCJiYXNlNjQiLCJyZXBsYWNlIiwiYXRvYiIsImV4cGlyZVRpbWUiLCJ0aW1lU3RhbXAiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwiZXhwIiwic2hvd01vZGFsIiwiY2hvaWNlTWFkZSIsImhpZGVNb2RhbCIsIk1vZGFsQm9keSIsImVuZFNlc3Npb24iLCJvcHRpb24iLCJtb2RhbEhlYWRlciIsIm1vZGFsQm9keSIsImhpZGVCdXR0b24iLCJtb2RhbCIsImJhY2tkcm9wIiwiZG9Mb2dpbiIsImV4cGlyZWQiLCJkb1Blcm1pc3Npb24iLCJ1cGxvYWREaXNhYmxlZCIsInVwbG9hZGVycm9yTXNnIiwidXBsb2FkU3VjY2Vzc01zZyIsInJlc2VuZCIsInJlc2V0dXNlcm5hbWUiLCJyZXNldHBhc3N3b3JkIiwiZ2V0SGVhZGVyQ29udGVudCIsImJvYXJkZXMiLCJkaXNwbGF5cyIsImVtYWlsIiwiaGlkZSIsInJlZ1N0ZXAxIiwicmVnU3RlcDIiLCJyZWFkRGF0YSIsInByb2ZpbGVzIiwicGhvdG9DaGFuZ2VkIiwidGh1bWJuYWlsIiwidXBsb2FkaW5nIiwidXBkYXRlUHJvZmlsZUltYWdlIiwidXBkYXRlUHJvZmlsZSJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQUFDLE9BQUEsT0FDQSxZQUNBLGVBQ0Esa0JBQ0Esa0JBQ0EsbUJBQ0Esb0JBQ0EscUJBQ0EscUJBQ0EsbUJBQ0EsY0FDQUMsUUFBQSxnQkFBQSxTQUFBQyxHQUNBQSxFQUFBQyxhQUFBQyxLQUFBLHNCQ1pBLElBQUFDLEtBQUFOLFFBQUFDLE9BQUEsTUFDQUssS0FBQUosUUFBQSxpQkFBQSxxQkFBQSxvQkFB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QUFBeVEsY0FBQSxXQUNBdlMsRUFBQStLLFVBQUEsRUFDQS9LLEVBQUE4TCxVQUFBLEVBQ0E5TCxFQUFBaVMsU0FBQW5GLFFBQUF0TCxFQUFBdUwsS0FBQUMsS0FBQUYsUUFDQWtDLEVBQUFyRSxlQUFBM0ssRUFBQWlTLFVBQUE5UCxLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUEwSSxTQUNBOUssRUFBQXVNLFdBQUFuSyxFQUFBQSxLQUFBeUYsUUFDQXlELEVBQUEsV0FDQTNKLEVBQUF3QixVQUNBLE9BRUFuRCxFQUFBK0ssU0FBQTNJLEVBQUFBLEtBQUF5RixRQUNBN0gsRUFBQThMLFVBQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ2FwcCcsW1xyXG4gICAgJ3VpLnJvdXRlcicsXHJcbiAgICAndWkuYm9vdHN0cmFwJyxcclxuICAgICd1c2VyQ29udHJvbGxlcnMnLFxyXG4gICAgJ21haW5Db250cm9sbGVycycsXHJcbiAgICAnZW1haWxDb250cm9sbGVycycsXHJcbiAgICAnYXJ0aXN0Q29udHJvbGxlcnMnLFxyXG4gICAgJ2dhbGxlcnRDb250cm9sbGVycycsXHJcbiAgICAnY29tbWVudENvbnRyb2xsZXJzJyxcclxuICAgICdib2FyZENvbnRyb2xsZXJzJyxcclxuICAgICd1aUNyb3BwZXInXHJcbl0pLmNvbmZpZyhmdW5jdGlvbigkaHR0cFByb3ZpZGVyKXtcclxuICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdBdXRoSW50ZXJjZXB0b3JzJyk7XHJcbn0pO1xyXG4iLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5hcHAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xyXG4kdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG4vLyAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcblxyXG4gJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAgICAuc3RhdGUoJ2FwcCcsIHtcclxuICAgICAgICAgICAgIHVybDogJy8nLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnaGVhZGVyJzoge1xyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tZW51ZXMvbWFpbk1lbnUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdNYWluTWVudUNvbnRyb2xsZXInXHJcbiAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICdjb250ZW50Jzoge1xyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2hvbWUuaHRtbCdcclxuICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgJ2Zvb3Rlcic6IHtcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS9mb290ZXIuaHRtbCdcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZWdpc3RlclN0ZXAxJyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyL3N0ZXAxJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlZ0N0cmwnLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWdpc3RlcicsXHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2lzTG9nZ2VkT3V0L3JlZ2lzdGVyU3RlcDEuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3JlZ2lzdGVyU3RlcDInLFxyXG4gICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB1cmw6ICcvcmVnaXN0ZXIvc3RlcDInLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVnQ3RybCcsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlZ2lzdGVyJyxcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvaXNMb2dnZWRPdXQvcmVnaXN0ZXJTdGVwMi5odG1sJyxcclxuICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Jlc2V0dXNlcm5hbWUnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Jlc2V0dXNlcm5hbWUnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3Jlc2V0L3VzZXJuYW1lLmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1c2VybmFtZUN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3VzZXJuYW1lJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZXNldHBhc3N3b3JkJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJy9yZXNldHBhc3N3b3JkJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9yZXNldC9wYXNzd29yZC5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAncGFzc3dvcmRDdHJsJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdwYXNzd29yZCdcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncmVzZXQnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Jlc2V0Lzp0b2tlbicsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVzZXQvbmV3cGFzc3dvcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Jlc2V0Q3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVzZXQnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhY3RpdmF0ZScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvYWN0aXZhdGUvOnRva2VuJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9hY3RpdmF0aW9uL2FjdGl2YXRlLmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdlbWFpbEN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2VtYWlsJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZXNlbmQnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Jlc2VuZCcsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvYWN0aXZhdGlvbi9yZXNlbmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Jlc2VuZEN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Jlc2VuZCdcclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG5cclxuICAvLyDsnKDsoIAg7ZSE66Gc7ZWEIOuqqOyVhCDrhpPsnYAg6rOzICAvIOqzhOyglSDsoJXrs7RcclxuICAgICAgICAgICAuc3RhdGUoJ2FwcC5wcm9maWxlcycsIHtcclxuICAgICAgICAgICAgIHVybDogJ3Byb2ZpbGVzJyxcclxuICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdpc0xvZ2dlZEluL3VzZXJQcm9maWxlcy5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwcm9maWxlQ3RybCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdwcm9maWxlJyxcclxuICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcblxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4vLyDsnpHqsIAg7J6R7ZKIIOuqqOyVhCDrhpPsnYAg6rOzXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5waG90b3MnLCB7XHJcbiAgICAgICAgICAgIHVybDogJ3Bob3RvcycsXHJcbiAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2lzTG9nZ2VkSW4vYXJ0aXN0UGhvdG9zLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2FydGlzdFBob3RvQ3RybCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhcnRpc3RQaG90bycsXHJcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH0pXHJcblxyXG4vLyDrk7HroZ3rkJwg7J6R6rCA7J2YIOyeke2SiCDsl4XroZzrk5wgJiDsnpHqsIAg7ZSE66Gc7ZWEXHJcbiAgICAgICAgICAgLnN0YXRlKCdhcHAuYXJ0aXN0UHJvZmlsZXMnLCB7XHJcbiAgICAgICAgICAgICB1cmw6ICdhcnRpc3QnLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2lzTG9nZ2VkSW4vYXJ0aXN0UHJvZmlsZXMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYXJ0aXN0UHJvZmlsZUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYXJ0aXN0UHJvZmlsZScsXHJcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiB0cnVlXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmludHJvJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJ2ludHJvJyxcclxuICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NvbXBhbnkvaW50cm8uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAudGVybXMnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAndGVybXMnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS90ZXJtcy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5wcml2YWN5JyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJ3ByaXZhY3knLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS9wcml2YWN5Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT0gIGFydGlzdCAvIGdhbGxlcnkgLyBleGhpYml0aW9uIC8gYm9hcmQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG4vLyA9PT09PT09PT09PT09PT09PT0gIGFydGlzdCDsubTthYzqs6DrpqwgPT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuYXJ0aXN0Jywge1xyXG4gICAgICAgICAgICAgIHVybDogJ2FydGlzdC9jYXRlZ29yeT06Y29kZScsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2Zvcm0uaHRtbCdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnbWVudUBhcHAuYXJ0aXN0Jzp7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxBcnRpc3QvYXJ0aXN0VGFwLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYXJ0aXN0VGFwQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2FydGlzdFRhcCcsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5hcnRpc3QnOntcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEFydGlzdC9hcnRpc3RzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYXJ0aXN0c0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhcnRpc3RzJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmdhbGxlcnknLCB7XHJcbiAgICAgICAgICAgICAgIHVybDogJ2dhbGxlcnkvY2F0ZWdvcnk9OmNvZGUnLFxyXG4gICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFpbi9mb3JtLmh0bWwnXHJcbiAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAnbWVudUBhcHAuZ2FsbGVyeSc6e1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEdhbGxlcnkvZ2FsbGVyeVRhcC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdnYWxsZXJ5VGFwQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnYWxsZXJ5VGFwJ1xyXG4gICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5nYWxsZXJ5Jzp7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsR2FsbGVyeS9waG90b3MuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZ2FsbGVyeVBob3Rvc0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZ2FsbGVyeVBob3RvcycsXHJcbiAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmJvYXJkJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnYm9hcmQvY2F0ZWdvcnk9OmNvZGUnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFpbi9mb3JtLmh0bWwnXHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICdtZW51QGFwcC5ib2FyZCc6e1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxCb2FyZC9ib2FyZFRhcC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYm9hcmRUYXBDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLmJvYXJkJzp7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEJvYXJkL2JvYXJkcy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYm9hcmRzQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYm9hcmRzJyxcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgLnN0YXRlKCdhcHAuZGlzcGxheScsIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnZGlzcGxheS9jYXRlZ29yeT06Y29kZScsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2Zvcm0uaHRtbCdcclxuICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICdtZW51QGFwcC5kaXNwbGF5Jzp7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsRGlzcGxheS9kaXNwbGF5VGFwLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2Rpc3BsYXlNZW51Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5kaXNwbGF5Jzp7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsRGlzcGxheS9jb250ZW50Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2Rpc3BsYXlNZW51Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgLnN0YXRlKCdhcHAuYXJ0aXN0LnNob3cnLCB7XHJcbiAgICAgICAgICAgICAgIHVybDogJy9hcnRpc3Q6YXJ0aXN0X2lkJyxcclxuICAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgICdjb250ZW50QCc6e1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEFydGlzdC9hcnRpc3QuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYXJ0aXN0UGhvdG9DdHJsJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2FydGlzdFBob3RvJyxcclxuICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgLnN0YXRlKCdhcHAuZ2FsbGVyeS5zaG93Jywge1xyXG4gICAgICAgICAgICAgdXJsOiAnL3Bob3RvX3R5cGU9OnBob3RvX3R5cGUvcGhvdG86cGhvdG9faWQnLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnY29udGVudEAnOntcclxuICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsR2FsbGVyeS9waG90by5odG1sJyxcclxuICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZ2FsbGVyeVBob3RvQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZ2FsbGVyeXBob3RvJyxcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAuc3RhdGUoJ2FwcC5ib2FyZC5zaG93JyxcclxuICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICB1cmw6ICcvYm9hcmQ6Ym9hcmRfaWQnLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnY29udGVudHNAYXBwLmJvYXJkJzp7XHJcbiAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFsQm9hcmQvYm9hcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2JvYXJkQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYm9hcmQnLFxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5ib2FyZC5jcmVhdGUnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOicvY3JlYXRlJyxcclxuICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLmJvYXJkJzp7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOicvcGFydGlhbEJvYXJkL2JvYXJkQ3JlYXRlLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYm9hcmRDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYm9hcmQnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgICAgLnN0YXRlKCdhcHAuYm9hcmQuZWRpdCcsXHJcbiAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgdXJsOiAnL2VkaXQvOmJvYXJkX2lkJyxcclxuICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5ib2FyZCc6e1xyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxCb2FyZC9ib2FyZFVwZGF0ZS5odG1sJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2JvYXJkQ3RybCcsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2JvYXJkJyxcclxuICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogdHJ1ZVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH1cclxuICAgICAgICAgfSlcblxuICAgICAgICAgLnN0YXRlKCdhcHAuZ2FsbGVyeS5lZGl0Jywge1xuICAgICAgICAgICB1cmw6ICcvZWRpdC86cGhvdG9faWQnLFxuICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgJ2NvbnRlbnRAJzp7XG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsR2FsbGVyeS9waG90b0VkaXQuaHRtbCcsXG4gICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZ2FsbGVyeVBob3RvQ3RybCcsXG4gICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnYWxsZXJ5cGhvdG8nLFxuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgfVxuICAgICAgICAgfSk7XG5cclxufSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnY29tbWVudENvbnRyb2xsZXJzJyxbJ2NvbW1lbnRTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignY29tbWVudEN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsICR3aW5kb3csIENvbW1lbnQpIHtcclxuICAvLyBpZOyXkCDtlbTri7ntlZjripQg6rCS7J2EIOuztOyXrOyjvOuKlCDtlajsiJhcclxuICAvLyDqsJLsnYQg6rCA7KC47Jik64qUIO2VqOyImFxyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gICRzY29wZS51c2VyQ29tbWVudCA9IGZhbHNlO1xyXG5cclxuICAvLyDsvZTrqZjtirgg7IOd7ISx7ZWY6riwXHJcbiAgICB0aGlzLmNyZWF0ZUNvbW1lbnQgPSBmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9jb21tZW50JywgYXBwLnJlc3BvbnNlKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIC8vIGlmKHZhbGlkKXtcclxuICAgICAgLy8gICBDb21tZW50LmNyZWF0ZUNvbW1lbnQoYXBwLnJlc3BvbnNlKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAvL1xyXG4gICAgICAvL1xyXG4gICAgICAvLyAgIH0pO1xyXG4gICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAvLyAgIGFwcC5lcnJvck1zZyA9ICcnO1xyXG4gICAgICAvLyB9XHJcbiAgICAgIC8vIGlmKHZhbGlkKXtcclxuICAgICAgLy8gICB2YXIgYm9hcmRfaWQgPSByZXNwb25zZS5ib2FyZF9pZDtcclxuICAgICAgLy8gICB2YXIgcGhvdG9faWQgPSByZXNwb25zZS5waG90b19pZDtcclxuICAgICAgLy8gICB2YXIgY29tbWVudCAgPSByZXNwb25zZS5jb21tZW50O1xyXG4gICAgICAvLyAgICAkaHR0cC5wb3N0KCcvYXBpL2NvbW1lbnQnLCB7XHJcbiAgICAgIC8vICAgICAgYm9hcmRfaWQ6IGJvYXJkX2lkLCBwaG90b19pZDogcGhvdG9faWQsIGNvbW1lbnQ6IGNvbW1lbnRcclxuICAgICAgLy8gICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgIC8vICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAvLyAgICB9KTtcclxuICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgLy8gICAkd2luZG93LmFsZXJ0KFwi64yT6riA7J2EIOyeheugpe2VtOyjvOyEuOyalC5cIik7XHJcbiAgICAgIC8vIH1cclxuXHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuICAkc2NvcGUuZ2V0Q29tbWVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgcGhvdG9faWQgPSAkc3RhdGVQYXJhbXMucGhvdG9faWQ7XHJcbiAgICB2YXIgYm9hcmRfaWQgPSAkc3RhdGVQYXJhbXMuYm9hcmRfaWQ7XHJcbiAgICB2YXIgaWQgPSBcIlwiO1xyXG5cclxuICAgIHZhciBkYXRhID0ge1xyXG4gICAgICBwaG90b19pZDpwaG90b19pZCxcclxuICAgICAgYm9hcmRfaWQ6Ym9hcmRfaWRcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGNvbmZpZyA9IHtcclxuICAgICAgcGFyYW1zOiBkYXRhLFxyXG4gICAgICBoZWFkZXJzIDogeydBY2NlcHQnIDogJ2FwcGxpY2F0aW9uL2pzb24nfVxyXG4gICAgfTtcclxuXHJcbiAgICBpZihwaG90b19pZCl7XHJcbiAgICAgIGlkID0gcGhvdG9faWQ7XHJcbiAgICAgICRodHRwLmdldCgnL2FwaS9jb21tZW50LycraWQsIGNvbmZpZykudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgJHNjb3BlLmNvbW1lbnRzID0gcmVzcG9uc2UuZGF0YVswXTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmKGJvYXJkX2lkKXtcclxuICAgICAgaWQgPSBib2FyZF9pZDtcclxuICAgICAgJGh0dHAuZ2V0KCcvYXBpL2NvbW1lbnQvJytpZCwgY29uZmlnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAkc2NvcGUuY29tbWVudHMgPSByZXNwb25zZS5kYXRhWzBdO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHNjb3BlLmNvbW1lbnRzID0gJ+yLnOyKpO2FnOydtCDrtojslYjsoJXtlanri4jri6QuJztcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyDsvZTrqZjtirgg7IOd7ISx7ZWY6riwXHJcbiAgICAkc2NvcGUuYWRkQ29tbWVudCA9IGZ1bmN0aW9uKHJlc3BvbnNlLCB2YWxpZCl7XHJcbiAgICAgIGlmKHZhbGlkKXtcclxuICAgICAgICB2YXIgYm9hcmRfaWQgPSByZXNwb25zZS5ib2FyZF9pZDtcclxuICAgICAgICB2YXIgcGhvdG9faWQgPSByZXNwb25zZS5waG90b19pZDtcclxuICAgICAgICB2YXIgY29tbWVudCAgPSByZXNwb25zZS5jb21tZW50O1xyXG4gICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL2NvbW1lbnQnLCB7XHJcbiAgICAgICAgICAgYm9hcmRfaWQ6IGJvYXJkX2lkLCBwaG90b19pZDogcGhvdG9faWQsIGNvbW1lbnQ6IGNvbW1lbnRcclxuICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkd2luZG93LmFsZXJ0KFwi64yT6riA7J2EIOyeheugpe2VtOyjvOyEuOyalC5cIik7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9O1xyXG5cclxuXHJcbiAgLy8g6rCS7J2EIOyCreygnO2VmOuKlCDtlajsiJhcclxuICAkc2NvcGUuZGVsZXRlQ29tbWVudCA9IGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgIHZhciBpZCA9IHJlc3BvbnNlLmNvbW1lbnRfaWQ7XHJcbiAgXHQkaHR0cC5kZWxldGUoJy9hcGkvY29tbWVudC8nK2lkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gIFx0fSk7XHJcbiAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gIC5jb250cm9sbGVyKCdJbWFnZUNyb3BDdHJsJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgICAgICRzY29wZS5teUNyb3BwZWRJbWFnZSA9ICcnO1xyXG4gICAgICAkc2NvcGUubXlJbWFnZSA9IHVuZGVmaW5lZDtcclxuICAgICAgJHNjb3BlLmNyb2JqZWN0ID0ge307XHJcblxyXG4gICAgICB2YXIgaGFuZGxlRmlsZVNlbGVjdCA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgIHZhciBmaWxlID0gZXZ0LmN1cnJlbnRUYXJnZXQuZmlsZXNbMF07XHJcbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm15SW1hZ2UgPSBldnQudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgIH07XHJcbiAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsZUlucHV0JykpLm9uKCdjaGFuZ2UnLCBoYW5kbGVGaWxlU2VsZWN0KTtcclxuXG5cbiAgICAgIHRoaXMuaW1hZ2VDcm9wID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGltZ0Jsb2IgPSAkc2NvcGUubXlJbWFnZTtcclxuICAgICAgICBjb25zb2xlLmxvZyhpbWdCbG9iKTtcbiAgICAgIH07XHJcbiAgICB9KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignT3BpbmlvbkNvbnRyb2xsZXInLCBmdW5jdGlvbiAoICRzY29wZSwgJGh0dHAsICRzdGF0ZVBhcmFtcykge1xyXG5cclxuLy8g7KKL7JWE7JqUIOqwgOyguOyYpOq4sFxyXG4vLyDrjJPquIAg6rCc7IiYIOqwgOyguOyYpOq4sFxyXG4kc2NvcGUuZG9MaWtlU3RhdHVzID0gdHJ1ZTtcclxuICAgJHNjb3BlLmRvTGlrZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgJHNjb3BlLmRvTGlrZVN0YXR1cyA9ICEkc2NvcGUuZG9MaWtlU3RhdHVzO1xyXG4gICB9O1xyXG5cclxuXHJcbi8vIOqyjOyLnO2MkOyXkCDtlbTri7ntlZjripQg64yT6riAIOuwjyDsoovslYTsmpQg6rCA7KC47Jik6riwXHJcbiAgJHNjb3BlLmdldE9waW5pb24gPSBmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICBcdFx0dmFyIGlkID0gJHN0YXRlUGFyYW1zLmlkO1xyXG4gICAgJGh0dHAuZ2V0KCcvYXBpL29waW5pb24vJytpZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICRzY29wZS5vcGluaW9uSW5mbyA9IHJlc3BvbnNlLmRhdGFbMF1bMF07XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICAvLyAkc2NvcGUuYWRkTGlrZSA9IGZ1bmN0aW9uKCl7XHJcbiAgLy8gICAkc2NvcGUubGlrZVN0YXR1cyA9ICEkc2NvcGUubGlrZVN0YXR1cztcclxuICAvLyAgIGlmKCRzY29wZS5saWtlU3RhdHVzKXtcclxuICAvLyAgICAgY29uc29sZS5sb2coJ+yCrOyaqeyekOqwgCDsoovslYTsmpTrpbwg7Leo7IaM7ZWp64uI64ukLicpO1xyXG4gIC8vICAgICB2YXIgaWQgPSAkc3RhdGVQYXJhbXMuaWQ7XHJcbiAgLy8gICAgICRodHRwLmRlbGV0ZSgnL2FwaS9vcGluaW9uLycraWQse1xyXG4gIC8vICAgICAgICAgYm9hcmRfaWQ6aWRcclxuICAvLyAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgLy8gICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgLy8gICAgIH0pO1xyXG4gIC8vICAgfWVsc2Uge1xyXG4gIC8vICAgICBjb25zb2xlLmxvZygn7IKs7Jqp7J6Q6rCAIOyii+yVhOyalOulvCDriIzroIDsirXri4jri6QuJyk7XHJcbiAgLy8gICAgIHZhciBib2FyZF9pZCA9ICRzdGF0ZVBhcmFtcy5pZDtcclxuICAvLyAgICAgJGh0dHAucG9zdCgnL2FwaS9vcGluaW9uLycse1xyXG4gIC8vICAgICAgICAgYm9hcmRfaWQ6Ym9hcmRfaWRcclxuICAvLyAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgLy8gICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgLy8gICAgIH0pO1xyXG4gIC8vICAgfVxyXG4gIC8vIH07XHJcblxyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5kaXJlY3RpdmUoJ2ZpbGVNb2RlbCcsZnVuY3Rpb24oJHBhcnNlKXtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XHJcbiAgICAgIHZhciBwYXJzZWRGaWxlID0gJHBhcnNlKGF0dHJzLmZpbGVNb2RlbCk7XHJcbiAgICAgIHZhciBwYXJzZWRmaWxlU2V0dGVyID0gcGFyc2VkRmlsZS5hc3NpZ247XHJcblxyXG4gICAgICBlbGVtZW50LmJpbmQoJ2NoYW5nZScsZnVuY3Rpb24oKXtcclxuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtcclxuICAgICAgICAgIHBhcnNlZGZpbGVTZXR0ZXIoc2NvcGUsIGVsZW1lbnRbMF0uZmlsZXNbMF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5kaXJlY3RpdmUoJ21hdGNoJyxmdW5jdGlvbigpe1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgY29udHJvbGxlcjpmdW5jdGlvbigkc2NvcGUpe1xyXG4gICAgICAkc2NvcGUuZG9Db25maXJtID0gZnVuY3Rpb24odmFsdWVzKXtcclxuXHJcbiAgICAgICAgJHNjb3BlLmNvbmZpcm1lZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGVsZSl7XHJcbiAgICAgICAgICBpZigkc2NvcGUuY29uZmlybSA9PSBlbGUpe1xyXG4gICAgICAgICAgICAkc2NvcGUuY29uZmlybWVkID0gdHJ1ZTtcclxuICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLmNvbmZpcm1lZCA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfSxcclxuXHJcbiAgICBsaW5rOmZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XHJcbiAgICAgIGF0dHJzLiRvYnNlcnZlKCdtYXRjaCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2NvcGUubWF0Y2hlcyA9IEpTT04ucGFyc2UoYXR0cnMubWF0Y2gpO1xyXG4gICAgICAgIHNjb3BlLmRvQ29uZmlybShzY29wZS5tYXRjaGVzKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBzY29wZS4kd2F0Y2goJ2NvbmZpcm0nLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHNjb3BlLm1hdGNoZXMgPSBKU09OLnBhcnNlKGF0dHJzLm1hdGNoKTtcclxuICAgICAgICBzY29wZS5kb0NvbmZpcm0oc2NvcGUubWF0Y2hlcyk7XHJcblxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FydGlzdFNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ0FydGlzdCcsIGZ1bmN0aW9uKCRodHRwKXtcclxuICBhcnRpc3RGYWN0b3J5ID0ge307XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09IEFydGlzdCBDYXRlZ29yeSA9PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy9cclxuICBhcnRpc3RGYWN0b3J5LnJlYWRBcnRpc3RUYXAgPSBmdW5jdGlvbigpe1xyXG4gICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYXJ0aXN0TWVudScpO1xyXG4gIH07XHJcblxyXG4gIGFydGlzdEZhY3RvcnkucmVhZEFydGlzdHMgPSBmdW5jdGlvbih1c2VyX3R5cGUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9hcnRpc3RNZW51LycrdXNlcl90eXBlKTtcclxuICB9O1xyXG5cclxuICBhcnRpc3RGYWN0b3J5LnJlYWRBcnRpc3QgPSBmdW5jdGlvbihhcnRpc3RfaWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9hcnRpc3QvJythcnRpc3RfaWQpO1xyXG4gIH07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG5cclxuLy8gQXJ0aXN0LmNyZWF0ZVBob3RvKHBob3RvRGF0YSlcclxuICBhcnRpc3RGYWN0b3J5LmNyZWF0ZUFyaXN0UGhvdG8gPSBmdW5jdGlvbihwaG90b0RhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvYXJ0aXN0UHJvZmlsZXMnLCBwaG90b0RhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBBcnRpc3QudXBkYXRlQXJpc3RJbmZvKGFydGlzdERhdGEpXHJcbiAgYXJ0aXN0RmFjdG9yeS51cGRhdGVBcmlzdFByb2ZpbGUgPSBmdW5jdGlvbihhcnRpc3REYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvYXJ0aXN0UHJvZmlsZXMnLCBhcnRpc3REYXRhKTtcclxuICB9O1xyXG5cclxuLy8gQXJ0aXN0LnJlYWRBcnRpc3RQcm9maWxlKHVzZXJfaWQpXHJcbiAgYXJ0aXN0RmFjdG9yeS5yZWFkQXJ0aXN0UHJvZmlsZSA9IGZ1bmN0aW9uKGFydGlzdF9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2FydGlzdFByb2ZpbGVzLycrYXJ0aXN0X2lkKTtcclxuICB9O1xyXG5cclxuLy9cclxuICBhcnRpc3RGYWN0b3J5LnJlYWRBcmlzdFBob3RvID0gZnVuY3Rpb24oYXJ0aXN0X2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYXJ0aXN0UGhvdG9zLycrYXJ0aXN0X2lkKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gYXJ0aXN0RmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhdXRoU2VydmljZXMnLFtdKVxyXG5cclxuLmZhY3RvcnkoJ0F1dGgnLCBmdW5jdGlvbigkaHR0cCwgQXV0aFRva2VuKXtcclxuICAgIHZhciBhdXRoRmFjdG9yeSA9IHt9O1xyXG5cclxuXHJcbi8vIEF1dGguZ2V0VXNlcigpO1xyXG4gICAgYXV0aEZhY3RvcnkuZ2V0VXNlciA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGlmKEF1dGhUb2tlbi5nZXRUb2tlbigpKXtcclxuICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9tZScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICRxLnJlamVjdCh7bWVzc2FnZTonVXNlciBoYXMgbm8gdG9rZW4nfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4vLyBBdXRoLmxvZ2luKGxvZ2luRGF0YSk7XHJcbiAgICBhdXRoRmFjdG9yeS5sb2dpbiA9IGZ1bmN0aW9uKGxvZ2luRGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2F1dGhlbnRpY2F0ZScsIGxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oZGF0YS5kYXRhLnRva2VuKTtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuLy8gQXV0aC5pc0xvZ2dlZEluKCk7XHJcbiAgICBhdXRoRmFjdG9yeS5pc0xvZ2dlZEluID0gZnVuY3Rpb24oKXtcclxuICAgICAgaWYoQXV0aFRva2VuLmdldFRva2VuKCkpe1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbi8vIEF1dGgubG9nb3V0KCk7XHJcbiAgICBhdXRoRmFjdG9yeS5sb2dvdXQgPSBmdW5jdGlvbigpe1xyXG4gICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gYXV0aEZhY3Rvcnk7XHJcbn0pXHJcblxyXG4uZmFjdG9yeSgnQXV0aFRva2VuJywgZnVuY3Rpb24oJHdpbmRvdyl7XHJcbiAgdmFyIGF1dGhUb2tlbkZhY3RvcnkgPSB7fTtcclxuXHJcbiAgLy8gQXV0aFRva2VuLnNldFRva2VuKHRva2VuKTtcclxuICBhdXRoVG9rZW5GYWN0b3J5LnNldFRva2VuID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgaWYodG9rZW4pe1xyXG4gICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTtcclxuICAgIH1lbHNlIHtcclxuICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nLCB0b2tlbik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbi8vIEF1dGhUb2tlbi5nZXRUb2tlbigpO1xyXG4gIGF1dGhUb2tlbkZhY3RvcnkuZ2V0VG9rZW4gPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcbiAgfTtcclxuICByZXR1cm4gYXV0aFRva2VuRmFjdG9yeTtcclxufSlcclxuXHJcbi5mYWN0b3J5KCdBdXRoSW50ZXJjZXB0b3JzJywgZnVuY3Rpb24oQXV0aFRva2VuKXtcclxuICB2YXIgYXV0aEludGVyY2VwdG9yc0ZhY3RvcnkgPSB7fTtcclxuXHJcbiAgYXV0aEludGVyY2VwdG9yc0ZhY3RvcnkucmVxdWVzdCA9IGZ1bmN0aW9uKGNvbmZpZyl7XHJcbiAgICB2YXIgdG9rZW4gPSBBdXRoVG9rZW4uZ2V0VG9rZW4oKTtcclxuXHJcbiAgICBpZih0b2tlbikgY29uZmlnLmhlYWRlcnNbJ3gtYWNjZXNzLXRva2VuJ10gPSB0b2tlbjtcclxuXHJcbiAgICByZXR1cm4gY29uZmlnO1xyXG4gIH07XHJcbiAgcmV0dXJuIGF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2JvYXJkU2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnQm9hcmQnLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgYm9hcmRGYWN0b3J5ID0ge307XHJcblxyXG4gIGJvYXJkRmFjdG9yeS5yZWFkQm9hcmRUYXAgPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9ib2FyZE1lbnUnKTtcclxuICB9O1xyXG5cclxuICBib2FyZEZhY3RvcnkucmVhZEJvYXJkcyA9IGZ1bmN0aW9uKGJvYXJkX3R5cGUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9ib2FyZE1lbnUvJytib2FyZF90eXBlKTtcclxuICB9O1xyXG5cclxuICBib2FyZEZhY3RvcnkucmVhZEJvYXJkID0gZnVuY3Rpb24oYm9hcmRfaWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnYXBpL2JvYXJkLycrYm9hcmRfaWQpO1xyXG4gIH07XHJcblxyXG4gIGJvYXJkRmFjdG9yeS5jcmVhdGVCb2FyZCA9IGZ1bmN0aW9uKGJvYXJkRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9ib2FyZE1lbnUnLGJvYXJkRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGJvYXJkRmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdjb21tZW50U2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnQ29tbWVudCcsIGZ1bmN0aW9uKCRodHRwKXtcclxuICBjb21tZW50RmFjdG9yeSA9IHt9O1xyXG5cclxuLy8gR2FsbGVyeS5yZWFkUGhvdG9EYXRhKHVzZXJfaWQpXHJcbiAgY29tbWVudEZhY3RvcnkuY3JlYXRlQ29tbWVudCA9IGZ1bmN0aW9uKGNvbW1lbnREYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2NvbW1lbnQnLGNvbW1lbnREYXRhKTtcclxuICB9O1xyXG5cclxuXHJcbiAgcmV0dXJuIGNvbW1lbnRGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2dhbGxlcnlTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdHYWxsZXJ5JywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIGdhbGxlcnlGYWN0b3J5ID0ge307XHJcblxyXG4vLyBHYWxsZXJ5LnJlYWRHYWxsZXJ5VGFwKClcclxuICBnYWxsZXJ5RmFjdG9yeS5yZWFkR2FsbGVyeVRhcCA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gICRodHRwLmdldCgnL2FwaS9nYWxsZXJ5TWVudScpO1xyXG4gIH07XHJcblxyXG4vLyBHYWxsZXJ5LnJlYWRQaG90b3MocGhvdG9fdHlwZSk7XHJcbiAgZ2FsbGVyeUZhY3RvcnkucmVhZFBob3RvcyA9IGZ1bmN0aW9uKHBob3RvX3R5cGUpe1xyXG4gICAgcmV0dXJuICAkaHR0cC5nZXQoJy9hcGkvZ2FsbGVyeU1lbnUvJytwaG90b190eXBlKTtcclxuXHJcbiAgfTtcclxuLy8gR2FsbGVyeS5yZWFkUGhvdG9EYXRhKHVzZXJfaWQpXHJcbiAgZ2FsbGVyeUZhY3RvcnkucmVhZFBob3RvRGF0YSA9IGZ1bmN0aW9uKHBob3RvX2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvZ2FsbGVyeS8nK3Bob3RvX2lkKTtcclxuICB9O1xyXG5cclxuICBnYWxsZXJ5RmFjdG9yeS5yZWFkTW9yZVBob3RvID0gZnVuY3Rpb24ocGhvdG9fdHlwZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2dhbGxlcnlNZW51LycrIHBob3RvX3R5cGUpO1xyXG4gIH07XHJcblxyXG5cclxuICByZXR1cm4gZ2FsbGVyeUZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgndXNlclNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ1VzZXInLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgdXNlckZhY3RvcnkgPSB7fTtcclxuXHJcbi8vIFVzZXIuY3JlYXRlKHJlZ0RhdGEpXHJcbiAgdXNlckZhY3RvcnkuY3JlYXRlID0gZnVuY3Rpb24ocmVnRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2VycycsIHJlZ0RhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLmFjdGl2ZUFjY291bnQodG9rZW4pO1xyXG4gIHVzZXJGYWN0b3J5LmFjdGl2ZUFjY291bnQgPSBmdW5jdGlvbih0b2tlbil7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL2FjdGl2YXRlLycrdG9rZW4pO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLmNoZWNrQ3JlZGVudGlhbHMobG9naW5EYXRhKTtcclxuICB1c2VyRmFjdG9yeS5jaGVja0NyZWRlbnRpYWxzID0gZnVuY3Rpb24obG9naW5EYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3Jlc2VuZCcsIGxvZ2luRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIucmVzZW5kTGluayh1c2VybmFtZSlcclxuICB1c2VyRmFjdG9yeS5yZXNlbmRMaW5rID0gZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9yZXNlbmQnLCB1c2VybmFtZSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuc2VuZFVzZXJuYW1lKHVzZXJEYXRhKTtcclxuICB1c2VyRmFjdG9yeS5zZW5kVXNlcm5hbWUgPSBmdW5jdGlvbih1c2VyRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Jlc2V0dXNlcm5hbWUvJyt1c2VyRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuc2VuZFBhc3N3b3JkKHJlc2V0RGF0YSk7XHJcbiAgdXNlckZhY3Rvcnkuc2VuZFBhc3N3b3JkID0gZnVuY3Rpb24ocmVzZXREYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvcmVzZXRwYXNzd29yZCcsIHJlc2V0RGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIucmVzZXRQYXNzd29yZCh0b2tlbik7XHJcbiAgdXNlckZhY3RvcnkucmVzZXRQYXNzd29yZCA9IGZ1bmN0aW9uKHRva2VuKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcmVzZXRwYXNzd29yZC8nK3Rva2VuKTtcclxuICB9O1xyXG5cclxuXHJcbi8vIFVzZXIuc2F2ZVBhc3N3b3JkKHJlZ0RhdGEpXHJcbiAgdXNlckZhY3Rvcnkuc2F2ZVBhc3N3b3JkID0gZnVuY3Rpb24ocmVnRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3NhdmVwYXNzd29yZCcsIHJlZ0RhdGEpO1xyXG4gIH07XHJcblxyXG4vLyAgVXNlci5yZW5ld1Nlc3Npb24odXNlcm5hbWUpXHJcbiAgdXNlckZhY3RvcnkucmVuZXdTZXNzaW9uID0gZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9yZW5ld1Rva2VuLycrIHVzZXJuYW1lKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5yZXNldFBlcm1pc3Npb24odXNlckRhdGEpXHJcbiAgdXNlckZhY3RvcnkucmVzZXRQZXJtaXNzaW9uID0gZnVuY3Rpb24odXNlckRhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS91c2Vycy8nLCB1c2VyRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuY2hlY2tQZXJtaXNzaW9uKHVzZXJEYXRhKVxyXG4gIHVzZXJGYWN0b3J5LmNoZWNrUGVybWlzc2lvbiA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvJyt1c2VybmFtZSk7XHJcbiAgfTtcclxuXHJcblxyXG4vLyByZXNldCAvIGNoZWNrIC8gcmVuZXcgLyBzYXZlIC8gc2VuZCAvLyByZXNlbmRcclxuXHJcbi8vIENyZWF0ZSAvLyByZWFkIC8vIHVwZGF0ZSAvLyBkZWxldGUgLy9cclxuXHJcbi8vIFVzZXIucmVhZFByb2ZpbGVzKHVzZXJuYW1lKVxyXG4gIHVzZXJGYWN0b3J5LnJlYWRQcm9maWxlcyA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlclByb2ZpbGVzLycrdXNlcm5hbWUpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLnVwZGF0ZVByb2ZpbGVzKHVwZGF0ZURhdGEpXHJcbiAgdXNlckZhY3RvcnkudXBkYXRlUHJvZmlsZXMgPSBmdW5jdGlvbih1cGRhdGVEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvdXNlclByb2ZpbGVzJywgdXBkYXRlRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHVzZXJGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FydGlzdENvbnRyb2xsZXJzJyxbJ3VzZXJTZXJ2aWNlcycsICdhcnRpc3RTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignYXJ0aXN0VGFwQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgQXJ0aXN0KXtcclxuICAvLyDsoITssrQg66mU64m0IOqwgOyguOyYpOq4sFxyXG4gIEFydGlzdC5yZWFkQXJ0aXN0VGFwKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgJHNjb3BlLmhlYWRlcnMgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignYXJ0aXN0c0N0cmwnLCBmdW5jdGlvbiAoJHN0YXRlUGFyYW1zLCBBcnRpc3QpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgdmFyIHVzZXJfdHlwZSA9ICRzdGF0ZVBhcmFtcy5jb2RlO1xyXG5cclxuICAgIGFwcC5kYXRhID0ge1xyXG4gICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgIHtzb3J0OiAnLWNyZWF0ZWQnLCBuYW1lOiAn7LWc7Iug7IicJ31cclxuICAgICBdLFxyXG4gICAgIHNlbGVjdGVkT3B0aW9uOiAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgIH07XHJcblxyXG4gICAgQXJ0aXN0LnJlYWRBcnRpc3RzKHVzZXJfdHlwZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5hcnRpc3REYXRhcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3VwbG9hZEN0cmwnLCBmdW5jdGlvbiAoJGh0dHAsICR0aW1lb3V0LCAkc2NvcGUsIEFydGlzdCwgJHN0YXRlKSB7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgICBhcHAuZGF0YSA9IHtcclxuICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICB7aWQ6ICcxJywgbmFtZTogJ+u2kyDquIDslKgnfSxcclxuICAgICAgIHtpZDogJzInLCBuYW1lOiAn7Y6cIOq4gOyUqCd9LFxyXG4gICAgICAge2lkOiAnMycsIG5hbWU6ICfrr7jrtoTrpZgnfVxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgIH07XHJcbiAgICAvLyDtjIzsnbzsnZgg6rK966Gc66eMIOyggOyepe2VmOq4sFxyXG4gICAgdGhpcy5maWxlID0ge307XHJcblxyXG4gICAgdGhpcy5tYWluUGhvdG9DaGFuZ2VkID0gZnVuY3Rpb24oZmlsZXMpIHtcclxuICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwICYmIGZpbGVzWzBdLm5hbWUubWF0Y2goL1xcLihwbmd8anBlZ3xqcGcpJC8pKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbC5kYXRhVXJsID0gZS50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgIHRoaXMucmVhZFBob3RvID0gZnVuY3Rpb24oKXtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgICAgICRodHRwLnBvc3QoJy9hcGkvdXBsb2FkVGVtcC8nLCBmZCx7XHJcbiAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZH1cclxuICAgICAgfSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgYXBwLm1haW5JbWFnZVBhdGggPSBkYXRhLmRhdGEucGhvdG9fcGF0aDtcclxuICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4vLyDsnpHqsIAg7J6R7ZKIIOyXheuhnOuTnFxyXG4gICAgICB0aGlzLmNyZWF0ZVBob3RvID0gZnVuY3Rpb24odXBsb2FkRGF0YSl7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgaWYoIXVwbG9hZERhdGEpe1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+u5iOy5uOydhCDrqqjrkZAg7J6F66Cl7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZihhcHAudXBsb2FkRGF0YS50aXRsZSA9PT0gdW5kZWZpbmVkIHx8IGFwcC51cGxvYWREYXRhLnRpdGxlID09PSBudWxsIHx8IGFwcC51cGxvYWREYXRhLnRpdGxlID09PSAnJykge1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7J6R7ZKI7J2YIOygnOuqqeydhCDsnoXroKXtlbTso7zshLjsmpQuJztcclxuICAgICAgICAgIH0gZWxzZSBpZihhcHAudXBsb2FkRGF0YS5kZXRhaWwgPT09IHVuZGVmaW5lZCB8fCBhcHAudXBsb2FkRGF0YS5kZXRhaWwgPT09IG51bGwgfHwgYXBwLnVwbG9hZERhdGEuZGV0YWlsID09PSAnJykge1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7J6R7ZKI7J2YIOyEpOuqheydhCDsnoXroKXtlbTso7zshLjsmpQuJztcclxuICAgICAgICAgIH0gZWxzZSBpZihhcHAubWFpbkltYWdlUGF0aCA9PT0gdW5kZWZpbmVkIHx8IGFwcC5tYWluSW1hZ2VQYXRoID09PSAgbnVsbCB8fCBhcHAubWFpbkltYWdlUGF0aCA9PT0gJycpe1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7J6R7ZKIIOydtOuvuOyngOulvCDshKDtg53tlbTso7zshLjsmpQuJztcclxuICAgICAgICAgIH0gZWxzZSBpZihhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZCA9PT0gJzAnKXtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yeke2SiOydmCDsooXrpZjrpbwg7ISg7YOd7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICB9IGVsc2Uge1xuXHJcbiAgICAgICAgICAgIGFwcC51cGxvYWREYXRhID0gdXBsb2FkRGF0YTtcclxuICAgICAgICAgICAgYXBwLnVwbG9hZERhdGEudXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuICAgICAgICAgICAgYXBwLnVwbG9hZERhdGEucGhvdG9fdHlwZSA9IGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkO1xyXG4gICAgICAgICAgICBhcHAudXBsb2FkRGF0YS5waG90b19wYXRoID0gYXBwLm1haW5JbWFnZVBhdGg7XHJcblxyXG4gICAgICAgICAgICBBcnRpc3QuY3JlYXRlQXJpc3RQaG90byhhcHAudXBsb2FkRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG5cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ2FydGlzdFByb2ZpbGVDdHJsJywgZnVuY3Rpb24gKCR0aW1lb3V0LCBBcnRpc3QsICRzdGF0ZSwgJHNjb3BlKSB7XHJcblxyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICBhcHAuZGF0YSA9IHtcclxuICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICB7aWQ6ICcxJywgbmFtZTogJ+u2kyDquIDslKgnfSxcclxuICAgICAgIHtpZDogJzInLCBuYW1lOiAn7Y6cIOq4gOyUqCd9LFxyXG4gICAgICAge2lkOiAnMycsIG5hbWU6ICfrr7jrtoTrpZgnfVxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgIH07XHJcblxyXG4gIC8vIOyekeqwgCDtlITroZztlYQg7IOd7ISxXHJcbiAgICAgIHRoaXMudXBkYXRlQXJpc3RQcm9maWxlID0gZnVuY3Rpb24oYXJ0aXN0RGF0YSl7XG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xuICAgICAgICBpZighYXJ0aXN0RGF0YSl7XG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+2VhOyImOq4sOyerOyCrO2VreydhCDsnoXroKXtlbTso7zshLjsmpQuJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZihhcHAuYXJ0aXN0RGF0YS5zaG9ydF9pbmZvID09PSB1bmRlZmluZWQgfHwgYXBwLmFydGlzdERhdGEuc2hvcnRfaW5mbyA9PT0gbnVsbCB8fCBhcHAuYXJ0aXN0RGF0YS5zaG9ydF9pbmZvID09PSAnJykge1xuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+2VnCDspIQg7IaM6rCc66W8IOyeheugpe2VtOyjvOyEuOyalC4nO1xuICAgICAgICAgIH0gZWxzZSBpZihhcHAuYXJ0aXN0RGF0YS5kZXRhaWxfaW5mbyA9PT0gdW5kZWZpbmVkIHx8IGFwcC5hcnRpc3REYXRhLmRldGFpbF9pbmZvID09PSBudWxsIHx8IGFwcC5hcnRpc3REYXRhLmRldGFpbF9pbmZvID09PSAnJykge1xuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yDgeyEuCDshozqsJzrpbwg7J6F66Cl7ZW07KO87IS47JqULic7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFwcC5hcnRpc3REYXRhID0gYXJ0aXN0RGF0YTtcbiAgICAgICAgICAgIGFwcC5hcnRpc3REYXRhLnVzZXJfaWQgPSAgJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xuICAgICAgICAgICAgYXBwLmFydGlzdERhdGEudXNlcl90eXBlID0gIGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkO1xuXG4gICAgICAgICAgICBBcnRpc3QudXBkYXRlQXJpc3RQcm9maWxlKGFwcC5hcnRpc3REYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XG4gICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcbiAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbTsp4Ag7JWK7J2AIOqwkuydtCDsnoXroKXrkJjsl4jsirXri4jri6QuJztcblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMucmVhZEFyaXN0UHJvZmlsZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIHVzZXJfaWQgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XHJcbiAgICAgICAgQXJ0aXN0LnJlYWRBcnRpc3RQcm9maWxlKHVzZXJfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgIGFwcC5hcnRpc3REYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdhcnRpc3RQaG90b0N0cmwnLCBmdW5jdGlvbiAoQXJ0aXN0LCAkc3RhdGVQYXJhbXMpIHtcclxuXHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuICAgIHZhciBhcnRpc3RfaWQgPSAkc3RhdGVQYXJhbXMuYXJ0aXN0X2lkO1xyXG5cclxuICAgICAgdGhpcy5jb250YWN0QXJ0aXN0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBjb25zb2xlLmxvZygn7J6R64+ZIOykkScpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgQXJ0aXN0LnJlYWRBcnRpc3RQcm9maWxlKGFydGlzdF9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuYXJ0aXN0RGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBBcnRpc3QucmVhZEFyaXN0UGhvdG8oYXJ0aXN0X2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5hcnRpc3RQaG90b3MgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYm9hcmRDb250cm9sbGVycycsWydib2FyZFNlcnZpY2VzJ10pXG4uZmlsdGVyKCd0b190cnVzdGVkJywgWyckc2NlJywgZnVuY3Rpb24oJHNjZSl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24odGV4dCkge1xyXG4gICAgICAgIHJldHVybiAkc2NlLnRydXN0QXNIdG1sKHRleHQpO1xyXG4gICAgfTtcclxufV0pXG5cclxuLmNvbnRyb2xsZXIoJ2JvYXJkVGFwQ3RybCcsIGZ1bmN0aW9uKEJvYXJkLCAkc2NvcGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIEJvYXJkLnJlYWRCb2FyZFRhcCgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAkc2NvcGUuaGVhZGVycyA9IGRhdGEuZGF0YTtcclxuICB9KTtcclxufSlcclxuLmNvbnRyb2xsZXIoJ2JvYXJkc0N0cmwnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIEJvYXJkKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB2YXIgYm9hcmRfdHlwZSA9ICRzdGF0ZVBhcmFtcy5jb2RlO1xyXG5cclxuICBhcHAuZGF0YSA9IHtcclxuICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgIHtzb3J0OiAnLWNyZWF0ZWQnLCBuYW1lOiAn7LWc7Iug7IicJ30sXHJcbiAgICAge3NvcnQ6ICctdmlldycsIG5hbWU6ICfsobDtmozsiJwnfSxcclxuICAgICB7c29ydDogJy1jb21tZW50X2NvdW50JywgbmFtZTon64yT6riA7IicJ31cclxuICAgXSxcclxuICAgc2VsZWN0ZWRPcHRpb246ICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgIH07XHJcblxyXG4gICBCb2FyZC5yZWFkQm9hcmRzKGJvYXJkX3R5cGUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgYXBwLmJvYXJkRGF0YXMgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG5cclxuICAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignYm9hcmRDdHJsJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBCb2FyZCwgJHNjb3BlLCAkaHR0cCwgJHN0YXRlLCAkdGltZW91dCl7XHJcbiAgICAvLyDrs7Trk5wg7JWE7J2065SUIOyghOyGoVxyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICBhcHAuZGF0YSA9IHtcclxuICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICB7aWQ6ICcxJywgbmFtZTogJ+qzteyngOyCrO2VrSd9LFxyXG4gICAgICAge2lkOiAnMicsIG5hbWU6ICfsnqHtlZnsgqzsoIQnfSxcclxuICAgICAgIHtpZDogJzMnLCBuYW1lOiAn7KeI66y47IKs7ZWtJ31cclxuICAgICBdLFxyXG4gICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICB9O1xyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgJCgnI3N1bW1lcm5vdGUnKS5zdW1tZXJub3RlKHtcclxuICAgICAgICBsYW5nOiAna28tS1InLCAvLyBkZWZhdWx0OiAnZW4tVVMnXHJcbiAgICAgICAgaGVpZ2h0IDogMTAwLCAvLyDsl5DrlJTthLDsnZgg64aS7J20XHJcbiAgICAgICAgbWluSGVpZ2h0IDogbnVsbCxcclxuICAgICAgICBtYXhIZWlnaHQgOiBudWxsLFxyXG4gICAgICAgIGZvY3VzIDogdHJ1ZSxcclxuICAgICAgICBwbGFjZWhvbGRlcjogJ+uMk+q4gOydgCAxLDAwMOyekOq5jOyngCDsnpHshLHtlaAg7IiYIOyeiOycvOupsCDso7zsoJzsmYAg66y06rSA7ZWcIOuMk+q4gCwg7JWF7ISxIOuMk+q4gOydgCDsgq3soJzrkKAg7IiYIOyeiOyKteuLiOuLpC4nLFxyXG4gICAgICAgIHRvb2xiYXI6IFtcclxuICAvLyBbZ3JvdXBOYW1lLCBbbGlzdCBvZiBidXR0b25dXVxyXG4gICAgICAgICAgWydzdHlsZScsIFsnYm9sZCcsICdpdGFsaWMnLCAndW5kZXJsaW5lJywgJ2NsZWFyJ11dLFxyXG4gICAgICAgICAgWydmb250JywgWydzdHJpa2V0aHJvdWdoJywgJ3N1cGVyc2NyaXB0JywgJ3N1YnNjcmlwdCddXSxcclxuICAgICAgICAgIFsnZm9udHNpemUnLCBbJ2ZvbnRzaXplJ11dLFxyXG4gICAgICAgICAgWydjb2xvcicsIFsnY29sb3InXV0sXHJcbiAgICAgICAgICBbJ3BhcmEnLCBbJ3VsJywgJ29sJywgJ3BhcmFncmFwaCddXSxcclxuICAgICAgICAgIFsnaGVpZ2h0JywgWydoZWlnaHQnXV1cclxuICAgICAgICBdXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5jcmVhdGVCb2FyZCA9IGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgaWYoYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQgPT09ICcwJyl7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn6rKM7Iuc6riA7J2YIOyiheulmOulvCDshKDtg53tlbTso7zshLjsmpQnO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIGlmKHJlc3BvbnNlID09PSB1bmRlZmluZWQgfHwgcmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09ICcnKXtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsoJzrqqnsnYQg7J6F66Cl7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2UgaWYoJCgnI3N1bW1lcm5vdGUnKS5zdW1tZXJub3RlKCdjb2RlJykgPT09ICc8cD48YnI+PC9wPicgfHwgJCgnI3N1bW1lcm5vdGUnKS5zdW1tZXJub3RlKCdjb2RlJykgPT09IG51bGwgfHwgJCgnI3N1bW1lcm5vdGUnKS5zdW1tZXJub3RlKCdjb2RlJykgPT09IHVuZGVmaW5lZCB8fCAkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoJ2NvZGUnKSA9PT0gJycpIHtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfrgrTsmqnsnYQg7J6F66Cl7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFyIGNvbnRlbnQgPSAkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoJ2NvZGUnKTtcclxuICAgICAgICAgIHZhciBib2FyZF90eXBlID0gYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQ7XHJcbiAgICAgICAgICB2YXIgdGl0bGUgPSByZXNwb25zZS50aXRsZTtcclxuICAgICAgICAgIHZhciBib2FyZERhdGEgPSB7XHJcbiAgICAgICAgICAgIHRpdGxlIDogdGl0bGUsXHJcbiAgICAgICAgICAgIGNvbnRlbnQgOiBjb250ZW50LFxyXG4gICAgICAgICAgICBib2FyZF90eXBlIDogYm9hcmRfdHlwZSxcclxuICAgICAgICAgICAgdXNlcl9pZCA6ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIEJvYXJkLmNyZWF0ZUJvYXJkKGJvYXJkRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwLmJvYXJkJyk7XHJcbiAgICAgICAgICAgICAgfSw1MDApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgdmFyIGJvYXJkX2lkID0gJHN0YXRlUGFyYW1zLmJvYXJkX2lkO1xyXG4gICAgQm9hcmQucmVhZEJvYXJkKGJvYXJkX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XG4gICAgICAgIGFwcC5ib2FyZERhdGFzID0gZGF0YS5kYXRhLnJlc3VsdDtcbiAgICAgICAgYXBwLmh0bWxjb250ZW50ID0gZGF0YS5kYXRhLnJlc3VsdC5jb250ZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vXHJcbi8vICAgJHNjb3BlLmRhdGEgPSB7XHJcbi8vICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuLy8gICAgICB7aWQ6ICctMScsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4vLyAgICAgIHtpZDogJzAnLCBuYW1lOiAn6rO17KeA7IKs7ZWtJ30sXHJcbi8vICAgICAge2lkOiAnMScsIG5hbWU6ICftlZnsm5Av7ZmN67O0J30sXHJcbi8vICAgICAge2lkOiAnMicsIG5hbWU6ICfrqqjsnoQv7Iqk7YSw65SUJ31cclxuLy8gICAgXSxcclxuLy8gICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJy0xJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuLy8gICAgfTtcclxuLy9cclxuLy8gICAvLyBpZOyXkCDtlbTri7ntlZjripQg6rCS7J2EIOuztOyXrOyjvOuKlCDtlajsiJhcclxuLy8gICAkc2NvcGUudXNlckFydGljbGUgPSBmYWxzZTtcclxuLy9cclxuLy8gLy8g6rCS7J2EIOyggOyepe2VmOuKlCDtlajsiJhcclxuLy8gICAkc2NvcGUuYWRkQm9hcmQgPSBmdW5jdGlvbih0aXRsZSwgY29udGVudCl7XHJcbi8vIC8vIGVtcGxveWVzcyDsoJzrjIDroZwg64+Z7J6R7ZWY64qU7KeAIO2ZleyduCDtlYTsmpRcclxuLy8gICAgICAgdmFyIGJvYXJkX3R5cGUgPSAkc2NvcGUuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZDtcclxuLy8gICAgICAgJGh0dHAucG9zdCgnYXBpL2JvYXJkTWVudScsXHJcbi8vICAgICAgIHsgdGl0bGU6dGl0bGUsIGNvbnRlbnQ6IGNvbnRlbnQsIGJvYXJkX3R5cGU6IGJvYXJkX3R5cGV9KVxyXG4vLyAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7ICAgICAgICAgIC8vIOygleyDgSDsnpHrj5ntlZjsmIDsirXri4jri6QuXHJcbi8vICAgICAgIH0pO1xyXG4vLyAgIH07XHJcbi8vXHJcbi8vIFx0JHNjb3BlLnNob3dCb2FyZCA9IGZ1bmN0aW9uKCl7XHJcbi8vICAgLy8g67O065OcIOyVhOydtOuUlCDsoITshqFcclxuLy8gICB2YXIgaWQgPSAkc3RhdGVQYXJhbXMuYm9hcmRfaWQ7XHJcbi8vICAgICAkaHR0cC5nZXQoJ2FwaS9ib2FyZC8nK2lkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuLy8gLy8g7IKs7Jqp7J6Q6rCAIOyekeyEse2VnCDqsozsi5zrrLzsnoXri4jri6QuXHJcbi8vICAgICBpZihyZXNwb25zZS5kYXRhWzFdLnN1Y2Nlc3Mpe1xyXG4vLyAgICAgICAkc2NvcGUudXNlckFydGljbGUgPSB0cnVlO1xyXG4vLyAgICAgICAkc2NvcGUuYm9hcmQgPSByZXNwb25zZS5kYXRhWzBdWzBdO1xyXG4vLyAgICAgfVxyXG4vLyAvLyDsgqzsmqnsnpDqsIAg7J6R7ISx7ZWcIOqyjOyLnOusvOydtCDslYTri5nri4jri6QuXHJcbi8vICAgICBlbHNlIHtcclxuLy8gICAgICAgJHNjb3BlLnVzZXJBcnRpY2xlID0gZmFsc2U7XHJcbi8vICAgICAgICRzY29wZS5ib2FyZCA9IHJlc3BvbnNlLmRhdGFbMF1bMF07XHJcbi8vICAgICB9XHJcbi8vICAgfSk7XHJcbi8vIH07XHJcbi8vXHJcbi8vXHJcbi8vICAgLy8g6rCS7J2EIOyCreygnO2VmOuKlCDtlajsiJhcclxuLy8gXHQkc2NvcGUuZGVsZXRlQm9hcmQgPSBmdW5jdGlvbigpe1xyXG4vLyAgICAgdmFyIGlkID0gJHN0YXRlUGFyYW1zLmJvYXJkX2lkO1xyXG4vLyBcdFx0JGh0dHAuZGVsZXRlKCdhcGkvYm9hcmQvJytpZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbi8vICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJ2FwcC5ib2FyZC5jYXRlZ29yeSh7Y29kZTogMH0pJyk7XHJcbi8vIFx0XHR9KTtcclxuLy8gXHR9O1xyXG4vL1xyXG4vLyAgIFx0Ly8g6rCS7J2EIOyImOygle2VmOuKlCDtlajsiJhcclxuLy8gICBcdCRzY29wZS51cGRhdGVCb2FyZCA9IGZ1bmN0aW9uKCl7XHJcbi8vICAgXHRcdHZhciBpZCA9ICRzdGF0ZVBhcmFtcy5ib2FyZF9pZDtcclxuLy8gICBcdFx0JGh0dHAucHV0KCdhcGkvYm9hcmQvJytpZCAsICRzY29wZS5ib2FyZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbi8vICAgXHRcdFx0JHNjb3BlLmJvYXJkID0gcmVzcG9uc2UuZGF0YTtcclxuLy8gICAgICAgICAkbG9jYXRpb24ucGF0aCgnYm9hcmQnKTtcclxuLy8gICBcdFx0fSk7XHJcbi8vICAgXHR9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2dhbGxlcnRDb250cm9sbGVycycsWydnYWxsZXJ5U2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ2dhbGxlcnlUYXBDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBHYWxsZXJ5KXtcclxuICAvLyDsoITssrQg66mU64m0IOqwgOyguOyYpOq4sFxyXG4gIEdhbGxlcnkucmVhZEdhbGxlcnlUYXAoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAkc2NvcGUuaGVhZGVycyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdnYWxsZXJ5UGhvdG9zQ3RybCcsIGZ1bmN0aW9uKEdhbGxlcnksICRzdGF0ZVBhcmFtcyl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdmFyIHBob3RvX3R5cGUgPSAkc3RhdGVQYXJhbXMuY29kZTtcclxuICBhcHAuZGF0YSA9IHtcclxuICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgIHtzb3J0OiAnLWNyZWF0ZWQnLCBuYW1lOiAn7LWc7Iug7IicJ30sXHJcbiAgICAge3NvcnQ6ICctdmlldycsIG5hbWU6ICfsobDtmozsiJwnfSxcclxuICAgICB7c29ydDogJy1jb21tZW50X2NvdW50JywgbmFtZTon64yT6riA7IicJ31cclxuICAgXSxcclxuICAgc2VsZWN0ZWRPcHRpb246ICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgIH07XHJcblxyXG4gICAgR2FsbGVyeS5yZWFkUGhvdG9zKHBob3RvX3R5cGUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAucGhvdG9EYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignZ2FsbGVyeVBob3RvQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZVBhcmFtcywgR2FsbGVyeSkge1xyXG5cclxuICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgIHZhciBwaG90b19pZCA9ICRzdGF0ZVBhcmFtcy5waG90b19pZDtcclxuICAgdmFyIHBob3RvX3R5cGUgPSAkc3RhdGVQYXJhbXMucGhvdG9fdHlwZTtcclxuICAgdmFyIHVzZXJfaWQgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XHJcblxyXG4gICBHYWxsZXJ5LnJlYWRQaG90b0RhdGEocGhvdG9faWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgYXBwLnBob3RvRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgfSBlbHNlIHtcclxuICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgIH1cclxuICAgfSk7XHJcblxyXG4gICBHYWxsZXJ5LnJlYWRQaG90b3MocGhvdG9fdHlwZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICBhcHAucGhvdG9zRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgfSBlbHNlIHtcclxuICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgIH1cclxuICAgfSk7XHJcblxyXG59KTtcclxuXHJcblxyXG5cclxuXHJcbi8vIC8vIOqwkuydhCDsgq3soJztlZjripQg7ZWo7IiYXHJcbi8vICAgJHNjb3BlLmRlbGV0ZVBob3RvID0gZnVuY3Rpb24oKXtcclxuLy8gICAgICB2YXIgaWQgPSAkc3RhdGVQYXJhbXMucGhvdG9faWQ7XHJcbi8vICAgICAkaHR0cC5kZWxldGUoJy9hcGkvZ2FsbGVyeS8nK2lkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuLy8gICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJ2FwcC5nYWxsZXJ5LmNhdGVnb3J5KHtjb2RlOiAwfSknKTtcclxuLy8gICAgIH0pO1xyXG4vLyAgIH07XHJcbi8vXHJcbi8vXHJcbi8vIC8vIOqwnOuzhCDsgqzsp4Qg6rSA66Co65CcIOydtOuvuOyngCDqsIDsoLjsmKTquLAgfHwg7ISg7YOd7ZWcIOydtOuvuOyngOyZgCDqsJnsnYAg67aE66WY7J2YIOydtOuvuOyngCDqsIDsoLjsmKTquLBcclxuLy8gICAkc2NvcGUuZ2V0UmVsYXRlZFBpYyA9IGZ1bmN0aW9uKCl7XHJcbi8vICAgICB2YXIgY29kZSA9ICRzdGF0ZVBhcmFtcy5waG90b190eXBlO1xyXG4vLyAgICAgJGh0dHAuZ2V0KCcvYXBpL2dhbGxlcnlNZW51LycrY29kZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbi8vICAgICAgICRzY29wZS5waG90b3MgPSByZXNwb25zZS5kYXRhO1xyXG4vLyAgICAgfSk7XHJcbi8vICAgfTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdIb21lQ3RybCcsIGZ1bmN0aW9uICggJGh0dHAsICRzY29wZSkge1xyXG5cclxuICAkc2NvcGUuZ2V0Q29udGVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAkaHR0cC5nZXQoJy9hcGkvaG9tZScpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAkc2NvcGUucGhvdG9zID0gcmVzcG9uc2UuZGF0YTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ21haW5Db250cm9sbGVycycsWydhdXRoU2VydmljZXMnLCAndXNlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdtYWluQ3RybCcsIGZ1bmN0aW9uKEF1dGgsICR0aW1lb3V0LCAkbG9jYXRpb24sICRzdGF0ZSwgJHJvb3RTY29wZSwgJHNjb3BlLCAkd2luZG93LCAkaW50ZXJ2YWwsIFVzZXIsIEF1dGhUb2tlbil7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gIGFwcC5sb2FkbWUgPSBmYWxzZTtcclxuXHJcbiAgJHNjb3BlLiRvbignTE9BRCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAkc2NvcGUubG9hZGluZyA9IHRydWU7XHJcbiAgfSk7XHJcblxyXG4gICRzY29wZS4kb24oJ1VOTE9BRCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAkc2NvcGUubG9hZGluZyA9IGZhbHNlO1xyXG4gIH0pO1xyXG5cclxuICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbigpe1xyXG4gICAgaWYoIWNoZWNrU2Vzc2lvbiljaGVja1Nlc3Npb24oKTtcclxuXHJcbiAgICBpZihBdXRoLmlzTG9nZ2VkSW4oKSl7XHJcbiAgICAgIGFwcC5pc0xvZ2dlZEluID0gdHJ1ZTtcclxuICAgICAgQXV0aC5nZXRVc2VyKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEucGVybWlzc2lvbiA9PT0gJ2FkbWluJykge1xyXG4gICAgICAgICAgYXBwLnBlcm1pc3Npb24gPSB0cnVlO1xyXG4gICAgICAgICAgYXBwLnVzZXIgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2UgaWYoZGF0YS5kYXRhLnBlcm1pc3Npb24gPT09ICdhcnRpc3QnKSB7XHJcbiAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IHRydWU7XHJcbiAgICAgICAgICBhcHAudXNlciA9IGRhdGEuZGF0YTtcclxuICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAudXNlciA9IGRhdGEuZGF0YTtcclxuICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAudXNlciA9IGZhbHNlO1xyXG4gICAgICBhcHAuaXNMb2dnZWRJbiA9IGZhbHNlO1xyXG4gICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcblxyXG4gIHZhciBjaGVja1Nlc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgaWYoQXV0aC5pc0xvZ2dlZEluKCkpe1xyXG4gICAgICBhcHAuY2hlY2tTZXNzaW9uID0gdHJ1ZTtcclxuICAgICAgdmFyIGludGVydmFsID0gJGludGVydmFsKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIHRva2VuID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcclxuICAgICAgICBpZih0b2tlbiA9PT0gbnVsbCl7XHJcbiAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKGludGVydmFsKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VsZi5wYXJzZUp3dCA9IGZ1bmN0aW9uKHRva2VuKXtcclxuICAgICAgICAgICAgdmFyIGJhc2U2NFVybCA9IHRva2VuLnNwbGl0KCcuJylbMV07XHJcbiAgICAgICAgICAgIHZhciBiYXNlNjQgPSBiYXNlNjRVcmwucmVwbGFjZSgnLScsJysnKS5yZXBsYWNlKCdfJywgJy8nKTtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoJHdpbmRvdy5hdG9iKGJhc2U2NCkpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHZhciBleHBpcmVUaW1lID0gc2VsZi5wYXJzZUp3dCh0b2tlbik7XHJcbiAgICAgICAgICB2YXIgdGltZVN0YW1wID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XHJcbiAgICAgICAgICB2YXIgdGltZUNoZWNrID0gZXhwaXJlVGltZS5leHAgLSB0aW1lU3RhbXA7XHJcblxyXG4gICAgICAgICAgaWYodGltZUNoZWNrIDw9IDUpe1xyXG4gICAgICAgICAgICBzaG93TW9kYWwoJ2V4cGlyZWQnKTtcclxuICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChpbnRlcnZhbCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSwgMjAwMCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY2hlY2tTZXNzaW9uKCk7XHJcblxyXG5cclxuICAgIGFwcC5yZW5ld1Nlc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgICBhcHAuY2hvaWNlTWFkZSA9IHRydWU7XHJcbiAgICAgIFVzZXIucmVuZXdTZXNzaW9uKGFwcC51c2VyLnVzZXJuYW1lKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIEF1dGhUb2tlbi5zZXRUb2tlbihkYXRhLmRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgY2hlY2tTZXNzaW9uKCk7XHJcbiAgICAgICAgICBoaWRlTW9kYWwoJ2V4cGlyZWQnKTtcclxuICAgICAgICB9IGVsc2V7XHJcbiAgICAgICAgICBhcHAuTW9kYWxCb2R5ID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICBoaWRlTW9kYWwoJ2V4cGlyZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBhcHAuZW5kU2Vzc2lvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGFwcC5jaG9pY2VNYWRlID0gdHJ1ZTtcclxuICAgICAgaGlkZU1vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2hvd01vZGFsKCdsb2dvdXQnKTtcclxuICAgICAgfSw1MDApO1xyXG4gICAgfTtcclxuXHJcblxyXG4gIHZhciBzaG93TW9kYWwgPSBmdW5jdGlvbihvcHRpb24pe1xyXG4gICAgYXBwLmNob2ljZU1hZGUgPSBmYWxzZTtcclxuICAgIGFwcC5tb2RhbEhlYWRlciA9IHVuZGVmaW5lZDtcclxuICAgIGFwcC5tb2RhbEJvZHkgPSB1bmRlZmluZWQ7XHJcbiAgICBhcHAuaGlkZUJ1dHRvbiA9IGZhbHNlO1xyXG4vLyBjaGVjayB0b2tlbiBleHBpcmVkXHJcbiAgICBpZihvcHRpb24gPT09ICAnZXhwaXJlZCcgKXtcclxuICAgICAgYXBwLm1vZGFsSGVhZGVyID0gJ1RpbWVvdXQgV2FybmluZyc7XHJcbiAgICAgIGFwcC5tb2RhbEJvZHkgPSAnWW91ciBzZXNzaW9uIHdpbGwgZXhwaXJlZCBpbiA1IG1pbnV0ZXMuIFdvdWxkIHlvdSBsaWtlIHRvIHJlbmV3IHlvdXIgc2Vzc2lvbj8nO1xyXG4gICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoe2JhY2tkcm9wOlwic3RhdGljXCJ9KTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICdsb2dvdXQnKXtcclxuLy8gbG9nb3V0XHJcbiAgICAgIGFwcC5oaWRlQnV0dG9uID0gdHJ1ZTtcclxuICAgICAgYXBwLm1vZGFsSGVhZGVyID0gJ+uhnOq3uOyVhOybgyc7XHJcbiAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCh7YmFja2Ryb3A6XCJzdGF0aWNcIn0pO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIEF1dGgubG9nb3V0KCk7XHJcbiAgICAgICAgYXBwLmlzTG9nZ2VkSW4gPSBmYWxzZTtcclxuICAgICAgICBoaWRlTW9kYWwoJ2xvZ291dCcpO1xuICAgICAgICAkc3RhdGUucmVsb2FkKCk7XG4gICAgICB9LCAyMDAwKTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICdsb2dpbicpe1xyXG4vLyBMb2dpblxyXG4gICAgICAkKFwiI2xvZ2luXCIpLm1vZGFsKHtiYWNrZHJvcDpcInN0YXRpY1wifSk7XHJcbiAgICB9ICBlbHNlIGlmKG9wdGlvbiA9PT0ndXBsb2FkJyl7XHJcbi8vIGVucm9sbEFydGlzdFxyXG4gICAgICAkKFwiI3VwbG9hZFwiKS5tb2RhbCh7YmFja2Ryb3A6XCJzdGF0aWNcIn0pO1xyXG4gICAgfVxyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKCFhcHAuY2hvaWNlTWFkZSl7XHJcbiAgICAgICAgICBoaWRlTW9kYWwoJ2xvZ291dCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgNDAwMCk7XHJcblxyXG4gIH07XHJcblxyXG4gIHZhciBoaWRlTW9kYWwgPSBmdW5jdGlvbihvcHRpb24pe1xyXG5cclxuICAgIGlmKG9wdGlvbiA9PT0gJ2V4cGlyZWQnKXtcclxuICAgICAgJChcIiNteU1vZGFsXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAnbG9nb3V0Jyl7XHJcbiAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ2xvZ2luJyl7XHJcbiAgICAgICQoXCIjbG9naW5cIikubW9kYWwoJ2hpZGUnKTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICd1cGxvYWQnKXtcclxuICAgICAgJChcIiN1cGxvYWRcIikubW9kYWwoJ2hpZGUnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuXHJcbi8vIOuhnOq3uOyduFxyXG4gIHRoaXMuZG9Mb2dpbiA9IGZ1bmN0aW9uKGxvZ2luRGF0YSwgdmFsaWQpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXhwaXJlZCA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICBpZih2YWxpZCl7XHJcbiAgICAgIEF1dGgubG9naW4oYXBwLmxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGhpZGVNb2RhbCgnbG9naW4nKTtcclxuICAgICAgICAgICAgYXBwLmxvZ2luRGF0YSA9IG51bGw7XHJcbiAgICAgICAgICAgIGFwcC5pc0xvZ2dlZEluID0gdHJ1ZTtcclxuICAgICAgICAgICAgY2hlY2tTZXNzaW9uKCk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgIH0sMjAwMCk7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgaWYoZGF0YS5kYXRhLmV4cGlyZWQpe1xyXG4gICAgICAgICAgICBhcHAuZXhwaXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTsgLy8gSWYgZXJyb3Igb2NjdXJzLCByZW1vdmUgZGlzYWJsZSBsb2NrIGZyb20gZm9ybVxyXG4gICAgICBhcHAubG9hZGluZyA9IGZhbHNlOyAvLyBTdG9wIGJvb3RzdHJhcCBsb2FkaW5nIGljb25cclxuICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsoJXrs7Trpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIERpc3BsYXkgZXJyb3IgaWYgdmFsaWQgcmV0dXJucyBmYWxzZVxyXG4gICAgfVxyXG5cclxuICB9O1xyXG5cclxuXHJcblxyXG4vLyDsgqzsmqnsnpDsnZgg6raM7ZWcIOyXrOu2gCDtmZXsnbhcclxuICB0aGlzLnVwbG9hZCA9IGZ1bmN0aW9uKCl7XHJcbiAgYXBwLmNob2ljZU1hZGUgPSB0cnVlO1xyXG4gICAgaWYoYXBwLnVzZXIucGVybWlzc2lvbiA9PT0gJ2FydGlzdCcpe1xyXG4gICAgICAkc3RhdGUuZ28oJ2FwcC5hcnRpc3RQcm9maWxlcycpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgVXNlci5jaGVja1Blcm1pc3Npb24oYXBwLnVzZXIudXNlcm5hbWUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgJHN0YXRlLmdvKCdhcHAuYXJ0aXN0UHJvZmlsZXMnKTtcclxuICAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNob3dNb2RhbCgndXBsb2FkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgfTtcclxuXHJcbiAgLy8g7IKs7Jqp7J6Q7JeQ6rKMIOq2jO2VnCDrtoDsl6xcclxuICAgIHRoaXMuZG9QZXJtaXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgICAgYXBwLmNob2ljZU1hZGUgPSB0cnVlO1xyXG4gICAgICBhcHAudXBsb2FkRGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICBhcHAudXBsb2FkZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgVXNlci5yZXNldFBlcm1pc3Npb24oYXBwLnVzZXIpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnVwbG9hZERpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgIGFwcC51cGxvYWRTdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBoaWRlTW9kYWwoJ3VwbG9hZCcpO1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcC5hcnRpc3RQcm9maWxlcycpO1xyXG4gICAgICAgICAgfSwyMDAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLnVwbG9hZERpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAudXBsb2FkZXJyb3JNc2cgPSAn7J6Y66q765CcIOygleuztOqwgCDsnoXroKXrkJjsl4jsirXri4jri6QuJztcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcblxyXG4gIGFwcC5sb2dpbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIHNob3dNb2RhbCgnbG9naW4nKTtcclxuICB9O1xyXG5cclxuICBhcHAubG9nb3V0ID0gZnVuY3Rpb24oKXtcclxuICAgIHNob3dNb2RhbCgnbG9nb3V0Jyk7XHJcbiAgfTtcclxuXHJcbiAgYXBwLnJlc2VuZCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAkc3RhdGUuZ28oJ3Jlc2VuZCcpO1xyXG4gICAgICBhcHAuZXhwaXJlZCA9IGZhbHNlO1xyXG4gICAgfSw1MDApO1xyXG4gIH07XHJcblxyXG4gIGFwcC5yZXNldHVzZXJuYW1lID0gZnVuY3Rpb24oKXtcclxuICAgIGhpZGVNb2RhbCgnbG9naW4nKTtcclxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICRzdGF0ZS5nbygncmVzZXR1c2VybmFtZScpO1xyXG4gICAgfSw1MDApO1xyXG4gIH07XHJcblxyXG4gIGFwcC5yZXNldHBhc3N3b3JkID0gZnVuY3Rpb24oKXtcclxuICAgIGhpZGVNb2RhbCgnbG9naW4nKTtcclxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICRzdGF0ZS5nbygncmVzZXRwYXNzd29yZCcpO1xyXG4gICAgfSw1MDApO1xyXG5cclxuICB9O1xyXG5cclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignQm9hcmRNZW51Q29udHJvbGxlcicsIGZ1bmN0aW9uICgkc2NvcGUsJGh0dHAsICRzdGF0ZVBhcmFtcykge1xyXG5cclxuLy8gZGVmaW5lIGxpc3Qgb2YgaXRlbXMg7KCE7LK0IOuNsOydtO2EsCDsoJXroKxcclxuICAgICAgICAkc2NvcGUuZGF0YSA9IHtcclxuICAgICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgICAgIHtzb3J0OiAnLWNyZWF0ZWQnLCBuYW1lOiAn7LWc7Iug7IicJ30sXHJcbiAgICAgICAgICAge3NvcnQ6ICctdmlldycsIG5hbWU6ICfsobDtmozsiJwnfSxcclxuICAgICAgICAgICB7c29ydDogJy1jb21tZW50X2NvdW50JywgbmFtZTon64yT6riA7IicJ31cclxuICAgICAgICAgXSxcclxuICAgICAgICAgc2VsZWN0ZWRPcHRpb246ICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgICAgIH07XHJcblxyXG5cclxuLy8g7KCE7LK0IOuplOuJtCDqsIDsoLjsmKTquLBcclxuICAgICRodHRwLmdldCgnL2FwaS9ib2FyZE1lbnUnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgJHNjb3BlLmhlYWRlcnMgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgfSk7XHJcblxyXG4vLyDshKDtg53tlZwg7L2U65Oc7JeQIOuUsOuluCDqsrDqs7wg6rCSIOqwgOyguOyYpOq4sFxyXG4gICAgICAkc2NvcGUuZ2V0SGVhZGVyQ29udGVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIGNvZGUgPSAkc3RhdGVQYXJhbXMuY29kZTtcclxuICAgICAgICAkaHR0cC5nZXQoJy9hcGkvYm9hcmRNZW51LycrY29kZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAkc2NvcGUuYm9hcmRlcyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ2Rpc3BsYXlNZW51Q29udHJvbGxlcicsIGZ1bmN0aW9uICggJHNjb3BlLCAkaHR0cCwgJHN0YXRlUGFyYW1zKSB7XHJcblxyXG4vLyBkZWZpbmUgbGlzdCBvZiBpdGVtcyDsoITssrQg642w7J207YSwIOygleugrFxyXG4gICAgJHNjb3BlLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfVxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246ICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgfTtcclxuXHJcbiAgICAkaHR0cC5nZXQoJy9hcGkvZGlzcGxheU1lbnUnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgJHNjb3BlLmhlYWRlcnMgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgfSk7XHJcblxyXG5cclxuLy8g7ISg7YOd7ZWcIOy9lOuTnOyXkCDrlLDrpbgg7J2066+47KeAIOqwgOyguOyYpOq4sFxyXG4gICAgJHNjb3BlLmdldEhlYWRlckNvbnRlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgICB2YXIgY29kZSA9ICRzdGF0ZVBhcmFtcy5jb2RlO1xyXG4gICAgICAkaHR0cC5nZXQoJy9hcGkvZGlzcGxheU1lbnUvJytjb2RlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAkc2NvcGUuZGlzcGxheXMgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdNYWluTWVudUNvbnRyb2xsZXInLCBmdW5jdGlvbiAoJGh0dHAsICRzY29wZSkge1xyXG4gICRodHRwLmdldCgnL2FwaS9oZWFkZXInKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICRzY29wZS5oZWFkZXJzID0gcmVzcG9uc2UuZGF0YTtcclxuICB9KTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdlbWFpbENvbnRyb2xsZXJzJyxbJ3VzZXJTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignZW1haWxDdHJsJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBVc2VyLmFjdGl2ZUFjY291bnQoJHN0YXRlUGFyYW1zLnRva2VuKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgfSwyMDAwKTtcclxuICAgIH1lbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICB9LDIwMDApO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Jlc2VuZEN0cmwnLCBmdW5jdGlvbihVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICBhcHAgPSB0aGlzO1xyXG4gIHRoaXMuY2hlY2tDcmVkZW50aWFscyA9IGZ1bmN0aW9uKGxvZ2luRGF0YSl7XHJcbiAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgIFVzZXIuY2hlY2tDcmVkZW50aWFscyh0aGlzLmxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIFVzZXIucmVzZW5kTGluayhhcHAubG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAgICAgfSwyMDAwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfWVsc2Uge1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3VzZXJuYW1lQ3RybCcsIGZ1bmN0aW9uKFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHRoaXMuc2VuZFVzZXJuYW1lID0gZnVuY3Rpb24odXNlckRhdGEsIHZhbGlkKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGlmKHZhbGlkKXtcclxuICAgICAgVXNlci5zZW5kVXNlcm5hbWUoYXBwLnVzZXJEYXRhLmVtYWlsKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsnbTrqZTsnbwg7KO87IaM6rCAIOyVhOuLmeuLiOuLpC4nO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncGFzc3dvcmRDdHJsJywgZnVuY3Rpb24oVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgYXBwLnNlbmRQYXNzd29yZCA9IGZ1bmN0aW9uKHJlc2V0RGF0YSwgdmFsaWQpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgaWYodmFsaWQpe1xyXG4gICAgICBVc2VyLnNlbmRQYXNzd29yZChhcHAucmVzZXREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDslYTsnbTrlJTqsIAg7JWE64uZ64uI64ukLic7XHJcbiAgICB9XHJcbiAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdyZXNldEN0cmwnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsICRzY29wZSwgVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gICAgYXBwLmhpZGUgPSB0cnVlOyAvLyBIaWRlIGZvcm0gdW50aWwgdG9rZW4gY2FuIGJlIHZlcmlmaWVkIHRvIGJlIHZhbGlkXHJcblxyXG4gICAgLy8gRnVuY3Rpb24gdG8gY2hlY2sgaWYgdG9rZW4gaXMgdmFsaWQgYW5kIGdldCB0aGUgdXNlcidzIGluZm8gZnJvbSBkYXRhYmFzZSAocnVucyBvbiBwYWdlIGxvYWQpXHJcbiAgICBVc2VyLnJlc2V0UGFzc3dvcmQoJHN0YXRlUGFyYW1zLnRva2VuKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAvLyBDaGVjayBpZiB1c2VyIHdhcyByZXRyaWV2ZWRcclxuICAgICAgICBpZiAoZGF0YS5kYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgYXBwLmhpZGUgPSBmYWxzZTsgLy8gU2hvdyBmb3JtXHJcbiAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1zdWNjZXNzJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9ICfsg4jroZzsmrQg67mE67CA67KI7Zi466W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBMZXQgdXNlciBrbm93IHRoZXkgY2FuIGVudGVyIG5ldyBwYXNzd29yZFxyXG4gICAgICAgICAgICAkc2NvcGUudXNlcm5hbWUgPSBkYXRhLmRhdGEudXNlclswXS51c2VybmFtZTsgLy8gU2F2ZSB1c2VybmFtZSBpbiBzY29wZSBmb3IgdXNlIGluIHNhdmVQYXNzd29yZCgpIGZ1bmN0aW9uXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LWRhbmdlcic7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7IC8vIEdyYWIgZXJyb3IgbWVzc2FnZSBmcm9tIEpTT04gb2JqZWN0XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gRnVuY3Rpb24gdG8gc2F2ZSB1c2VyJ3MgbmV3IHBhc3N3b3JkIHRvIGRhdGFiYXNlXHJcbiAgICBhcHAuc2F2ZVBhc3N3b3JkID0gZnVuY3Rpb24ocmVnRGF0YSwgdmFsaWQsIGNvbmZpcm1lZCkge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlOyAvLyBDbGVhciBlcnJvck1zZyB3aGVuIHVzZXIgc3VibWl0c1xyXG4gICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTsgLy8gRGlzYWJsZSBmb3JtIHdoaWxlIHByb2Nlc3NpbmdcclxuICAgICAgICBhcHAubG9hZGluZyA9IHRydWU7IC8vIEVuYWJsZSBsb2FkaW5nIGljb25cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgZm9ybSBpcyB2YWxpZCBhbmQgcGFzc3dvcmRzIG1hdGNoXHJcbiAgICAgICAgaWYgKHZhbGlkICYmIGNvbmZpcm1lZCkge1xyXG4gICAgICAgICAgICBhcHAucmVnRGF0YS51c2VybmFtZSA9ICRzY29wZS51c2VybmFtZTsgLy8gR3JhYiB1c2VybmFtZSBmcm9tICRzY29wZVxyXG5cclxuICAgICAgICAgICAgLy8gUnVuIGZ1bmN0aW9uIHRvIHNhdmUgdXNlcidzIG5ldyBwYXNzd29yZCB0byBkYXRhYmFzZVxyXG4gICAgICAgICAgICBVc2VyLnNhdmVQYXNzd29yZChhcHAucmVnRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBhcHAubG9hZGluZyA9IGZhbHNlOyAvLyBTdG9wIGxvYWRpbmcgaWNvblxyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcGFzc3dvcmQgd2FzIHNhdmVkIHRvIGRhdGFiYXNlXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtc3VjY2Vzcyc7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtmZTrqbTsnLzroZwg7J2064+Z7ZWp64uI64ukLic7IC8vIEdyYWIgc3VjY2VzcyBtZXNzYWdlIGZyb20gSlNPTiBvYmplY3QgYW5kIHJlZGlyZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVkaXJlY3QgdG8gbG9naW4gcGFnZSBhZnRlciAyMDAwIG1pbGxpc2Vjb25kcyAoMiBzZWNvbmRzKVxyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LWRhbmdlcic7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTsgLy8gRW5hYmxlIGZvcm0gdG8gYWxsb3cgdXNlciB0byByZXN1Ym1pdFxyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlOyAvLyBHcmFiIGVycm9yIG1lc3NhZ2UgZnJvbSBKU09OIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtZGFuZ2VyJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICBhcHAubG9hZGluZyA9IGZhbHNlOyAvLyBTdG9wIGxvYWRpbmcgaWNvblxyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTsgLy8gRW5hYmxlIGZvcm0gdG8gYWxsb3cgdXNlciB0byByZXN1Ym1pdFxyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gTGV0IHVzZXIga25vdyBmb3JtIGlzIG5vdCB2YWxpZFxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgndXNlckNvbnRyb2xsZXJzJyxbJ3VzZXJTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcigncmVnQ3RybCcsIGZ1bmN0aW9uICggJGh0dHAsICRsb2NhdGlvbiwgJHRpbWVvdXQsIFVzZXIsIEF1dGgsICRzdGF0ZSkge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gICAgICB0aGlzLnJlZ1N0ZXAxID0gZnVuY3Rpb24ocmVnRGF0YSl7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgaWYoIXJlZ0RhdGEpe1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yVveq0gOyXkCDrj5nsnZjtlbTslbzrp4wg7ZqM7JuQ6rCA7J6F7J2EIOynhO2Wie2VoCDsiJgg7J6I7Iq164uI64ukLic7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmKChyZWdEYXRhLnRlcm1zKSAmJiAocmVnRGF0YS5wcml2YWN5KSkge1xyXG4gICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSAn7JW96rSA7JeQIOyEseqzteyggeycvOuhnCDrj5nsnZjtlZjshajsirXri4jri6QuJztcclxuICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3JlZ2lzdGVyU3RlcDInKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7JW96rSA7JeQIOuPmeydmO2VtOyVvOunjCDtmozsm5DqsIDsnoXsnYQg7KeE7ZaJ7ZWgIOyImCDsnojsirXri4jri6QuJztcclxuICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH07XHJcblxyXG4gICAgLy8g7ZqM7JuQ6rCA7J6FXHJcbiAgICAgIHRoaXMucmVnU3RlcDIgPSBmdW5jdGlvbihyZWdEYXRhLCB2YWxpZCwgY29uZmlybWVkKXtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICBpZih2YWxpZCAmJiBjb25maXJtZWQpe1xyXG4gICAgICAgICAgVXNlci5jcmVhdGUoYXBwLnJlZ0RhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICQoXCIjcmVnaXN0ZXJcIikubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICAgICAgICAgIGFwcC5yZWdEYXRhID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGFwcC5pc0xvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICAgIH0sMzAwMCk7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTsgLy8gSWYgZXJyb3Igb2NjdXJzLCByZW1vdmUgZGlzYWJsZSBsb2NrIGZyb20gZm9ybVxyXG4gICAgICAgICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBib290c3RyYXAgbG9hZGluZyBpY29uXHJcbiAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gRGlzcGxheSBlcnJvciBpZiB2YWxpZCByZXR1cm5zIGZhbHNlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfTtcclxuXHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncHJvZmlsZUN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXIsICR0aW1lb3V0LCAkc3RhdGUsICRodHRwKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuXHJcbi8vIOq4sOuzuCDsgqzsmqnsnpAg7KCV67O0IOqwgOyguOyYpOuKlCDtlajsiJhcclxuICB2YXIgdXNlcm5hbWUgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJuYW1lO1xyXG4gIFVzZXIucmVhZFByb2ZpbGVzKHVzZXJuYW1lKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICBhcHAucmVhZERhdGEgPSBkYXRhLmRhdGEucHJvZmlsZXM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcblxyXG4vLyDsnKDsoIAg7ZSE66Gc7ZWEIOyCrOynhCDrs4Dqsr0g7ZWo7IiYXHJcbiAgICB0aGlzLmZpbGUgPSB7fTtcclxuICAgIHRoaXMucGhvdG9DaGFuZ2VkID0gZnVuY3Rpb24oZmlsZXMpIHtcclxuICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwICYmIGZpbGVzWzBdLm5hbWUubWF0Y2goL1xcLihwbmd8anBlZ3xqcGcpJC8pKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC50aHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC50aHVtYm5haWwuZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC51cGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5tZXNzYWdlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGFwcC50aHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgICBhcHAubWVzc2FnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuLy8g7ZSE66Gc7ZWEIOydtOuvuOyngOulvCDsl4XrjbDsnbTtirjtlZjripQg7ZWo7IiYXHJcbiAgICB0aGlzLnVwZGF0ZVByb2ZpbGVJbWFnZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgIHZhciB1c2VyX2lkID0gJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xyXG4gICAgICBmZC5hcHBlbmQoJ215ZmlsZScsIGFwcC5maWxlLnVwbG9hZCk7XHJcbiAgICAgICAgJGh0dHAucHV0KCcvYXBpL3VwbG9hZFRlbXAvJyt1c2VyX2lkLCAgZmQsIHtcclxuICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG4gICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkfVxyXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9O1xyXG5cclxuLy8g7ZSE66Gc7ZWEIOygleuztCDrs4Dqsr1cclxuICB0aGlzLnVwZGF0ZVByb2ZpbGUgPSBmdW5jdGlvbigpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgYXBwLnJlYWREYXRhLnVzZXJfaWQgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XHJcbiAgICBVc2VyLnVwZGF0ZVByb2ZpbGVzKGFwcC5yZWFkRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICB9LDIwMDApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxufSk7XHJcbiJdfQ==

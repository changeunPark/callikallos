angular.module("app",["ui.router","ui.bootstrap","userControllers","mainControllers","emailControllers","artistControllers","gallertControllers","commentControllers","boardControllers","managementControllers","uiCropper"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptors")}]);var app=angular.module("app");app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,a){t.otherwise("/"),a.hashPrefix(""),a.html5Mode(!0),e.state("app",{url:"/",views:{header:{templateUrl:"/menues/mainMenu.html",controller:"mainMenuController"},content:{templateUrl:"/main/home.html"},footer:{templateUrl:"/company/footer.html"}}}).state("management",{url:"/management",templateUrl:"/management/management.html",controller:"managementCtrl",controllerAs:"management",permission:"admin"}).state("registerStep1",{url:"/register/step1",controller:"regCtrl",controllerAs:"register",templateUrl:"/isLoggedOut/registerStep1.html",authenticated:!1}).state("registerStep2",{url:"/register/step2",controller:"regCtrl",controllerAs:"register",templateUrl:"/isLoggedOut/registerStep2.html",authenticated:!1}).state("resetusername",{url:"/resetusername",templateUrl:"/users/reset/username.html",controller:"usernameCtrl",controllerAs:"username"}).state("resetpassword",{url:"/resetpassword",templateUrl:"/users/reset/password.html",controller:"passwordCtrl",controllerAs:"password"}).state("reset",{url:"/reset/:token",templateUrl:"/users/reset/newpassword.html",controller:"resetCtrl",controllerAs:"reset"}).state("activate",{url:"/activate/:token",templateUrl:"/users/activation/activate.html",controller:"emailCtrl",controllerAs:"email"}).state("resend",{url:"/resend",templateUrl:"/users/activation/resend.html",controller:"resendCtrl",controllerAs:"resend"}).state("app.profiles",{url:"profiles",views:{"content@":{templateUrl:"isLoggedIn/userProfiles.html",controller:"profileCtrl",controllerAs:"profile",authenticated:!1}}}).state("app.photos",{url:"photos",views:{"content@":{templateUrl:"isLoggedIn/artistPhotos.html",controller:"anArtistPhotoCtrl",controllerAs:"anArtistPhoto",authenticated:!1}}}).state("app.artistProfiles",{url:"artist",views:{"content@":{templateUrl:"isLoggedIn/artistProfiles.html",controller:"artistProfileCtrl",controllerAs:"artistProfile",authenticated:!0}}}).state("app.intro",{url:"intro",views:{"content@":{templateUrl:"/company/intro.html",authenticated:!1}}}).state("app.terms",{url:"terms",views:{"content@":{templateUrl:"/company/terms.html",authenticated:!1}}}).state("app.privacy",{url:"privacy",views:{"content@":{templateUrl:"/company/privacy.html",authenticated:!1}}}).state("app.artist",{url:"artist/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.artist":{templateUrl:"/partialArtist/artistTap.html",controller:"artistTapCtrl",controllerAs:"artistTap",authenticated:!1},"contents@app.artist":{templateUrl:"/partialArtist/artists.html",controller:"artistsCtrl",controllerAs:"artists",authenticated:!1}}}).state("app.gallery",{url:"gallery/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.gallery":{templateUrl:"/partialGallery/galleryTap.html",controller:"galleryTapCtrl",controllerAs:"galleryTap"},"contents@app.gallery":{templateUrl:"/partialGallery/photos.html",controller:"galleryPhotosCtrl",controllerAs:"galleryPhotos",authenticated:!1}}}).state("app.board",{url:"board/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.board":{templateUrl:"/partialBoard/boardTap.html",controller:"boardTapCtrl",authenticated:!1},"contents@app.board":{templateUrl:"/partialBoard/boards.html",controller:"boardsCtrl",controllerAs:"boards",authenticated:!1}}}).state("app.display",{url:"display/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.display":{templateUrl:"/partialDisplay/displayTap.html",controller:"displayMenuController",authenticated:!1},"contents@app.display":{templateUrl:"/partialDisplay/content.html",controller:"displayMenuController",authenticated:!1}}}).state("app.artist.show",{url:"/artist:artist_id",views:{"contents@app.artist":{templateUrl:"/partialArtist/artist.html",controller:"artistPhotoCtrl",controllerAs:"artistPhoto",authenticated:!1}}}).state("app.gallery.show",{url:"/photo_type=:photo_type/photo:photo_id",views:{"contents@app.gallery":{templateUrl:"/partialGallery/photo.html",controller:"galleryPhotoCtrl",controllerAs:"galleryphoto"}}}).state("app.board.show",{url:"/board:board_id",views:{"contents@app.board":{templateUrl:"partialBoard/board.html",controller:"boardCtrl",controllerAs:"board"}}}).state("app.board.create",{url:"/create",views:{"contents@app.board":{templateUrl:"/partialBoard/boardCreate.html",controller:"boardCtrl",controllerAs:"board",authenticated:!0}}}).state("app.board.edit",{url:"/edit/:board_id",views:{"contents@app.board":{templateUrl:"partialBoard/boardUpdate.html",controller:"boardCtrl",controllerAs:"board",authenticated:!0}}}).state("app.gallery.edit",{url:"/edit/:photo_id",views:{"content@":{templateUrl:"/partialGallery/photoEdit.html",controller:"galleryPhotoCtrl",controllerAs:"galleryphoto"}}})}]),app.run(["$rootScope","User","$state",function(e,t,a){e.$on("$stateChangeStart",function(e,a,r,o,s,n){"admin"===a.permission&&t.getPermission().then(function(e){})}),e.$on("$stateChangeError",function(e,t,r,o,s,n){a.go("app")})}]),angular.module("commentControllers",["commentServices"]).controller("commentCtrl",["$scope","$http","$stateParams","$state","$window","Comment",function(e,t,a,r,o,s){var n=a.photo_id;this.createComment=function(t){if(e.main.user.user_id)if(t){var a={comment:t,user_id:e.main.user.user_id,photo_id:n};s.createComment(a).then(function(e){e.data.success&&r.reload()})}else o.alert("댓글을 입력해주세요.");else e.main.login()},e.deleteComment=function(e){var a=e.comment_id;t.delete("/api/comment/"+a).then(function(e){r.reload()})}}]),angular.module("app").controller("ImageCropCtrl",["$scope","$http",function(e,t){function a(e){var t=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?new Error("Invalid input string"):{type:t[1],data:t[2]}}var r=this;r.myImage="",r.myCroppedImage="";var o=function(t){e.imageuploaded=!1;var a=t.currentTarget.files[0],o=new FileReader;o.onload=function(t){e.$apply(function(e){r.myImage=t.target.result})},o.readAsDataURL(a)};angular.element(document.querySelector("#fileInput")).on("change",o),r.readCropImage=function(r){if(""===r.base64Url||null===r.base64Url||void 0===r.base64Url)console.log("이미지를 선택해주세요.");else{var o=a(e.myCroppedImage);t.post("/uploadImage",o).then(function(t){t.data.success&&(console.log(t.data.filePath),e.imageuploaded=!0)})}}}]),angular.module("managementControllers",[]).controller("managementCtrl",function(){console.log("작동 중")}),angular.module("app").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,a,r){var o=e(r.fileModel),s=o.assign;a.bind("change",function(){t.$apply(function(){s(t,a[0].files[0])})})}}}]),angular.module("app").directive("match",function(){return{restrict:"A",controller:["$scope",function(e){e.doConfirm=function(t){e.confirmed=!1,t.forEach(function(t){e.confirm==t?e.confirmed=!0:e.confirmed=!1})}}],link:function(e,t,a){a.$observe("match",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)}),e.$watch("confirm",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)})}}}),angular.module("artistServices",[]).factory("Artist",["$http",function(e){return artistFactory={},artistFactory.readArtistTap=function(){return e.get("/api/artistMenu")},artistFactory.readArtists=function(t){return e.get("/api/artistMenu/"+t)},artistFactory.readArtist=function(t){return e.get("/api/artist/"+t)},artistFactory.readAristCrop=function(t){return e.post("/uploadImage",t)},artistFactory.createAristPhoto=function(t){return e.post("/api/artistProfiles",t)},artistFactory.updateAristProfile=function(t){return e.put("/api/artistProfiles",t)},artistFactory.readArtistProfile=function(t){return e.get("/api/artistProfiles/"+t)},artistFactory.readAristPhoto=function(t){return e.get("/api/artistPhotos/"+t)},artistFactory}]),angular.module("authServices",[]).factory("Auth",["$http","AuthToken",function(e,t){var a={};return a.getUser=function(){if(t.getToken())return e.post("/api/me");$q.reject({message:"User has no token"})},a.login=function(a){return e.post("/api/authenticate",a).then(function(e){return t.setToken(e.data.token),e})},a.isLoggedIn=function(){return!!t.getToken()},a.logout=function(){t.setToken()},a}]).factory("AuthToken",["$window",function(e){var t={};return t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token",t)},t.getToken=function(){return e.localStorage.getItem("token")},t}]).factory("AuthInterceptors",["AuthToken",function(e){var t={};return t.request=function(t){var a=e.getToken();return a&&(t.headers["x-access-token"]=a),t},t}]),angular.module("boardServices",[]).factory("Board",["$http",function(e){return boardFactory={},boardFactory.readBoardTap=function(){return e.get("/api/boardMenu")},boardFactory.readBoards=function(t){return e.get("/api/boardMenu/"+t)},boardFactory.readBoard=function(t){return e.get("api/board/"+t)},boardFactory.createBoard=function(t){return e.post("/api/boardMenu",t)},boardFactory}]),angular.module("commentServices",[]).factory("Comment",["$http",function(e){return commentFactory={},commentFactory.createComment=function(t){return e.post("/api/comment",t)},commentFactory.readComment=function(t){return e.get("/api/comment/"+t)},commentFactory.readBoardComment=function(t){return e.get("/api/commentBoard/"+t)},commentFactory}]),angular.module("galleryServices",[]).factory("Gallery",["$http",function(e){return galleryFactory={},galleryFactory.readGalleryTap=function(){return e.get("/api/galleryMenu")},galleryFactory.readPhotos=function(t){return e.get("/api/galleryMenu/"+t)},galleryFactory.readPhotoData=function(t){return e.get("/api/gallery/"+t)},galleryFactory.readMorePhoto=function(t){return e.get("/api/galleryMenu/"+t)},galleryFactory}]),angular.module("userServices",[]).factory("User",["$http",function(e){return userFactory={},userFactory.getPermission=function(){return e.get("/api/permission")},userFactory.create=function(t){return e.post("/api/users",t)},userFactory.activeAccount=function(t){return e.put("/api/activate/"+t)},userFactory.checkCredentials=function(t){return e.post("/api/resend",t)},userFactory.resendLink=function(t){return e.put("/api/resend",t)},userFactory.sendUsername=function(t){return e.get("/api/resetusername/"+t)},userFactory.sendPassword=function(t){return e.put("/api/resetpassword",t)},userFactory.resetPassword=function(t){return e.get("/api/resetpassword/"+t)},userFactory.savePassword=function(t){return e.put("/api/savepassword",t)},userFactory.renewSession=function(t){return e.get("/api/renewToken/"+t)},userFactory.resetPermission=function(t){return e.put("/api/users/",t)},userFactory.checkPermission=function(t){return e.get("/api/users/"+t)},userFactory.readProfiles=function(t){return e.get("/api/userProfiles/"+t)},userFactory.updateProfiles=function(t){return e.put("/api/userProfiles",t)},userFactory}]),angular.module("artistControllers",["userServices","artistServices"]).controller("artistTapCtrl",["$scope","Artist",function(e,t){t.readArtistTap().then(function(t){t.data.success?e.headers=t.data.result:app.errorMsg=t.data.message})}]).controller("artistsCtrl",["$stateParams","Artist",function(e,t){var a=this,r=e.code;a.data={availableOptions:[{sort:"-created",name:"최신순"}],selectedOption:{sort:"-created",name:"최신순"}},t.readArtists(r).then(function(e){e.data.success?a.artistDatas=e.data.result:a.errorMsg=e.data.message})}]).controller("uploadPhotoCtrl",["$http","$timeout","$scope","Artist","$state","$window",function(e,t,a,r,o,s){function n(e){var t=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?new Error("Invalid input string"):{type:t[1],data:t[2]}}var i=this;i.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"붓 글씨"},{id:"2",name:"펜 글씨"},{id:"3",name:"미분류"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.file={},this.mainPhotoChanged=function(e){if(e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var a=e[0],r=new FileReader;r.readAsDataURL(a),r.onload=function(e){t(function(){i.mainThumbnail={},i.mainThumbnail.dataUrl=e.target.result})}}else i.mainThumbnail={}},this.readPhoto=function(){i.mainPhoto=!1,i.disabled=!0,a.$emit("LOAD");var t=new FormData;t.append("myfile",i.file.upload),e.post("/api/uploadTemp/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),i.mainPhoto=!0,i.disabled=!1,i.mainImagePath=e.data.photo_path,i.file={}):(a.$emit("UNLOAD"),s.alert(e.data.message),i.disabled=!1,i.file={})})},i.myImage="",i.myCroppedImage="";var l=function(e){var t=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){a.$apply(function(t){i.myImage=e.target.result})},r.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",l),i.readCropImage=function(e){if(i.thumbnail=!1,i.disabled=!0,a.$emit("LOAD"),""===e.base64Url||null===e.base64Url||void 0===e.base64Url)i.disabled=!1;else if(i.mainImagePath){var t=n(a.myCroppedImage);r.readAristCrop(t).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.alert(e.data.message),i.thumbnail=!0,i.disabled=!1,i.thumbnailPath=e.data.filePath):i.disabled=!1})}else a.$emit("UNLOAD"),s.alert("작품의 메인 이미지를 업로드해주세요."),i.disabled=!1},this.createPhoto=function(e){i.disabled=!0,i.errorMsg=!1,e?void 0===i.uploadData.title||null===i.uploadData.title||""===i.uploadData.title?i.errorMsg="작품의 제목을 입력해주세요.":"<p><br></p>"===$("#summernote").summernote("code")||null===$("#summernote").summernote("code")||void 0===$("#summernote").summernote("code")||""===$("#summernote").summernote("code")?i.errorMsg="작품의 설명을 입력해주세요.":void 0===i.mainImagePath||null===i.mainImagePath||""===i.mainImagePath?i.errorMsg="작품 이미지를 선택해주세요.":"0"===i.data.selectedOption.id?i.errorMsg="작품의 종류를 선택해주세요.":void 0===i.thumbnailPath||null===i.thumbnailPath||""===i.thumbnailPath?i.errorMsg="썸네일 이미지를 선택해주세요.":(i.uploadData={title:e.title,detail:$("#summernote").summernote("code"),user_id:a.main.user.user_id,photo_type:i.data.selectedOption.id,photo_path:i.mainImagePath,photo_thumbnail:i.thumbnailPath},r.createAristPhoto(i.uploadData).then(function(e){e.data.success?(i.successMsg=e.data.message,i.disabled=!0,t(function(){o.reload()},2e3)):(i.errorMsg=e.data.message,i.successMsg=!1,i.disabled=!1)})):(i.errorMsg="빈칸을 모두 입력해주세요.",i.disabled=!1,i.successMsg=!1)},$(document).ready(function(){$("#summernote").summernote({toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]]],height:150,lang:"ko-KR",placeholder:"작품의 설명을 입력해주세요."})})}]).controller("artistProfileCtrl",["$timeout","Artist","$state","$scope",function(e,t,a,r){var o=this,s=r.main.user.user_id;o.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"붓 글씨"},{id:"2",name:"펜 글씨"},{id:"3",name:"미분류"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},t.readArtistProfile(s).then(function(e){e.data.success?o.artistData=e.data.result:o.errorMsg=e.data.message}),this.updateAristProfile=function(s){console.log("작동 중"),o.errorMsg=!1,s?void 0===o.artistData.short_info||null===o.artistData.short_info||""===o.artistData.short_info?o.errorMsg="한 줄 소개를 입력해주세요.":void 0===o.artistData.detail_info||null===o.artistData.detail_info||""===o.artistData.detail_info?o.errorMsg="상세 소개를 입력해주세요.":(o.artistData=s,o.artistData.user_id=r.main.user.user_id,t.updateAristProfile(o.artistData).then(function(t){t.data.success?(o.errorMsg=!1,o.successMsg=t.data.message,o.disabled=!0,e(function(){a.reload()},2e3)):o.errorMsg="올바르지 않은 값이 입력되었습니다."})):o.errorMsg="필수기재사항을 입력해주세요."}}]).controller("anArtistPhotoCtrl",["Artist","$stateParams","$scope",function(e,t,a){var r=this,o=a.main.user.user_id;e.readArtistProfile(o).then(function(e){e.data.success?r.artistData=e.data.result:r.errorMsg=e.data.message}),e.readAristPhoto(o).then(function(e){e.data.success?r.artistPhotos=e.data.result:r.errorMsg=e.data.message})}]).controller("artistPhotoCtrl",["Artist","$stateParams",function(e,t){var a=this,r=t.artist_id;e.readArtistProfile(r).then(function(e){e.data.success?a.artistData=e.data.result:a.errorMsg=e.data.message}),e.readAristPhoto(r).then(function(e){e.data.success?a.artistPhotos=e.data.result:a.errorMsg=e.data.message})}]),angular.module("boardControllers",["boardServices"]).filter("to_trusted",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]).controller("boardTapCtrl",["Board","$scope",function(e,t){e.readBoardTap().then(function(e){t.headers=e.data})}]).controller("boardsCtrl",["$stateParams","Board","$scope","$state",function(e,t,a,r){var o=this,s=e.code;o.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},t.readBoards(s).then(function(e){o.boardDatas=e.data.result}),this.createBoard=function(e){a.main.user.user_id?r.go("app.board.create"):a.main.login()}}]).controller("boardCtrl",["$stateParams","Board","$scope","$http","$state","$timeout","Comment","$window",function(e,t,a,r,o,s,n,i){var l=this,d=e.board_id;l.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"공지사항"},{id:"2",name:"잡학사전"},{id:"3",name:"질문사항"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},n.readBoardComment(d).then(function(e){e.data.success?l.commentData=e.data.result:l.errorMsg=e.data.message}),this.createComment=function(e){if(a.main.user.user_id)if(e){var t={comment:e,user_id:a.main.user.user_id,board_id:d};n.createComment(t).then(function(e){e.data.success&&o.reload()})}else i.alert("댓글을 입력해주세요.");else a.main.login()},$(document).ready(function(){$("#summernote").summernote({height:350,lang:"ko-KR",placeholder:"댓글은 1,000자까지 작성할 수 있으며 주제와 무관한 댓글, 악성 댓글은 삭제될 수 있습니다."})}),this.createBoard=function(e){if(l.disabled=!0,l.errorMsg=!1,"0"===l.data.selectedOption.id)l.errorMsg="게시글의 종류를 선택해주세요",l.disabled=!1;else if(void 0===e||null===e||""===e)l.errorMsg="제목을 입력해주세요.",l.disabled=!1;else if("<p><br></p>"===$("#summernote").summernote("code")||null===$("#summernote").summernote("code")||void 0===$("#summernote").summernote("code")||""===$("#summernote").summernote("code"))l.errorMsg="내용을 입력해주세요.",l.disabled=!1;else{var r=$("#summernote").summernote("code"),n=l.data.selectedOption.id,i=e.title,d={title:i,content:r,board_type:n,user_id:a.main.user.user_id};t.createBoard(d).then(function(e){e.data.success?(l.successMsg=e.data.message,s(function(){o.go("app.board")},500)):(l.disabled=!1,l.errorMsg=e.data.message)})}},t.readBoard(d).then(function(e){e.data.success?(l.boardDatas=e.data.result,l.htmlcontent=e.data.result.content):l.errorMsg=e.data.message})}]),angular.module("gallertControllers",["galleryServices"]).filter("to_trusted",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]).controller("galleryTapCtrl",["$scope","Gallery",function(e,t){t.readGalleryTap().then(function(t){t.data.success?e.headers=t.data.result:app.errorMsg=t.data.message})}]).controller("galleryPhotosCtrl",["Gallery","$stateParams",function(e,t){var a=this,r=t.code;a.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},e.readPhotos(r).then(function(e){e.data.success?(a.photoData=e.data.result,console.log(a.photoData)):a.errorMsg=e.data.message})}]).controller("galleryPhotoCtrl",["$stateParams","Gallery","Comment","$scope","$window","$state",function(e,t,a,r,o,s){var n=this,i=e.photo_id,l=e.photo_type;r.main.user.user_id;t.readPhotoData(i).then(function(e){e.data.success?(n.photoData=e.data.result,n.htmlcontent=e.data.result.photo_detail,console.log(n.htmlcontent)):n.errorMsg=e.data.message}),t.readPhotos(l).then(function(e){e.data.success?n.photosData=e.data.result:n.errorMsg=e.data.message}),a.readComment(i).then(function(e){e.data.success?n.commentData=e.data.result:n.errorMsg=e.data.message}),this.createComment=function(e){if(r.main.user.user_id)if(e){var t={comment:e,user_id:r.main.user.user_id,photo_id:i};a.createComment(t).then(function(e){e.data.success&&s.reload()})}else o.alert("댓글을 입력해주세요.");else r.main.login()}}]),angular.module("app").controller("HomeCtrl",["$http","$scope",function(e,t){t.getContent=function(){e.get("/api/home").then(function(e){t.photos=e.data})}}]),angular.module("mainControllers",["authServices","userServices"]).controller("mainCtrl",["Auth","$timeout","$location","$state","$rootScope","$scope","$window","$interval","User","AuthToken",function(e,t,a,r,o,s,n,i,l,d){var c=this;c.loadme=!1,s.$on("LOAD",function(){s.loading=!0}),s.$on("UNLOAD",function(){s.loading=!1}),o.$on("$stateChangeStart",function(){u?e.isLoggedIn()?(c.isLoggedIn=!0,c.loadme=!0,e.getUser().then(function(e){c.user=e.data,c.loadme=!0,l.getPermission().then(function(e){e.data.success?"admin"===e.data.permission?(c.authorized=!0,c.loadme=!0):"artist"===e.data.permission?(c.permission=!0,c.loadme=!0):(c.permission=!1,c.authorized=!1,c.loadme=!0):(c.permission=!1,c.authorized=!1,c.loadme=!0)})})):(c.user=!1,c.isLoggedIn=!1,c.loadme=!0):u()});var u=function(){if(e.isLoggedIn()){c.checkSession=!0;var t=i(function(){var e=n.localStorage.getItem("token");if(null===e)i.cancel(t);else{self.parseJwt=function(e){var t=e.split(".")[1],a=t.replace("-","+").replace("_","/");return JSON.parse(n.atob(a))};var a=self.parseJwt(e),r=Math.floor(Date.now()/1e3);a.exp-r<=5&&(m("expired"),i.cancel(t))}},2e3)}};u(),c.renewSession=function(){c.choiceMade=!0,l.renewSession(c.user.username).then(function(e){e.data.success?(d.setToken(e.data.token),u(),p("expired")):(c.ModalBody=e.data.message,p("expired"))})},c.endSession=function(){c.choiceMade=!0,p("expired"),t(function(){m("logout")},500)};var m=function(a){c.choiceMade=!1,c.modalHeader=void 0,c.modalBody=void 0,c.hideButton=!1,"expired"===a?(c.modalHeader="Timeout Warning",c.modalBody="Your session will expired in 5 minutes. Would you like to renew your session?",$("#myModal").modal({backdrop:"static"})):"logout"===a?(c.hideButton=!0,c.modalHeader="로그아웃",$("#myModal").modal({backdrop:"static"}),t(function(){e.logout(),c.isLoggedIn=!1,p("logout"),r.reload()},2e3)):"login"===a?$("#login").modal({backdrop:"static"}):"upload"===a&&$("#upload").modal({backdrop:"static"}),t(function(){c.choiceMade||p("logout")},4e3)},p=function(e){"expired"===e?$("#myModal").modal("hide"):"logout"===e?$("#myModal").modal("hide"):"login"===e?$("#login").modal("hide"):"upload"===e&&$("#upload").modal("hide")};this.doLogin=function(a,o){c.errorMsg=!1,c.expired=!1,c.disabled=!0,o?e.login(c.loginData).then(function(e){e.data.success?(c.disabled=!0,c.successMsg=e.data.message,t(function(){p("login"),c.loginData=null,c.isLoggedIn=!0,u(),r.reload()},2e3)):e.data.expired?(c.expired=!0,c.disabled=!0,c.errorMsg=e.data.message):(c.disabled=!1,c.errorMsg=e.data.message)}):(c.disabled=!1,c.loading=!1,c.errorMsg="올바른 정보를 입력해주세요.")},this.upload=function(){c.choiceMade=!0,!0===c.authorized||!0===c.permission?r.go("app.artistProfiles"):l.checkPermission(c.user.username).then(function(e){e.data.success?(r.go("app.artistProfiles"),c.permission=!0):m("upload")})},this.doPermission=function(){c.choiceMade=!0,c.uploadDisabled=!0,c.uploaderrorMsg=!1,l.resetPermission(c.user).then(function(e){e.data.success?(c.uploadDisabled=!0,c.uploadSuccessMsg=e.data.message,t(function(){p("upload"),r.go("app.artistProfiles")},2e3)):(c.uploadDisabled=!1,c.uploaderrorMsg="잘못된 정보가 입력되었습니다.")})},c.login=function(){c.successMsg=!1,c.errorMsg=!1,c.disabled=!1,m("login")},c.logout=function(){m("logout")},c.resend=function(){p("login"),t(function(){r.go("resend"),c.expired=!1},500)},c.resetusername=function(){p("login"),t(function(){r.go("resetusername")},500)},c.resetpassword=function(){p("login"),t(function(){r.go("resetpassword")},500)}}]),angular.module("app").controller("mainMenuController",["$http","$scope",function(e,t){e.get("/api/header").then(function(e){t.headers=e.data})}]),angular.module("emailControllers",["userServices"]).controller("emailCtrl",["$stateParams","User","$timeout","$state",function(e,t,a,r){var o=this;t.activeAccount(e.token).then(function(e){o.successMsg=!1,o.errorMsg=!1,e.data.success?(o.disabled=!0,o.successMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3)):(o.errorMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3))})}]).controller("resendCtrl",["User","$timeout","$state",function(e,t,a){app=this,this.checkCredentials=function(r){app.successMsg=!1,app.errorMsg=!1,app.disabled=!0,e.checkCredentials(this.loginData).then(function(r){r.data.success?e.resendLink(app.loginData).then(function(e){e.data.success&&(app.disabled=!0,app.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3))}):(app.disabled=!1,app.errorMsg=r.data.message)})}}]).controller("usernameCtrl",["User","$timeout","$state",function(e,t,a){var r=this;this.sendUsername=function(o,s){r.errorMsg=!1,r.disabled=!0,s?e.sendUsername(r.userData.email).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 이메일 주소가 아닙니다.")}}]).controller("passwordCtrl",["User","$timeout","$state",function(e,t,a){var r=this;r.sendPassword=function(o,s){r.errorMsg=!1,r.disabled=!0,s?e.sendPassword(r.resetData).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 아이디가 아닙니다.")}}]).controller("resetCtrl",["$stateParams","$scope","User","$timeout","$state",function(e,t,a,r,o){var s=this;s.hide=!0,a.resetPassword(e.token).then(function(e){e.data.success?(s.hide=!1,t.alert="alert alert-success",s.successMsg="새로운 비밀번호를 입력해주세요.",t.username=e.data.user[0].username):(t.alert="alert alert-danger",s.errorMsg=e.data.message)}),s.savePassword=function(e,n,i){s.errorMsg=!1,s.successMsg=!1,s.disabled=!0,s.loading=!0,n&&i?(s.regData.username=t.username,a.savePassword(s.regData).then(function(e){s.loading=!1,e.data.success?(t.alert="alert alert-success",s.successMsg=e.data.message+"...메인 화면으로 이동합니다.",r(function(){o.go("app")},2e3)):(t.alert="alert alert-danger",s.disabled=!1,s.errorMsg=e.data.message)})):(t.alert="alert alert-danger",s.loading=!1,s.disabled=!1,s.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("userControllers",["userServices"]).controller("regCtrl",["$http","$location","$timeout","User","Auth","$state",function(e,t,a,r,o,s){var n=this;this.regStep1=function(e){n.errorMsg=!1,e?e.terms&&e.privacy?(n.successMsg="약관에 성공적으로 동의하셨습니다.",n.disabled=!0,s.go("registerStep2")):(n.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다.",n.disabled=!1):n.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다."},this.regStep2=function(e,t,i){n.errorMsg=!1,n.disabled=!0,t&&i?r.create(n.regData).then(function(e){e.data.success?(n.disabled=!0,n.successMsg=e.data.message,o.login(n.regData).then(function(e){e.data.success?(n.disabled=!0,n.successMsg=e.data.message,a(function(){s.go("app")},1e3)):e.data.expired?(n.expired=!0,n.disabled=!0,n.errorMsg=e.data.message):(n.disabled=!1,n.errorMsg=e.data.message)})):(n.disabled=!1,n.errorMsg=e.data.message)}):(n.disabled=!1,n.loading=!1,n.errorMsg="올바른 정보를 입력해주세요.")}}]).controller("profileCtrl",["$scope","User","$timeout","$state","$http",function(e,t,a,r,o){var s=this,n=e.main.user.username;t.readProfiles(n).then(function(e){e.data.success?s.readData=e.data.profiles:s.errorMsg=e.data.message}),this.file={},this.photoChanged=function(e){if(e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var t=e[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){a(function(){s.thumbnail={},s.thumbnail.dataUrl=e.target.result,s.uploading=!1,s.message=!1})}}else s.thumbnail={},s.message=!1},this.updateProfileImage=function(){s.errorMsg=!1,s.disabled=!0,e.$emit("LOAD");var t=new FormData,n=e.main.user.user_id;t.append("myfile",s.file.upload),o.put("/api/uploadTemp/"+n,t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(t){t.data.success?(e.$emit("UNLOAD"),s.successMsg=t.data.message,s.file={},a(function(){r.reload()},1e3)):(e.$emit("UNLOAD"),s.disabled=!1,s.errorMsg=t.data.message,s.file={})})},this.updateProfile=function(){s.errorMsg=!1,s.disabled=!0,s.readData.user_id=e.main.user.user_id,t.updateProfiles(s.readData).then(function(e){e.data.success?(s.successMsg=e.data.message,a(function(){r.reload()},2e3)):(s.errorMsg=e.data.message,s.disabled=!1)})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsInJvdXRlLmpzIiwiY29udG9yb2xsZXJzL2NvbW1lbnRDdHJsLmpzIiwiY29udG9yb2xsZXJzL2ltYWdlQ3JvcC5qcyIsImNvbnRvcm9sbGVycy9tYW5hZ2VtZW50Q3RybC5qcyIsImRpcmVjdGl2ZXMvZmlsZU1vZGVsLmpzIiwiZGlyZWN0aXZlcy9tYXRjaFBhc3N3b3JkLmpzIiwic2VydmljZXMvYXJ0aXN0U2VydmljZXMuanMiLCJzZXJ2aWNlcy9hdXRoU2VydmljZXMuanMiLCJzZXJ2aWNlcy9ib2FyZFNlcnZpY2VzLmpzIiwic2VydmljZXMvY29tbWVudFNlcnZpY2VzLmpzIiwic2VydmljZXMvZ2FsbGVyeVNlcnZpY2VzLmpzIiwic2VydmljZXMvdXNlclNlcnZpY2VzLmpzIiwiY29udG9yb2xsZXJzL2NhdGVnb3JpZXMvYXJ0aXN0Q3RybC5qcyIsImNvbnRvcm9sbGVycy9jYXRlZ29yaWVzL2JvYXJkQ3RybC5qcyIsImNvbnRvcm9sbGVycy9jYXRlZ29yaWVzL2dhbGxlcnlDdHJsLmpzIiwiY29udG9yb2xsZXJzL2NhdGVnb3JpZXMvaG9tZUN0cmwuanMiLCJjb250b3JvbGxlcnMvbWFpbi9tYWluQ3RybC5qcyIsImNvbnRvcm9sbGVycy9tYWluL21lbnVDdHJsLmpzIiwiY29udG9yb2xsZXJzL3VzZXIvZW1haWxDdHJsLmpzIiwiY29udG9yb2xsZXJzL3VzZXIvdXNlckN0cmwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwiYXBwIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIm90aGVyd2lzZSIsImhhc2hQcmVmaXgiLCJodG1sNU1vZGUiLCJzdGF0ZSIsInVybCIsInZpZXdzIiwiaGVhZGVyIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiY29udGVudCIsImZvb3RlciIsImNvbnRyb2xsZXJBcyIsInBlcm1pc3Npb24iLCJhdXRoZW50aWNhdGVkIiwiY29udGVudEAiLCJtZW51QGFwcC5hcnRpc3QiLCJjb250ZW50c0BhcHAuYXJ0aXN0IiwibWVudUBhcHAuZ2FsbGVyeSIsImNvbnRlbnRzQGFwcC5nYWxsZXJ5IiwibWVudUBhcHAuYm9hcmQiLCJjb250ZW50c0BhcHAuYm9hcmQiLCJtZW51QGFwcC5kaXNwbGF5IiwiY29udGVudHNAYXBwLmRpc3BsYXkiLCJydW4iLCIkcm9vdFNjb3BlIiwiVXNlciIsIiRzdGF0ZSIsIiRvbiIsImV2ZW50IiwidG9TdGF0ZSIsInRvUGFyYW1zIiwiZnJvbVN0YXRlIiwiZnJvbVBhcmFtcyIsIm9wdGlvbnMiLCJnZXRQZXJtaXNzaW9uIiwidGhlbiIsImRhdGEiLCJlcnJvciIsImdvIiwiJHNjb3BlIiwiJGh0dHAiLCIkc3RhdGVQYXJhbXMiLCIkd2luZG93IiwiQ29tbWVudCIsInBob3RvX2lkIiwidGhpcyIsImNyZWF0ZUNvbW1lbnQiLCJtYWluIiwidXNlciIsInVzZXJfaWQiLCJjb21tZW50RGF0YSIsImNvbW1lbnQiLCJzdWNjZXNzIiwicmVsb2FkIiwiYWxlcnQiLCJsb2dpbiIsImRlbGV0ZUNvbW1lbnQiLCJyZXNwb25zZSIsImlkIiwiY29tbWVudF9pZCIsImRlbGV0ZSIsImRlY29kZUJhc2U2NEltYWdlIiwiZGF0YVN0cmluZyIsIm1hdGNoZXMiLCJtYXRjaCIsImxlbmd0aCIsIkVycm9yIiwidHlwZSIsIm15SW1hZ2UiLCJteUNyb3BwZWRJbWFnZSIsImhhbmRsZUZpbGVTZWxlY3QiLCJldnQiLCJpbWFnZXVwbG9hZGVkIiwiZmlsZSIsImN1cnJlbnRUYXJnZXQiLCJmaWxlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCIkYXBwbHkiLCJ0YXJnZXQiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiZWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm9uIiwicmVhZENyb3BJbWFnZSIsImJhc2U2NFVybCIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJsb2ciLCJibG9iIiwicG9zdCIsImZpbGVQYXRoIiwiZGlyZWN0aXZlIiwiJHBhcnNlIiwicmVzdHJpY3QiLCJsaW5rIiwic2NvcGUiLCJhdHRycyIsInBhcnNlZEZpbGUiLCJmaWxlTW9kZWwiLCJwYXJzZWRmaWxlU2V0dGVyIiwiYXNzaWduIiwiYmluZCIsImRvQ29uZmlybSIsInZhbHVlcyIsImNvbmZpcm1lZCIsImZvckVhY2giLCJlbGUiLCJjb25maXJtIiwiJG9ic2VydmUiLCJKU09OIiwicGFyc2UiLCIkd2F0Y2giLCJmYWN0b3J5IiwiYXJ0aXN0RmFjdG9yeSIsInJlYWRBcnRpc3RUYXAiLCJnZXQiLCJyZWFkQXJ0aXN0cyIsInVzZXJfdHlwZSIsInJlYWRBcnRpc3QiLCJhcnRpc3RfaWQiLCJyZWFkQXJpc3RDcm9wIiwiY3JlYXRlQXJpc3RQaG90byIsInBob3RvRGF0YSIsInVwZGF0ZUFyaXN0UHJvZmlsZSIsImFydGlzdERhdGEiLCJwdXQiLCJyZWFkQXJ0aXN0UHJvZmlsZSIsInJlYWRBcmlzdFBob3RvIiwiQXV0aFRva2VuIiwiYXV0aEZhY3RvcnkiLCJnZXRVc2VyIiwiZ2V0VG9rZW4iLCIkcSIsInJlamVjdCIsIm1lc3NhZ2UiLCJsb2dpbkRhdGEiLCJzZXRUb2tlbiIsInRva2VuIiwiaXNMb2dnZWRJbiIsImxvZ291dCIsImF1dGhUb2tlbkZhY3RvcnkiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImdldEl0ZW0iLCJhdXRoSW50ZXJjZXB0b3JzRmFjdG9yeSIsInJlcXVlc3QiLCJoZWFkZXJzIiwiYm9hcmRGYWN0b3J5IiwicmVhZEJvYXJkVGFwIiwicmVhZEJvYXJkcyIsImJvYXJkX3R5cGUiLCJyZWFkQm9hcmQiLCJib2FyZF9pZCIsImNyZWF0ZUJvYXJkIiwiYm9hcmREYXRhIiwiY29tbWVudEZhY3RvcnkiLCJyZWFkQ29tbWVudCIsInJlYWRCb2FyZENvbW1lbnQiLCJnYWxsZXJ5RmFjdG9yeSIsInJlYWRHYWxsZXJ5VGFwIiwicmVhZFBob3RvcyIsInBob3RvX3R5cGUiLCJyZWFkUGhvdG9EYXRhIiwicmVhZE1vcmVQaG90byIsInVzZXJGYWN0b3J5IiwiY3JlYXRlIiwicmVnRGF0YSIsImFjdGl2ZUFjY291bnQiLCJjaGVja0NyZWRlbnRpYWxzIiwicmVzZW5kTGluayIsInVzZXJuYW1lIiwic2VuZFVzZXJuYW1lIiwidXNlckRhdGEiLCJzZW5kUGFzc3dvcmQiLCJyZXNldERhdGEiLCJyZXNldFBhc3N3b3JkIiwic2F2ZVBhc3N3b3JkIiwicmVuZXdTZXNzaW9uIiwicmVzZXRQZXJtaXNzaW9uIiwiY2hlY2tQZXJtaXNzaW9uIiwicmVhZFByb2ZpbGVzIiwidXBkYXRlUHJvZmlsZXMiLCJ1cGRhdGVEYXRhIiwiQXJ0aXN0IiwiZXJyb3JNc2ciLCJjb2RlIiwiYXZhaWxhYmxlT3B0aW9ucyIsInNvcnQiLCJuYW1lIiwic2VsZWN0ZWRPcHRpb24iLCJhcnRpc3REYXRhcyIsIiR0aW1lb3V0IiwibWFpblBob3RvQ2hhbmdlZCIsImZpbGVSZWFkZXIiLCJlIiwibWFpblRodW1ibmFpbCIsImRhdGFVcmwiLCJyZWFkUGhvdG8iLCJtYWluUGhvdG8iLCJkaXNhYmxlZCIsIiRlbWl0IiwiZmQiLCJGb3JtRGF0YSIsImFwcGVuZCIsInVwbG9hZCIsInRyYW5zZm9ybVJlcXVlc3QiLCJpZGVudGl0eSIsIkNvbnRlbnQtVHlwZSIsIm1haW5JbWFnZVBhdGgiLCJwaG90b19wYXRoIiwidGh1bWJuYWlsIiwidGh1bWJuYWlsUGF0aCIsImNyZWF0ZVBob3RvIiwidXBsb2FkRGF0YSIsInRpdGxlIiwiJCIsInN1bW1lcm5vdGUiLCJkZXRhaWwiLCJwaG90b190aHVtYm5haWwiLCJzdWNjZXNzTXNnIiwicmVhZHkiLCJ0b29sYmFyIiwiaGVpZ2h0IiwibGFuZyIsInBsYWNlaG9sZGVyIiwic2hvcnRfaW5mbyIsImRldGFpbF9pbmZvIiwiYXJ0aXN0UGhvdG9zIiwiZmlsdGVyIiwiJHNjZSIsInRleHQiLCJ0cnVzdEFzSHRtbCIsIkJvYXJkIiwiYm9hcmREYXRhcyIsImh0bWxjb250ZW50IiwiR2FsbGVyeSIsInBob3RvX2RldGFpbCIsInBob3Rvc0RhdGEiLCJnZXRDb250ZW50IiwicGhvdG9zIiwiQXV0aCIsIiRsb2NhdGlvbiIsIiRpbnRlcnZhbCIsImxvYWRtZSIsImxvYWRpbmciLCJjaGVja1Nlc3Npb24iLCJhdXRob3JpemVkIiwiaW50ZXJ2YWwiLCJjYW5jZWwiLCJzZWxmIiwicGFyc2VKd3QiLCJzcGxpdCIsImJhc2U2NCIsInJlcGxhY2UiLCJhdG9iIiwiZXhwaXJlVGltZSIsInRpbWVTdGFtcCIsIk1hdGgiLCJmbG9vciIsIkRhdGUiLCJub3ciLCJleHAiLCJzaG93TW9kYWwiLCJjaG9pY2VNYWRlIiwiaGlkZU1vZGFsIiwiTW9kYWxCb2R5IiwiZW5kU2Vzc2lvbiIsIm9wdGlvbiIsIm1vZGFsSGVhZGVyIiwibW9kYWxCb2R5IiwiaGlkZUJ1dHRvbiIsIm1vZGFsIiwiYmFja2Ryb3AiLCJkb0xvZ2luIiwidmFsaWQiLCJleHBpcmVkIiwiZG9QZXJtaXNzaW9uIiwidXBsb2FkRGlzYWJsZWQiLCJ1cGxvYWRlcnJvck1zZyIsInVwbG9hZFN1Y2Nlc3NNc2ciLCJyZXNlbmQiLCJyZXNldHVzZXJuYW1lIiwicmVzZXRwYXNzd29yZCIsImVtYWlsIiwiaGlkZSIsInJlZ1N0ZXAxIiwicmVnU3RlcDIiLCJyZWFkRGF0YSIsInByb2ZpbGVzIiwicGhvdG9DaGFuZ2VkIiwidXBsb2FkaW5nIiwidXBkYXRlUHJvZmlsZUltYWdlIiwidXBkYXRlUHJvZmlsZSJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQUFDLE9BQUEsT0FDQSxZQUNBLGVBQ0Esa0JBQ0Esa0JBQ0EsbUJBQ0Esb0JBQ0EscUJBQ0EscUJBQ0EsbUJBQ0Esd0JBQ0EsY0FDQUMsUUFBQSxnQkFBQSxTQUFBQyxHQUNBQSxFQUFBQyxhQUFBQyxLQUFBLHNCQ2JBLElBQUFDLEtBQUFOLFFBQUFDLE9BQUEsTUFDQUssS0FBQUosUUFBQSxpQkFBQSxxQkFBQSxvQkFBQSxTQUFBSyxFQUFBQyxFQUFBQyxHQUNBRCxFQUFBRSxVQUFBLEtBRUFELEVBQUFFLFdBQUEsSUFDQUYsRUFBQUcsV0FBQSxHQUVBTCxFQUNBTSxNQUFBLE9BQ0FDLElBQUEsSUFDQUMsT0FDQUMsUUFDQUMsWUFBQSx3QkFDQUMsV0FBQSxzQkFFQUMsU0FDQUYsWUFBQSxtQkFFQUcsUUFDQUgsWUFBQSwyQkFLQUosTUFBQSxjQUNBQyxJQUFBLGNBQ0FHLFlBQUEsOEJBQ0FDLFdBQUEsaUJBQ0FHLGFBQUEsYUFDQUMsV0FBQSxVQUdBVCxNQUFBLGlCQUVBQyxJQUFBLGtCQUNBSSxXQUFBLFVBQ0FHLGFBQUEsV0FDQUosWUFBQSxrQ0FDQU0sZUFBQSxJQUdBVixNQUFBLGlCQUVBQyxJQUFBLGtCQUNBSSxXQUFBLFVBQ0FHLGFBQUEsV0FDQUosWUFBQSxrQ0FDQU0sZUFBQSxJQUdBVixNQUFBLGlCQUVBQyxJQUFBLGlCQUNBRyxZQUFBLDZCQUNBQyxXQUFBLGVBQ0FHLGFBQUEsYUFHQVIsTUFBQSxpQkFFQUMsSUFBQSxpQkFDQUcsWUFBQSw2QkFDQUMsV0FBQSxlQUNBRyxhQUFBLGFBR0FSLE1BQUEsU0FFQUMsSUFBQSxnQkFDQUcsWUFBQSxnQ0FDQUMsV0FBQSxZQUNBRyxhQUFBLFVBSUFSLE1BQUEsWUFFQUMsSUFBQSxtQkFDQUcsWUFBQSxrQ0FDQUMsV0FBQSxZQUNBRyxhQUFBLFVBR0FSLE1BQUEsVUFFQUMsSUFBQSxVQUNBRyxZQUFBLGdDQUNBQyxXQUFBLGFBQ0FHLGFBQUEsV0FNQVIsTUFBQSxnQkFDQUMsSUFBQSxXQUNBQyxPQUNBUyxZQUNBUCxZQUFBLCtCQUNBQyxXQUFBLGNBQ0FHLGFBQUEsVUFDQUUsZUFBQSxNQU1BVixNQUFBLGNBQ0FDLElBQUEsU0FDQUMsT0FDQVMsWUFDQVAsWUFBQSwrQkFDQUMsV0FBQSxvQkFDQUcsYUFBQSxnQkFDQUUsZUFBQSxNQU1BVixNQUFBLHNCQUNBQyxJQUFBLFNBQ0FDLE9BQ0FTLFlBQ0FQLFlBQUEsaUNBQ0FDLFdBQUEsb0JBQ0FHLGFBQUEsZ0JBQ0FFLGVBQUEsTUFLQVYsTUFBQSxhQUVBQyxJQUFBLFFBQ0FDLE9BQ0FTLFlBQ0FQLFlBQUEsc0JBQ0FNLGVBQUEsTUFLQVYsTUFBQSxhQUVBQyxJQUFBLFFBQ0FDLE9BQ0FTLFlBQ0FQLFlBQUEsc0JBQ0FNLGVBQUEsTUFLQVYsTUFBQSxlQUVBQyxJQUFBLFVBQ0FDLE9BQ0FTLFlBQ0FQLFlBQUEsd0JBQ0FNLGVBQUEsTUFTQVYsTUFBQSxjQUNBQyxJQUFBLHdCQUNBQyxPQUNBUyxZQUNBUCxZQUFBLG1CQUVBUSxtQkFDQVIsWUFBQSxnQ0FDQUMsV0FBQSxnQkFDQUcsYUFBQSxZQUNBRSxlQUFBLEdBRUFHLHVCQUNBVCxZQUFBLDhCQUNBQyxXQUFBLGNBQ0FHLGFBQUEsVUFDQUUsZUFBQSxNQUtBVixNQUFBLGVBQ0FDLElBQUEseUJBQ0FDLE9BQ0FTLFlBQ0FQLFlBQUEsbUJBRUFVLG9CQUNBVixZQUFBLGtDQUNBQyxXQUFBLGlCQUNBRyxhQUFBLGNBRUFPLHdCQUNBWCxZQUFBLDhCQUNBQyxXQUFBLG9CQUNBRyxhQUFBLGdCQUNBRSxlQUFBLE1BS0FWLE1BQUEsYUFDQUMsSUFBQSx1QkFDQUMsT0FDQVMsWUFDQVAsWUFBQSxtQkFFQVksa0JBQ0FaLFlBQUEsOEJBQ0FDLFdBQUEsZUFDQUssZUFBQSxHQUVBTyxzQkFDQWIsWUFBQSw0QkFDQUMsV0FBQSxhQUNBRyxhQUFBLFNBQ0FFLGVBQUEsTUFLQVYsTUFBQSxlQUNBQyxJQUFBLHlCQUNBQyxPQUNBUyxZQUNBUCxZQUFBLG1CQUVBYyxvQkFDQWQsWUFBQSxrQ0FDQUMsV0FBQSx3QkFDQUssZUFBQSxHQUVBUyx3QkFDQWYsWUFBQSwrQkFDQUMsV0FBQSx3QkFDQUssZUFBQSxNQUtBVixNQUFBLG1CQUNBQyxJQUFBLG9CQUNBQyxPQUNBVyx1QkFDQVQsWUFBQSw2QkFDQUMsV0FBQSxrQkFDQUcsYUFBQSxjQUNBRSxlQUFBLE1BS0FWLE1BQUEsb0JBQ0FDLElBQUEseUNBQ0FDLE9BQ0FhLHdCQUNBWCxZQUFBLDZCQUNBQyxXQUFBLG1CQUNBRyxhQUFBLG1CQUtBUixNQUFBLGtCQUVBQyxJQUFBLGtCQUNBQyxPQUNBZSxzQkFDQWIsWUFBQSwwQkFDQUMsV0FBQSxZQUNBRyxhQUFBLFlBTUFSLE1BQUEsb0JBRUFDLElBQUEsVUFDQUMsT0FDQWUsc0JBQ0FiLFlBQUEsaUNBQ0FDLFdBQUEsWUFDQUcsYUFBQSxRQUNBRSxlQUFBLE1BTUFWLE1BQUEsa0JBRUFDLElBQUEsa0JBQ0FDLE9BQ0FlLHNCQUNBYixZQUFBLGdDQUNBQyxXQUFBLFlBQ0FHLGFBQUEsUUFDQUUsZUFBQSxNQUtBVixNQUFBLG9CQUNBQyxJQUFBLGtCQUNBQyxPQUNBUyxZQUNBUCxZQUFBLGlDQUNBQyxXQUFBLG1CQUNBRyxhQUFBLHNCQU9BZixJQUFBMkIsS0FBQSxhQUFBLE9BQUEsU0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBRixFQUFBRyxJQUFBLG9CQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsVUFBQUosRUFBQWpCLFlBQ0FhLEVBQUFTLGdCQUFBQyxLQUFBLFNBQUFDLFFBS0FaLEVBQUFHLElBQUEsb0JBQUEsU0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUssR0FDQVgsRUFBQVksR0FBQSxZQzlVQWhELFFBQUFDLE9BQUEsc0JBQUEsb0JBQ0FpQixXQUFBLGVBQUEsU0FBQSxRQUFBLGVBQUEsU0FBQSxVQUFBLFVBQUEsU0FBQStCLEVBQUFDLEVBQUFDLEVBQUFmLEVBQUFnQixFQUFBQyxHQUdBLEdBQ0FDLEdBQUFILEVBQUFHLFFBSUFDLE1BQUFDLGNBQUEsU0FBQVYsR0FDQSxHQUFBRyxFQUFBUSxLQUFBQyxLQUFBQyxRQUdBLEdBQUFiLEVBRUEsQ0FDQSxHQUFBYyxJQUNBQyxRQUFBZixFQUNBYSxRQUFBVixFQUFBUSxLQUFBQyxLQUFBQyxRQUNBTCxTQUFBQSxFQUdBRCxHQUFBRyxjQUFBSSxHQUFBZixLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUFnQixTQUNBMUIsRUFBQTJCLGVBVkFYLEdBQUFZLE1BQUEsbUJBSEFmLEdBQUFRLEtBQUFRLFNBd0dBaEIsRUFBQWlCLGNBQUEsU0FBQUMsR0FDQSxHQUFBQyxHQUFBRCxFQUFBRSxVQUNBbkIsR0FBQW9CLE9BQUEsZ0JBQUFGLEdBQUF2QixLQUFBLFNBQUFzQixHQUNBL0IsRUFBQTJCLGVDdEhBL0QsUUFBQUMsT0FBQSxPQUNBaUIsV0FBQSxpQkFBQSxTQUFBLFFBQUEsU0FBQStCLEVBQUFDLEdBa0JBLFFBQUFxQixHQUFBQyxHQUNBLEdBQUFDLEdBQUFELEVBQUFFLE1BQUEscUNBRUEsT0FBQSxLQUFBRCxFQUFBRSxPQUNBLEdBQUFDLE9BQUEseUJBR0FDLEtBQUFKLEVBQUEsR0FDQTNCLEtBQUEyQixFQUFBLElBekJBLEdBQUFuRSxHQUFBaUQsSUFDQWpELEdBQUF3RSxRQUFBLEdBQ0F4RSxFQUFBeUUsZUFBQSxFQUVBLElBQUFDLEdBQUEsU0FBQUMsR0FDQWhDLEVBQUFpQyxlQUFBLENBQ0EsSUFBQUMsR0FBQUYsRUFBQUcsY0FBQUMsTUFBQSxHQUNBQyxFQUFBLEdBQUFDLFdBQ0FELEdBQUFFLE9BQUEsU0FBQVAsR0FDQWhDLEVBQUF3QyxPQUFBLFNBQUF4QyxHQUNBM0MsRUFBQXdFLFFBQUFHLEVBQUFTLE9BQUFDLFVBR0FMLEVBQUFNLGNBQUFULEdBRUFuRixTQUFBNkYsUUFBQUMsU0FBQUMsY0FBQSxlQUFBQyxHQUFBLFNBQUFoQixHQWdCQTFFLEVBQUEyRixjQUFBLFNBQUFuRCxHQUNBLEdBQUEsS0FBQUEsRUFBQW9ELFdBQUEsT0FBQXBELEVBQUFvRCxlQUFBQyxLQUFBckQsRUFBQW9ELFVBQ0FFLFFBQUFDLElBQUEsb0JBQ0EsQ0FDQSxHQUFBQyxHQUFBL0IsRUFBQXRCLEVBQUE4QixlQUNBN0IsR0FBQXFELEtBQUEsZUFBQUQsR0FBQXpELEtBQUEsU0FBQUMsR0FDQUEsRUFBQUEsS0FBQWdCLFVBQ0FzQyxRQUFBQyxJQUFBdkQsRUFBQUEsS0FBQTBELFVBQ0F2RCxFQUFBaUMsZUFBQSxVQ3pDQWxGLFFBQUFDLE9BQUEsNEJBQ0FpQixXQUFBLGlCQUFBLFdBQ0FrRixRQUFBQyxJQUFBLFVDRkFyRyxRQUFBQyxPQUFBLE9BQ0F3RyxVQUFBLGFBQUEsU0FBQSxTQUFBQyxHQUNBLE9BQ0FDLFNBQUEsSUFDQUMsS0FBQSxTQUFBQyxFQUFBaEIsRUFBQWlCLEdBQ0EsR0FBQUMsR0FBQUwsRUFBQUksRUFBQUUsV0FDQUMsRUFBQUYsRUFBQUcsTUFFQXJCLEdBQUFzQixLQUFBLFNBQUEsV0FDQU4sRUFBQXBCLE9BQUEsV0FDQXdCLEVBQUFKLEVBQUFoQixFQUFBLEdBQUFSLE1BQUEsYUNWQXJGLFFBQUFDLE9BQUEsT0FDQXdHLFVBQUEsUUFBQSxXQUNBLE9BQ0FFLFNBQUEsSUFDQXpGLFlBQUEsU0FBQSxTQUFBK0IsR0FDQUEsRUFBQW1FLFVBQUEsU0FBQUMsR0FFQXBFLEVBQUFxRSxXQUFBLEVBQ0FELEVBQUFFLFFBQUEsU0FBQUMsR0FDQXZFLEVBQUF3RSxTQUFBRCxFQUNBdkUsRUFBQXFFLFdBQUEsRUFFQXJFLEVBQUFxRSxXQUFBLE9BTUFWLEtBQUEsU0FBQUMsRUFBQWhCLEVBQUFpQixHQUNBQSxFQUFBWSxTQUFBLFFBQUEsV0FDQWIsRUFBQXBDLFFBQUFrRCxLQUFBQyxNQUFBZCxFQUFBcEMsT0FDQW1DLEVBQUFPLFVBQUFQLEVBQUFwQyxXQUdBb0MsRUFBQWdCLE9BQUEsVUFBQSxXQUNBaEIsRUFBQXBDLFFBQUFrRCxLQUFBQyxNQUFBZCxFQUFBcEMsT0FDQW1DLEVBQUFPLFVBQUFQLEVBQUFwQyxlQzFCQXpFLFFBQUFDLE9BQUEscUJBQ0E2SCxRQUFBLFVBQUEsUUFBQSxTQUFBNUUsR0EyQ0EsTUExQ0E2RSxrQkFJQUEsY0FBQUMsY0FBQSxXQUNBLE1BQUE5RSxHQUFBK0UsSUFBQSxvQkFHQUYsY0FBQUcsWUFBQSxTQUFBQyxHQUNBLE1BQUFqRixHQUFBK0UsSUFBQSxtQkFBQUUsSUFHQUosY0FBQUssV0FBQSxTQUFBQyxHQUNBLE1BQUFuRixHQUFBK0UsSUFBQSxlQUFBSSxJQUtBTixjQUFBTyxjQUFBLFNBQUFoQyxHQUNBLE1BQUFwRCxHQUFBcUQsS0FBQSxlQUFBRCxJQUlBeUIsY0FBQVEsaUJBQUEsU0FBQUMsR0FDQSxNQUFBdEYsR0FBQXFELEtBQUEsc0JBQUFpQyxJQUlBVCxjQUFBVSxtQkFBQSxTQUFBQyxHQUNBLE1BQUF4RixHQUFBeUYsSUFBQSxzQkFBQUQsSUFJQVgsY0FBQWEsa0JBQUEsU0FBQVAsR0FDQSxNQUFBbkYsR0FBQStFLElBQUEsdUJBQUFJLElBSUFOLGNBQUFjLGVBQUEsU0FBQVIsR0FDQSxNQUFBbkYsR0FBQStFLElBQUEscUJBQUFJLElBR0FOLGlCQzVDQS9ILFFBQUFDLE9BQUEsbUJBRUE2SCxRQUFBLFFBQUEsUUFBQSxZQUFBLFNBQUE1RSxFQUFBNEYsR0FDQSxHQUFBQyxLQStCQSxPQTdCQUEsR0FBQUMsUUFBQSxXQUNBLEdBQUFGLEVBQUFHLFdBQ0EsTUFBQS9GLEdBQUFxRCxLQUFBLFVBRUEyQyxJQUFBQyxRQUFBQyxRQUFBLHVCQUtBTCxFQUFBOUUsTUFBQSxTQUFBb0YsR0FDQSxNQUFBbkcsR0FBQXFELEtBQUEsb0JBQUE4QyxHQUFBeEcsS0FBQSxTQUFBQyxHQUVBLE1BREFnRyxHQUFBUSxTQUFBeEcsRUFBQUEsS0FBQXlHLE9BQ0F6RyxLQUtBaUcsRUFBQVMsV0FBQSxXQUNBLFFBQUFWLEVBQUFHLFlBUUFGLEVBQUFVLE9BQUEsV0FDQVgsRUFBQVEsWUFFQVAsS0FHQWpCLFFBQUEsYUFBQSxVQUFBLFNBQUExRSxHQUNBLEdBQUFzRyxLQWVBLE9BWkFBLEdBQUFKLFNBQUEsU0FBQUMsR0FDQUEsRUFDQW5HLEVBQUF1RyxhQUFBQyxRQUFBLFFBQUFMLEdBRUFuRyxFQUFBdUcsYUFBQUUsV0FBQSxRQUFBTixJQUtBRyxFQUFBVCxTQUFBLFdBQ0EsTUFBQTdGLEdBQUF1RyxhQUFBRyxRQUFBLFVBRUFKLEtBR0E1QixRQUFBLG9CQUFBLFlBQUEsU0FBQWdCLEdBQ0EsR0FBQWlCLEtBU0EsT0FQQUEsR0FBQUMsUUFBQSxTQUFBOUosR0FDQSxHQUFBcUosR0FBQVQsRUFBQUcsVUFJQSxPQUZBTSxLQUFBckosRUFBQStKLFFBQUEsa0JBQUFWLEdBRUFySixHQUVBNkosS0NsRUEvSixRQUFBQyxPQUFBLG9CQUNBNkgsUUFBQSxTQUFBLFFBQUEsU0FBQTVFLEdBbUJBLE1BbEJBZ0gsaUJBRUFBLGFBQUFDLGFBQUEsV0FDQSxNQUFBakgsR0FBQStFLElBQUEsbUJBR0FpQyxhQUFBRSxXQUFBLFNBQUFDLEdBQ0EsTUFBQW5ILEdBQUErRSxJQUFBLGtCQUFBb0MsSUFHQUgsYUFBQUksVUFBQSxTQUFBQyxHQUNBLE1BQUFySCxHQUFBK0UsSUFBQSxhQUFBc0MsSUFHQUwsYUFBQU0sWUFBQSxTQUFBQyxHQUNBLE1BQUF2SCxHQUFBcUQsS0FBQSxpQkFBQWtFLElBR0FQLGdCQ3BCQWxLLFFBQUFDLE9BQUEsc0JBQ0E2SCxRQUFBLFdBQUEsUUFBQSxTQUFBNUUsR0FnQkEsTUFmQXdILG1CQUdBQSxlQUFBbEgsY0FBQSxTQUFBSSxHQUNBLE1BQUFWLEdBQUFxRCxLQUFBLGVBQUEzQyxJQUdBOEcsZUFBQUMsWUFBQSxTQUFBckgsR0FDQSxNQUFBSixHQUFBK0UsSUFBQSxnQkFBQTNFLElBR0FvSCxlQUFBRSxpQkFBQSxTQUFBTCxHQUNBLE1BQUFySCxHQUFBK0UsSUFBQSxxQkFBQXNDLElBR0FHLGtCQ2pCQTFLLFFBQUFDLE9BQUEsc0JBQ0E2SCxRQUFBLFdBQUEsUUFBQSxTQUFBNUUsR0F1QkEsTUF0QkEySCxtQkFHQUEsZUFBQUMsZUFBQSxXQUNBLE1BQUE1SCxHQUFBK0UsSUFBQSxxQkFJQTRDLGVBQUFFLFdBQUEsU0FBQUMsR0FDQSxNQUFBOUgsR0FBQStFLElBQUEsb0JBQUErQyxJQUlBSCxlQUFBSSxjQUFBLFNBQUEzSCxHQUNBLE1BQUFKLEdBQUErRSxJQUFBLGdCQUFBM0UsSUFHQXVILGVBQUFLLGNBQUEsU0FBQUYsR0FDQSxNQUFBOUgsR0FBQStFLElBQUEsb0JBQUErQyxJQUlBSCxrQkN4QkE3SyxRQUFBQyxPQUFBLG1CQUNBNkgsUUFBQSxRQUFBLFFBQUEsU0FBQTVFLEdBNkVBLE1BNUVBaUksZ0JBRUFBLFlBQUF2SSxjQUFBLFdBQ0EsTUFBQU0sR0FBQStFLElBQUEsb0JBR0FrRCxZQUFBQyxPQUFBLFNBQUFDLEdBQ0EsTUFBQW5JLEdBQUFxRCxLQUFBLGFBQUE4RSxJQUlBRixZQUFBRyxjQUFBLFNBQUEvQixHQUNBLE1BQUFyRyxHQUFBeUYsSUFBQSxpQkFBQVksSUFJQTRCLFlBQUFJLGlCQUFBLFNBQUFsQyxHQUNBLE1BQUFuRyxHQUFBcUQsS0FBQSxjQUFBOEMsSUFJQThCLFlBQUFLLFdBQUEsU0FBQUMsR0FDQSxNQUFBdkksR0FBQXlGLElBQUEsY0FBQThDLElBSUFOLFlBQUFPLGFBQUEsU0FBQUMsR0FDQSxNQUFBekksR0FBQStFLElBQUEsc0JBQUEwRCxJQUlBUixZQUFBUyxhQUFBLFNBQUFDLEdBQ0EsTUFBQTNJLEdBQUF5RixJQUFBLHFCQUFBa0QsSUFJQVYsWUFBQVcsY0FBQSxTQUFBdkMsR0FDQSxNQUFBckcsR0FBQStFLElBQUEsc0JBQUFzQixJQUtBNEIsWUFBQVksYUFBQSxTQUFBVixHQUNBLE1BQUFuSSxHQUFBeUYsSUFBQSxvQkFBQTBDLElBSUFGLFlBQUFhLGFBQUEsU0FBQVAsR0FDQSxNQUFBdkksR0FBQStFLElBQUEsbUJBQUF3RCxJQUlBTixZQUFBYyxnQkFBQSxTQUFBTixHQUNBLE1BQUF6SSxHQUFBeUYsSUFBQSxjQUFBZ0QsSUFJQVIsWUFBQWUsZ0JBQUEsU0FBQVQsR0FDQSxNQUFBdkksR0FBQStFLElBQUEsY0FBQXdELElBU0FOLFlBQUFnQixhQUFBLFNBQUFWLEdBQ0EsTUFBQXZJLEdBQUErRSxJQUFBLHFCQUFBd0QsSUFJQU4sWUFBQWlCLGVBQUEsU0FBQUMsR0FDQSxNQUFBbkosR0FBQXlGLElBQUEsb0JBQUEwRCxJQUdBbEIsZUM5RUFuTCxRQUFBQyxPQUFBLHFCQUFBLGVBQUEsbUJBRUFpQixXQUFBLGlCQUFBLFNBQUEsU0FBQSxTQUFBK0IsRUFBQXFKLEdBRUFBLEVBQUF0RSxnQkFBQW5GLEtBQUEsU0FBQUMsR0FDQUEsRUFBQUEsS0FBQWdCLFFBQ0FiLEVBQUFnSCxRQUFBbkgsRUFBQUEsS0FBQTZDLE9BRUFyRixJQUFBaU0sU0FBQXpKLEVBQUFBLEtBQUFzRyxhQUtBbEksV0FBQSxlQUFBLGVBQUEsU0FBQSxTQUFBaUMsRUFBQW1KLEdBQ0EsR0FBQWhNLEdBQUFpRCxLQUNBNEUsRUFBQWhGLEVBQUFxSixJQUVBbE0sR0FBQXdDLE1BQ0EySixtQkFDQUMsS0FBQSxXQUFBQyxLQUFBLFFBRUFDLGdCQUFBRixLQUFBLFdBQUFDLEtBQUEsUUFHQUwsRUFBQXBFLFlBQUFDLEdBQUF0RixLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUFnQixRQUNBeEQsRUFBQXVNLFlBQUEvSixFQUFBQSxLQUFBNkMsT0FFQXJGLEVBQUFpTSxTQUFBekosRUFBQUEsS0FBQXNHLGFBS0FsSSxXQUFBLG1CQUFBLFFBQUEsV0FBQSxTQUFBLFNBQUEsU0FBQSxVQUFBLFNBQUFnQyxFQUFBNEosRUFBQTdKLEVBQUFxSixFQUFBbEssRUFBQWdCLEdBMEVBLFFBQUFtQixHQUFBQyxHQUNBLEdBQUFDLEdBQUFELEVBQUFFLE1BQUEscUNBRUEsT0FBQSxLQUFBRCxFQUFBRSxPQUNBLEdBQUFDLE9BQUEseUJBR0FDLEtBQUFKLEVBQUEsR0FDQTNCLEtBQUEyQixFQUFBLElBakZBLEdBQUFuRSxHQUFBaUQsSUFDQWpELEdBQUF3QyxNQUNBMkosbUJBQ0FySSxHQUFBLElBQUF1SSxLQUFBLGtCQUNBdkksR0FBQSxJQUFBdUksS0FBQSxTQUNBdkksR0FBQSxJQUFBdUksS0FBQSxTQUNBdkksR0FBQSxJQUFBdUksS0FBQSxRQUVBQyxnQkFBQXhJLEdBQUEsSUFBQXVJLEtBQUEsa0JBSUFwSixLQUFBNEIsUUFFQTVCLEtBQUF3SixpQkFBQSxTQUFBMUgsR0FDQSxHQUFBQSxFQUFBVixPQUFBLEdBQUFVLEVBQUEsR0FBQXNILEtBQUFqSSxNQUFBLHFCQUFBLENBQ0EsR0FBQVMsR0FBQUUsRUFBQSxHQUNBMkgsRUFBQSxHQUFBekgsV0FDQXlILEdBQUFwSCxjQUFBVCxHQUNBNkgsRUFBQXhILE9BQUEsU0FBQXlILEdBQ0FILEVBQUEsV0FDQXhNLEVBQUE0TSxpQkFDQTVNLEVBQUE0TSxjQUFBQyxRQUFBRixFQUFBdkgsT0FBQUMsY0FJQXJGLEdBQUE0TSxrQkFJQTNKLEtBQUE2SixVQUFBLFdBRUE5TSxFQUFBK00sV0FBQSxFQUNBL00sRUFBQWdOLFVBQUEsRUFDQXJLLEVBQUFzSyxNQUFBLE9BQ0EsSUFBQUMsR0FBQSxHQUFBQyxTQUNBRCxHQUFBRSxPQUFBLFNBQUFwTixFQUFBNkUsS0FBQXdJLFFBQ0F6SyxFQUFBcUQsS0FBQSxtQkFBQWlILEdBQ0FJLGlCQUFBNU4sUUFBQTZOLFNBQ0E1RCxTQUFBNkQsbUJBQUEzSCxNQUNBdEQsS0FBQSxTQUFBQyxHQUNBQSxFQUFBQSxLQUFBZ0IsU0FDQWIsRUFBQXNLLE1BQUEsVUFDQW5LLEVBQUFZLE1BQUFsQixFQUFBQSxLQUFBc0csU0FDQTlJLEVBQUErTSxXQUFBLEVBQ0EvTSxFQUFBZ04sVUFBQSxFQUNBaE4sRUFBQXlOLGNBQUFqTCxFQUFBQSxLQUFBa0wsV0FDQTFOLEVBQUE2RSxVQUVBbEMsRUFBQXNLLE1BQUEsVUFDQW5LLEVBQUFZLE1BQUFsQixFQUFBQSxLQUFBc0csU0FDQTlJLEVBQUFnTixVQUFBLEVBQ0FoTixFQUFBNkUsWUFNQTdFLEVBQUF3RSxRQUFBLEdBQ0F4RSxFQUFBeUUsZUFBQSxFQUVBLElBQUFDLEdBQUEsU0FBQUMsR0FDQSxHQUFBRSxHQUFBRixFQUFBRyxjQUFBQyxNQUFBLEdBQ0FDLEVBQUEsR0FBQUMsV0FDQUQsR0FBQUUsT0FBQSxTQUFBUCxHQUNBaEMsRUFBQXdDLE9BQUEsU0FBQXhDLEdBQ0EzQyxFQUFBd0UsUUFBQUcsRUFBQVMsT0FBQUMsVUFHQUwsRUFBQU0sY0FBQVQsR0FFQW5GLFNBQUE2RixRQUFBQyxTQUFBQyxjQUFBLGVBQUFDLEdBQUEsU0FBQWhCLEdBaUJBMUUsRUFBQTJGLGNBQUEsU0FBQW5ELEdBSUEsR0FIQXhDLEVBQUEyTixXQUFBLEVBQ0EzTixFQUFBZ04sVUFBQSxFQUNBckssRUFBQXNLLE1BQUEsUUFDQSxLQUFBekssRUFBQW9ELFdBQUEsT0FBQXBELEVBQUFvRCxlQUFBQyxLQUFBckQsRUFBQW9ELFVBQ0E1RixFQUFBZ04sVUFBQSxNQUVBLElBQUFoTixFQUFBeU4sY0FJQSxDQUNBLEdBQUF6SCxHQUFBL0IsRUFBQXRCLEVBQUE4QixlQUNBdUgsR0FBQWhFLGNBQUFoQyxHQUFBekQsS0FBQSxTQUFBQyxHQUNBQSxFQUFBQSxLQUFBZ0IsU0FDQWIsRUFBQXNLLE1BQUEsVUFDQW5LLEVBQUFZLE1BQUFsQixFQUFBQSxLQUFBc0csU0FDQTlJLEVBQUEyTixXQUFBLEVBQ0EzTixFQUFBZ04sVUFBQSxFQUNBaE4sRUFBQTROLGNBQUFwTCxFQUFBQSxLQUFBMEQsVUFFQWxHLEVBQUFnTixVQUFBLFFBYkFySyxHQUFBc0ssTUFBQSxVQUNBbkssRUFBQVksTUFBQSx3QkFDQTFELEVBQUFnTixVQUFBLEdBbUJBL0osS0FBQTRLLFlBQUEsU0FBQUMsR0FDQTlOLEVBQUFnTixVQUFBLEVBQ0FoTixFQUFBaU0sVUFBQSxFQUNBNkIsTUFLQWpJLEtBQUE3RixFQUFBOE4sV0FBQUMsT0FBQSxPQUFBL04sRUFBQThOLFdBQUFDLE9BQUEsS0FBQS9OLEVBQUE4TixXQUFBQyxNQUNBL04sRUFBQWlNLFNBQUEsa0JBQ0EsZ0JBQUErQixFQUFBLGVBQUFDLFdBQUEsU0FBQSxPQUFBRCxFQUFBLGVBQUFDLFdBQUEsYUFBQXBJLEtBQUFtSSxFQUFBLGVBQUFDLFdBQUEsU0FBQSxLQUFBRCxFQUFBLGVBQUFDLFdBQUEsUUFDQWpPLEVBQUFpTSxTQUFBLHNCQUNBcEcsS0FBQTdGLEVBQUF5TixlQUFBLE9BQUF6TixFQUFBeU4sZUFBQSxLQUFBek4sRUFBQXlOLGNBQ0F6TixFQUFBaU0sU0FBQSxrQkFDQSxNQUFBak0sRUFBQXdDLEtBQUE4SixlQUFBeEksR0FDQTlELEVBQUFpTSxTQUFBLHNCQUNBcEcsS0FBQTdGLEVBQUE0TixlQUFBLE9BQUE1TixFQUFBNE4sZUFBQSxLQUFBNU4sRUFBQTROLGNBQ0E1TixFQUFBaU0sU0FBQSxvQkFFQWpNLEVBQUE4TixZQUNBQyxNQUFBRCxFQUFBQyxNQUNBRyxPQUFBRixFQUFBLGVBQUFDLFdBQUEsUUFDQTVLLFFBQUFWLEVBQUFRLEtBQUFDLEtBQUFDLFFBQ0FxSCxXQUFBMUssRUFBQXdDLEtBQUE4SixlQUFBeEksR0FDQTRKLFdBQUExTixFQUFBeU4sY0FDQVUsZ0JBQUFuTyxFQUFBNE4sZUFFQTVCLEVBQUEvRCxpQkFBQWpJLEVBQUE4TixZQUFBdkwsS0FBQSxTQUFBQyxHQUNBQSxFQUFBQSxLQUFBZ0IsU0FDQXhELEVBQUFvTyxXQUFBNUwsRUFBQUEsS0FBQXNHLFFBQ0E5SSxFQUFBZ04sVUFBQSxFQUNBUixFQUFBLFdBQ0ExSyxFQUFBMkIsVUFDQSxPQUVBekQsRUFBQWlNLFNBQUF6SixFQUFBQSxLQUFBc0csUUFDQTlJLEVBQUFvTyxZQUFBLEVBQ0FwTyxFQUFBZ04sVUFBQSxPQWpDQWhOLEVBQUFpTSxTQUFBLGlCQUNBak0sRUFBQWdOLFVBQUEsRUFDQWhOLEVBQUFvTyxZQUFBLElBc0NBSixFQUFBeEksVUFBQTZJLE1BQUEsV0FDQUwsRUFBQSxlQUFBQyxZQUNBSyxVQUNBLFNBQUEsT0FBQSxTQUFBLFlBQUEsV0FDQSxRQUFBLGdCQUFBLGNBQUEsZUFDQSxZQUFBLGNBQ0EsU0FBQSxXQUNBLFFBQUEsS0FBQSxLQUFBLGVBQ0EsVUFBQSxZQUVBQyxPQUFBLElBQ0FDLEtBQUEsUUFDQUMsWUFBQSx5QkFNQTdOLFdBQUEscUJBQUEsV0FBQSxTQUFBLFNBQUEsU0FBQSxTQUFBNEwsRUFBQVIsRUFBQWxLLEVBQUFhLEdBRUEsR0FBQTNDLEdBQUFpRCxLQUNBSSxFQUFBVixFQUFBUSxLQUFBQyxLQUFBQyxPQUVBckQsR0FBQXdDLE1BQ0EySixtQkFDQXJJLEdBQUEsSUFBQXVJLEtBQUEsa0JBQ0F2SSxHQUFBLElBQUF1SSxLQUFBLFNBQ0F2SSxHQUFBLElBQUF1SSxLQUFBLFNBQ0F2SSxHQUFBLElBQUF1SSxLQUFBLFFBRUFDLGdCQUFBeEksR0FBQSxJQUFBdUksS0FBQSxrQkFJQUwsRUFBQTFELGtCQUFBakYsR0FBQWQsS0FBQSxTQUFBQyxHQUNBQSxFQUFBQSxLQUFBZ0IsUUFDQXhELEVBQUFvSSxXQUFBNUYsRUFBQUEsS0FBQTZDLE9BRUFyRixFQUFBaU0sU0FBQXpKLEVBQUFBLEtBQUFzRyxVQU1BN0YsS0FBQWtGLG1CQUFBLFNBQUFDLEdBQ0F0QyxRQUFBQyxJQUFBLFFBQ0EvRixFQUFBaU0sVUFBQSxFQUNBN0QsTUFHQXZDLEtBQUE3RixFQUFBb0ksV0FBQXNHLFlBQUEsT0FBQTFPLEVBQUFvSSxXQUFBc0csWUFBQSxLQUFBMU8sRUFBQW9JLFdBQUFzRyxXQUNBMU8sRUFBQWlNLFNBQUEsc0JBQ0FwRyxLQUFBN0YsRUFBQW9JLFdBQUF1RyxhQUFBLE9BQUEzTyxFQUFBb0ksV0FBQXVHLGFBQUEsS0FBQTNPLEVBQUFvSSxXQUFBdUcsWUFDQTNPLEVBQUFpTSxTQUFBLGtCQUVBak0sRUFBQW9JLFdBQUFBLEVBQ0FwSSxFQUFBb0ksV0FBQS9FLFFBQUFWLEVBQUFRLEtBQUFDLEtBQUFDLFFBR0EySSxFQUFBN0QsbUJBQUFuSSxFQUFBb0ksWUFBQTdGLEtBQUEsU0FBQUMsR0FDQUEsRUFBQUEsS0FBQWdCLFNBQ0F4RCxFQUFBaU0sVUFBQSxFQUNBak0sRUFBQW9PLFdBQUE1TCxFQUFBQSxLQUFBc0csUUFDQTlJLEVBQUFnTixVQUFBLEVBQ0FSLEVBQUEsV0FDQTFLLEVBQUEyQixVQUNBLE1BRUF6RCxFQUFBaU0sU0FBQSx5QkFwQkFqTSxFQUFBaU0sU0FBQSxzQkFnQ0FyTCxXQUFBLHFCQUFBLFNBQUEsZUFBQSxTQUFBLFNBQUFvTCxFQUFBbkosRUFBQUYsR0FDQSxHQUFBM0MsR0FBQWlELEtBQ0FJLEVBQUFWLEVBQUFRLEtBQUFDLEtBQUFDLE9BRUEySSxHQUFBMUQsa0JBQUFqRixHQUFBZCxLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUFnQixRQUNBeEQsRUFBQW9JLFdBQUE1RixFQUFBQSxLQUFBNkMsT0FFQXJGLEVBQUFpTSxTQUFBekosRUFBQUEsS0FBQXNHLFVBSUFrRCxFQUFBekQsZUFBQWxGLEdBQUFkLEtBQUEsU0FBQUMsR0FDQUEsRUFBQUEsS0FBQWdCLFFBQ0F4RCxFQUFBNE8sYUFBQXBNLEVBQUFBLEtBQUE2QyxPQUVBckYsRUFBQWlNLFNBQUF6SixFQUFBQSxLQUFBc0csYUFPQWxJLFdBQUEsbUJBQUEsU0FBQSxlQUFBLFNBQUFvTCxFQUFBbkosR0FDQSxHQUFBN0MsR0FBQWlELEtBQ0E4RSxFQUFBbEYsRUFBQWtGLFNBRUFpRSxHQUFBMUQsa0JBQUFQLEdBQUF4RixLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUFnQixRQUNBeEQsRUFBQW9JLFdBQUE1RixFQUFBQSxLQUFBNkMsT0FFQXJGLEVBQUFpTSxTQUFBekosRUFBQUEsS0FBQXNHLFVBSUFrRCxFQUFBekQsZUFBQVIsR0FBQXhGLEtBQUEsU0FBQUMsR0FDQUEsRUFBQUEsS0FBQWdCLFFBQ0F4RCxFQUFBNE8sYUFBQXBNLEVBQUFBLEtBQUE2QyxPQUVBckYsRUFBQWlNLFNBQUF6SixFQUFBQSxLQUFBc0csYUMxVEFwSixRQUFBQyxPQUFBLG9CQUFBLGtCQUNBa1AsT0FBQSxjQUFBLE9BQUEsU0FBQUMsR0FDQSxNQUFBLFVBQUFDLEdBQ0EsTUFBQUQsR0FBQUUsWUFBQUQsT0FJQW5PLFdBQUEsZ0JBQUEsUUFBQSxTQUFBLFNBQUFxTyxFQUFBdE0sR0FFQXNNLEVBQUFwRixlQUFBdEgsS0FBQSxTQUFBQyxHQUNBRyxFQUFBZ0gsUUFBQW5ILEVBQUFBLFVBSUE1QixXQUFBLGNBQUEsZUFBQSxRQUFBLFNBQUEsU0FBQSxTQUFBaUMsRUFBQW9NLEVBQUF0TSxFQUFBYixHQUNBLEdBQUE5QixHQUFBaUQsS0FDQThHLEVBQUFsSCxFQUFBcUosSUFFQWxNLEdBQUF3QyxNQUNBMkosbUJBQ0FDLEtBQUEsV0FBQUMsS0FBQSxRQUNBRCxLQUFBLFFBQUFDLEtBQUEsUUFDQUQsS0FBQSxpQkFBQUMsS0FBQSxRQUVBQyxnQkFBQUYsS0FBQSxXQUFBQyxLQUFBLFFBR0E0QyxFQUFBbkYsV0FBQUMsR0FBQXhILEtBQUEsU0FBQUMsR0FDQXhDLEVBQUFrUCxXQUFBMU0sRUFBQUEsS0FBQTZDLFNBR0FwQyxLQUFBaUgsWUFBQSxTQUFBMUgsR0FDQUcsRUFBQVEsS0FBQUMsS0FBQUMsUUFHQXZCLEVBQUFZLEdBQUEsb0JBRkFDLEVBQUFRLEtBQUFRLFlBU0EvQyxXQUFBLGFBQUEsZUFBQSxRQUFBLFNBQUEsUUFBQSxTQUFBLFdBQUEsVUFBQSxVQUFBLFNBQUFpQyxFQUFBb00sRUFBQXRNLEVBQUFDLEVBQUFkLEVBQUEwSyxFQUFBekosRUFBQUQsR0FFQSxHQUFBOUMsR0FBQWlELEtBQ0FnSCxFQUFBcEgsRUFBQW9ILFFBRUFqSyxHQUFBd0MsTUFDQTJKLG1CQUNBckksR0FBQSxJQUFBdUksS0FBQSxrQkFDQXZJLEdBQUEsSUFBQXVJLEtBQUEsU0FDQXZJLEdBQUEsSUFBQXVJLEtBQUEsU0FDQXZJLEdBQUEsSUFBQXVJLEtBQUEsU0FFQUMsZ0JBQUF4SSxHQUFBLElBQUF1SSxLQUFBLGtCQUdBdEosRUFBQXVILGlCQUFBTCxHQUFBMUgsS0FBQSxTQUFBQyxHQUNBQSxFQUFBQSxLQUFBZ0IsUUFDQXhELEVBQUFzRCxZQUFBZCxFQUFBQSxLQUFBNkMsT0FFQXJGLEVBQUFpTSxTQUFBekosRUFBQUEsS0FBQXNHLFVBSUE3RixLQUFBQyxjQUFBLFNBQUFWLEdBQ0EsR0FBQUcsRUFBQVEsS0FBQUMsS0FBQUMsUUFHQSxHQUFBYixFQUVBLENBQ0EsR0FBQWMsSUFDQUMsUUFBQWYsRUFDQWEsUUFBQVYsRUFBQVEsS0FBQUMsS0FBQUMsUUFDQTRHLFNBQUFBLEVBR0FsSCxHQUFBRyxjQUFBSSxHQUFBZixLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUFnQixTQUNBMUIsRUFBQTJCLGVBVkFYLEdBQUFZLE1BQUEsbUJBSEFmLEdBQUFRLEtBQUFRLFNBd0JBcUssRUFBQXhJLFVBQUE2SSxNQUFBLFdBQ0FMLEVBQUEsZUFBQUMsWUFDQU0sT0FBQSxJQUNBQyxLQUFBLFFBQ0FDLFlBQUEsNERBS0F4TCxLQUFBaUgsWUFBQSxTQUFBckcsR0FHQSxHQUZBN0QsRUFBQWdOLFVBQUEsRUFDQWhOLEVBQUFpTSxVQUFBLEVBQ0EsTUFBQWpNLEVBQUF3QyxLQUFBOEosZUFBQXhJLEdBQ0E5RCxFQUFBaU0sU0FBQSxrQkFDQWpNLEVBQUFnTixVQUFBLE1BQ0EsUUFBQW5ILEtBQUFoQyxHQUFBLE9BQUFBLEdBQUEsS0FBQUEsRUFDQTdELEVBQUFpTSxTQUFBLGNBQ0FqTSxFQUFBZ04sVUFBQSxNQUNBLElBQUEsZ0JBQUFnQixFQUFBLGVBQUFDLFdBQUEsU0FBQSxPQUFBRCxFQUFBLGVBQUFDLFdBQUEsYUFBQXBJLEtBQUFtSSxFQUFBLGVBQUFDLFdBQUEsU0FBQSxLQUFBRCxFQUFBLGVBQUFDLFdBQUEsUUFDQWpPLEVBQUFpTSxTQUFBLGNBQ0FqTSxFQUFBZ04sVUFBQSxNQUNBLENBQ0EsR0FBQW5NLEdBQUFtTixFQUFBLGVBQUFDLFdBQUEsUUFDQWxFLEVBQUEvSixFQUFBd0MsS0FBQThKLGVBQUF4SSxHQUNBaUssRUFBQWxLLEVBQUFrSyxNQUNBNUQsR0FDQTRELE1BQUFBLEVBQ0FsTixRQUFBQSxFQUNBa0osV0FBQUEsRUFDQTFHLFFBQUFWLEVBQUFRLEtBQUFDLEtBQUFDLFFBRUE0TCxHQUFBL0UsWUFBQUMsR0FBQTVILEtBQUEsU0FBQUMsR0FDQUEsRUFBQUEsS0FBQWdCLFNBQ0F4RCxFQUFBb08sV0FBQTVMLEVBQUFBLEtBQUFzRyxRQUNBMEQsRUFBQSxXQUNBMUssRUFBQVksR0FBQSxjQUNBLE9BRUExQyxFQUFBZ04sVUFBQSxFQUNBaE4sRUFBQWlNLFNBQUF6SixFQUFBQSxLQUFBc0csYUFRQW1HLEVBQUFqRixVQUFBQyxHQUFBMUgsS0FBQSxTQUFBQyxHQUVBQSxFQUFBQSxLQUFBZ0IsU0FDQXhELEVBQUFrUCxXQUFBMU0sRUFBQUEsS0FBQTZDLE9BQ0FyRixFQUFBbVAsWUFBQTNNLEVBQUFBLEtBQUE2QyxPQUFBeEUsU0FFQWIsRUFBQWlNLFNBQUF6SixFQUFBQSxLQUFBc0csYUNoSkFwSixRQUFBQyxPQUFBLHNCQUFBLG9CQUNBa1AsT0FBQSxjQUFBLE9BQUEsU0FBQUMsR0FDQSxNQUFBLFVBQUFDLEdBQ0EsTUFBQUQsR0FBQUUsWUFBQUQsT0FJQW5PLFdBQUEsa0JBQUEsU0FBQSxVQUFBLFNBQUErQixFQUFBeU0sR0FFQUEsRUFBQTVFLGlCQUFBakksS0FBQSxTQUFBQyxHQUNBQSxFQUFBQSxLQUFBZ0IsUUFDQWIsRUFBQWdILFFBQUFuSCxFQUFBQSxLQUFBNkMsT0FFQXJGLElBQUFpTSxTQUFBekosRUFBQUEsS0FBQXNHLGFBS0FsSSxXQUFBLHFCQUFBLFVBQUEsZUFBQSxTQUFBd08sRUFBQXZNLEdBQ0EsR0FBQTdDLEdBQUFpRCxLQUNBeUgsRUFBQTdILEVBQUFxSixJQUNBbE0sR0FBQXdDLE1BQ0EySixtQkFDQUMsS0FBQSxXQUFBQyxLQUFBLFFBQ0FELEtBQUEsUUFBQUMsS0FBQSxRQUNBRCxLQUFBLGlCQUFBQyxLQUFBLFFBRUFDLGdCQUFBRixLQUFBLFdBQUFDLEtBQUEsUUFHQStDLEVBQUEzRSxXQUFBQyxHQUFBbkksS0FBQSxTQUFBQyxHQUNBQSxFQUFBQSxLQUFBZ0IsU0FDQXhELEVBQUFrSSxVQUFBMUYsRUFBQUEsS0FBQTZDLE9BQ0FTLFFBQUFDLElBQUEvRixFQUFBa0ksWUFFQWxJLEVBQUFpTSxTQUFBekosRUFBQUEsS0FBQXNHLGFBS0FsSSxXQUFBLG9CQUFBLGVBQUEsVUFBQSxVQUFBLFNBQUEsVUFBQSxTQUFBLFNBQUFpQyxFQUFBdU0sRUFBQXJNLEVBQUFKLEVBQUFHLEVBQUFoQixHQUVBLEdBQUE5QixHQUFBaUQsS0FDQUQsRUFBQUgsRUFBQUcsU0FDQTBILEVBQUE3SCxFQUFBNkgsVUFDQS9ILEdBQUFRLEtBQUFDLEtBQUFDLE9BRUErTCxHQUFBekUsY0FBQTNILEdBQUFULEtBQUEsU0FBQUMsR0FDQUEsRUFBQUEsS0FBQWdCLFNBQ0F4RCxFQUFBa0ksVUFBQTFGLEVBQUFBLEtBQUE2QyxPQUNBckYsRUFBQW1QLFlBQUEzTSxFQUFBQSxLQUFBNkMsT0FBQWdLLGFBQ0F2SixRQUFBQyxJQUFBL0YsRUFBQW1QLGNBRUFuUCxFQUFBaU0sU0FBQXpKLEVBQUFBLEtBQUFzRyxVQUlBc0csRUFBQTNFLFdBQUFDLEdBQUFuSSxLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUFnQixRQUNBeEQsRUFBQXNQLFdBQUE5TSxFQUFBQSxLQUFBNkMsT0FFQXJGLEVBQUFpTSxTQUFBekosRUFBQUEsS0FBQXNHLFVBSUEvRixFQUFBc0gsWUFBQXJILEdBQUFULEtBQUEsU0FBQUMsR0FDQUEsRUFBQUEsS0FBQWdCLFFBQ0F4RCxFQUFBc0QsWUFBQWQsRUFBQUEsS0FBQTZDLE9BRUFyRixFQUFBaU0sU0FBQXpKLEVBQUFBLEtBQUFzRyxVQUlBN0YsS0FBQUMsY0FBQSxTQUFBVixHQUNBLEdBQUFHLEVBQUFRLEtBQUFDLEtBQUFDLFFBR0EsR0FBQWIsRUFFQSxDQUNBLEdBQUFjLElBQ0FDLFFBQUFmLEVBQ0FhLFFBQUFWLEVBQUFRLEtBQUFDLEtBQUFDLFFBQ0FMLFNBQUFBLEVBR0FELEdBQUFHLGNBQUFJLEdBQUFmLEtBQUEsU0FBQUMsR0FDQUEsRUFBQUEsS0FBQWdCLFNBQ0ExQixFQUFBMkIsZUFWQVgsR0FBQVksTUFBQSxtQkFIQWYsR0FBQVEsS0FBQVEsWUMzRUFqRSxRQUFBQyxPQUFBLE9BQ0FpQixXQUFBLFlBQUEsUUFBQSxTQUFBLFNBQUFnQyxFQUFBRCxHQUVBQSxFQUFBNE0sV0FBQSxXQUNBM00sRUFBQStFLElBQUEsYUFBQXBGLEtBQUEsU0FBQXNCLEdBQ0FsQixFQUFBNk0sT0FBQTNMLEVBQUFyQixXQ0xBOUMsUUFBQUMsT0FBQSxtQkFBQSxlQUFBLGlCQUNBaUIsV0FBQSxZQUFBLE9BQUEsV0FBQSxZQUFBLFNBQUEsYUFBQSxTQUFBLFVBQUEsWUFBQSxPQUFBLFlBQUEsU0FBQTZPLEVBQUFqRCxFQUFBa0QsRUFBQTVOLEVBQUFGLEVBQUFlLEVBQUFHLEVBQUE2TSxFQUFBOU4sRUFBQTJHLEdBQ0EsR0FBQXhJLEdBQUFpRCxJQUVBakQsR0FBQTRQLFFBQUEsRUFFQWpOLEVBQUFaLElBQUEsT0FBQSxXQUNBWSxFQUFBa04sU0FBQSxJQUdBbE4sRUFBQVosSUFBQSxTQUFBLFdBQ0FZLEVBQUFrTixTQUFBLElBR0FqTyxFQUFBRyxJQUFBLG9CQUFBLFdBQ0ErTixFQUdBTCxFQUFBdkcsY0FDQWxKLEVBQUFrSixZQUFBLEVBQ0FsSixFQUFBNFAsUUFBQSxFQUNBSCxFQUFBL0csVUFBQW5HLEtBQUEsU0FBQUMsR0FDQXhDLEVBQUFvRCxLQUFBWixFQUFBQSxLQUNBeEMsRUFBQTRQLFFBQUEsRUFDQS9OLEVBQUFTLGdCQUFBQyxLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUFnQixRQUNBLFVBQUFoQixFQUFBQSxLQUFBeEIsWUFDQWhCLEVBQUErUCxZQUFBLEVBQ0EvUCxFQUFBNFAsUUFBQSxHQUNBLFdBQUFwTixFQUFBQSxLQUFBeEIsWUFDQWhCLEVBQUFnQixZQUFBLEVBQ0FoQixFQUFBNFAsUUFBQSxJQUVBNVAsRUFBQWdCLFlBQUEsRUFDQWhCLEVBQUErUCxZQUFBLEVBQ0EvUCxFQUFBNFAsUUFBQSxJQUdBNVAsRUFBQWdCLFlBQUEsRUFDQWhCLEVBQUErUCxZQUFBLEVBQ0EvUCxFQUFBNFAsUUFBQSxTQUtBNVAsRUFBQW9ELE1BQUEsRUFDQXBELEVBQUFrSixZQUFBLEVBQ0FsSixFQUFBNFAsUUFBQSxHQS9CQUUsS0FvQ0EsSUFBQUEsR0FBQSxXQUNBLEdBQUFMLEVBQUF2RyxhQUFBLENBQ0FsSixFQUFBOFAsY0FBQSxDQUNBLElBQUFFLEdBQUFMLEVBQUEsV0FDQSxHQUFBMUcsR0FBQW5HLEVBQUF1RyxhQUFBRyxRQUFBLFFBQ0EsSUFBQSxPQUFBUCxFQUNBMEcsRUFBQU0sT0FBQUQsT0FDQSxDQUNBRSxLQUFBQyxTQUFBLFNBQUFsSCxHQUNBLEdBQUFyRCxHQUFBcUQsRUFBQW1ILE1BQUEsS0FBQSxHQUNBQyxFQUFBekssRUFBQTBLLFFBQUEsSUFBQSxLQUFBQSxRQUFBLElBQUEsSUFDQSxPQUFBakosTUFBQUMsTUFBQXhFLEVBQUF5TixLQUFBRixJQUVBLElBQUFHLEdBQUFOLEtBQUFDLFNBQUFsSCxHQUNBd0gsRUFBQUMsS0FBQUMsTUFBQUMsS0FBQUMsTUFBQSxJQUNBTCxHQUFBTSxJQUFBTCxHQUVBLElBQ0FNLEVBQUEsV0FDQXBCLEVBQUFNLE9BQUFELE1BSUEsTUFJQUYsS0FHQTlQLEVBQUEwTCxhQUFBLFdBQ0ExTCxFQUFBZ1IsWUFBQSxFQUNBblAsRUFBQTZKLGFBQUExTCxFQUFBb0QsS0FBQStILFVBQUE1SSxLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUFnQixTQUNBZ0YsRUFBQVEsU0FBQXhHLEVBQUFBLEtBQUF5RyxPQUNBNkcsSUFDQW1CLEVBQUEsYUFFQWpSLEVBQUFrUixVQUFBMU8sRUFBQUEsS0FBQXNHLFFBQ0FtSSxFQUFBLGVBS0FqUixFQUFBbVIsV0FBQSxXQUNBblIsRUFBQWdSLFlBQUEsRUFDQUMsRUFBQSxXQUNBekUsRUFBQSxXQUNBdUUsRUFBQSxXQUNBLEtBSUEsSUFBQUEsR0FBQSxTQUFBSyxHQUNBcFIsRUFBQWdSLFlBQUEsRUFDQWhSLEVBQUFxUixnQkFBQXhMLEdBQ0E3RixFQUFBc1IsY0FBQXpMLEdBQ0E3RixFQUFBdVIsWUFBQSxFQUVBLFlBQUFILEdBQ0FwUixFQUFBcVIsWUFBQSxrQkFDQXJSLEVBQUFzUixVQUFBLGdGQUNBdEQsRUFBQSxZQUFBd0QsT0FBQUMsU0FBQSxZQUNBLFdBQUFMLEdBRUFwUixFQUFBdVIsWUFBQSxFQUNBdlIsRUFBQXFSLFlBQUEsT0FDQXJELEVBQUEsWUFBQXdELE9BQUFDLFNBQUEsV0FDQWpGLEVBQUEsV0FDQWlELEVBQUF0RyxTQUNBbkosRUFBQWtKLFlBQUEsRUFDQStILEVBQUEsVUFDQW5QLEVBQUEyQixVQUNBLE1BQ0EsVUFBQTJOLEVBRUFwRCxFQUFBLFVBQUF3RCxPQUFBQyxTQUFBLFdBQ0EsV0FBQUwsR0FFQXBELEVBQUEsV0FBQXdELE9BQUFDLFNBQUEsV0FFQWpGLEVBQUEsV0FDQXhNLEVBQUFnUixZQUNBQyxFQUFBLFdBRUEsTUFJQUEsRUFBQSxTQUFBRyxHQUVBLFlBQUFBLEVBQ0FwRCxFQUFBLFlBQUF3RCxNQUFBLFFBQ0EsV0FBQUosRUFDQXBELEVBQUEsWUFBQXdELE1BQUEsUUFDQSxVQUFBSixFQUNBcEQsRUFBQSxVQUFBd0QsTUFBQSxRQUNBLFdBQUFKLEdBQ0FwRCxFQUFBLFdBQUF3RCxNQUFBLFFBTUF2TyxNQUFBeU8sUUFBQSxTQUFBM0ksRUFBQTRJLEdBQ0EzUixFQUFBaU0sVUFBQSxFQUNBak0sRUFBQTRSLFNBQUEsRUFDQTVSLEVBQUFnTixVQUFBLEVBRUEyRSxFQUNBbEMsRUFBQTlMLE1BQUEzRCxFQUFBK0ksV0FBQXhHLEtBQUEsU0FBQUMsR0FDQUEsRUFBQUEsS0FBQWdCLFNBQ0F4RCxFQUFBZ04sVUFBQSxFQUNBaE4sRUFBQW9PLFdBQUE1TCxFQUFBQSxLQUFBc0csUUFDQTBELEVBQUEsV0FDQXlFLEVBQUEsU0FDQWpSLEVBQUErSSxVQUFBLEtBQ0EvSSxFQUFBa0osWUFBQSxFQUNBNEcsSUFDQWhPLEVBQUEyQixVQUNBLE1BRUFqQixFQUFBQSxLQUFBb1AsU0FDQTVSLEVBQUE0UixTQUFBLEVBQ0E1UixFQUFBZ04sVUFBQSxFQUNBaE4sRUFBQWlNLFNBQUF6SixFQUFBQSxLQUFBc0csVUFFQTlJLEVBQUFnTixVQUFBLEVBQ0FoTixFQUFBaU0sU0FBQXpKLEVBQUFBLEtBQUFzRyxZQUtBOUksRUFBQWdOLFVBQUEsRUFDQWhOLEVBQUE2UCxTQUFBLEVBQ0E3UCxFQUFBaU0sU0FBQSxvQkFRQWhKLEtBQUFvSyxPQUFBLFdBQ0FyTixFQUFBZ1IsWUFBQSxHQUNBLElBQUFoUixFQUFBK1AsYUFBQSxJQUFBL1AsRUFBQWdCLFdBQ0FjLEVBQUFZLEdBQUEsc0JBRUFiLEVBQUErSixnQkFBQTVMLEVBQUFvRCxLQUFBK0gsVUFBQTVJLEtBQUEsU0FBQUMsR0FDQUEsRUFBQUEsS0FBQWdCLFNBQ0ExQixFQUFBWSxHQUFBLHNCQUNBMUMsRUFBQWdCLFlBQUEsR0FFQStQLEVBQUEsYUFRQTlOLEtBQUE0TyxhQUFBLFdBQ0E3UixFQUFBZ1IsWUFBQSxFQUNBaFIsRUFBQThSLGdCQUFBLEVBQ0E5UixFQUFBK1IsZ0JBQUEsRUFDQWxRLEVBQUE4SixnQkFBQTNMLEVBQUFvRCxNQUFBYixLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUFnQixTQUNBeEQsRUFBQThSLGdCQUFBLEVBQ0E5UixFQUFBZ1MsaUJBQUF4UCxFQUFBQSxLQUFBc0csUUFDQTBELEVBQUEsV0FDQXlFLEVBQUEsVUFDQW5QLEVBQUFZLEdBQUEsdUJBQ0EsT0FFQTFDLEVBQUE4UixnQkFBQSxFQUNBOVIsRUFBQStSLGVBQUEsdUJBTUEvUixFQUFBMkQsTUFBQSxXQUNBM0QsRUFBQW9PLFlBQUEsRUFDQXBPLEVBQUFpTSxVQUFBLEVBQ0FqTSxFQUFBZ04sVUFBQSxFQUNBK0QsRUFBQSxVQUdBL1EsRUFBQW1KLE9BQUEsV0FDQTRILEVBQUEsV0FHQS9RLEVBQUFpUyxPQUFBLFdBQ0FoQixFQUFBLFNBQ0F6RSxFQUFBLFdBQ0ExSyxFQUFBWSxHQUFBLFVBQ0ExQyxFQUFBNFIsU0FBQSxHQUNBLE1BR0E1UixFQUFBa1MsY0FBQSxXQUNBakIsRUFBQSxTQUNBekUsRUFBQSxXQUNBMUssRUFBQVksR0FBQSxrQkFDQSxNQUdBMUMsRUFBQW1TLGNBQUEsV0FDQWxCLEVBQUEsU0FDQXpFLEVBQUEsV0FDQTFLLEVBQUFZLEdBQUEsa0JBQ0EsU0N2UUFoRCxRQUFBQyxPQUFBLE9BQ0FpQixXQUFBLHNCQUFBLFFBQUEsU0FBQSxTQUFBZ0MsRUFBQUQsR0FDQUMsRUFBQStFLElBQUEsZUFBQXBGLEtBQUEsU0FBQXNCLEdBQ0FsQixFQUFBZ0gsUUFBQTlGLEVBQUFyQixVQ0hBOUMsUUFBQUMsT0FBQSxvQkFBQSxpQkFDQWlCLFdBQUEsYUFBQSxlQUFBLE9BQUEsV0FBQSxTQUFBLFNBQUFpQyxFQUFBaEIsRUFBQTJLLEVBQUExSyxHQUNBLEdBQUE5QixHQUFBaUQsSUFDQXBCLEdBQUFtSixjQUFBbkksRUFBQW9HLE9BQUExRyxLQUFBLFNBQUFDLEdBQ0F4QyxFQUFBb08sWUFBQSxFQUNBcE8sRUFBQWlNLFVBQUEsRUFDQXpKLEVBQUFBLEtBQUFnQixTQUNBeEQsRUFBQWdOLFVBQUEsRUFDQWhOLEVBQUFvTyxXQUFBNUwsRUFBQUEsS0FBQXNHLFFBQUEsb0JBQ0EwRCxFQUFBLFdBQ0ExSyxFQUFBWSxHQUFBLFFBQ0EsT0FFQTFDLEVBQUFpTSxTQUFBekosRUFBQUEsS0FBQXNHLFFBQUEsb0JBQ0EwRCxFQUFBLFdBQ0ExSyxFQUFBWSxHQUFBLFFBQ0EsV0FLQTlCLFdBQUEsY0FBQSxPQUFBLFdBQUEsU0FBQSxTQUFBaUIsRUFBQTJLLEVBQUExSyxHQUNBOUIsSUFBQWlELEtBQ0FBLEtBQUFnSSxpQkFBQSxTQUFBbEMsR0FDQS9JLElBQUFvTyxZQUFBLEVBQ0FwTyxJQUFBaU0sVUFBQSxFQUNBak0sSUFBQWdOLFVBQUEsRUFFQW5MLEVBQUFvSixpQkFBQWhJLEtBQUE4RixXQUFBeEcsS0FBQSxTQUFBQyxHQUNBQSxFQUFBQSxLQUFBZ0IsUUFDQTNCLEVBQUFxSixXQUFBbEwsSUFBQStJLFdBQUF4RyxLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUFnQixVQUNBeEQsSUFBQWdOLFVBQUEsRUFDQWhOLElBQUFvTyxXQUFBNUwsRUFBQUEsS0FBQXNHLFFBQUEsb0JBQ0EwRCxFQUFBLFdBQ0ExSyxFQUFBWSxHQUFBLFFBQ0EsU0FJQTFDLElBQUFnTixVQUFBLEVBQ0FoTixJQUFBaU0sU0FBQXpKLEVBQUFBLEtBQUFzRyxlQU1BbEksV0FBQSxnQkFBQSxPQUFBLFdBQUEsU0FBQSxTQUFBaUIsRUFBQTJLLEVBQUExSyxHQUNBLEdBQUE5QixHQUFBaUQsSUFDQUEsTUFBQW1JLGFBQUEsU0FBQUMsRUFBQXNHLEdBQ0EzUixFQUFBaU0sVUFBQSxFQUNBak0sRUFBQWdOLFVBQUEsRUFDQTJFLEVBQ0E5UCxFQUFBdUosYUFBQXBMLEVBQUFxTCxTQUFBK0csT0FBQTdQLEtBQUEsU0FBQUMsR0FDQUEsRUFBQUEsS0FBQWdCLFNBQ0F4RCxFQUFBb08sV0FBQTVMLEVBQUFBLEtBQUFzRyxRQUFBLG9CQUNBMEQsRUFBQSxXQUNBMUssRUFBQVksR0FBQSxRQUNBLE9BRUExQyxFQUFBZ04sVUFBQSxFQUNBaE4sRUFBQWlNLFNBQUF6SixFQUFBQSxLQUFBc0csWUFJQTlJLEVBQUFnTixVQUFBLEVBQ0FoTixFQUFBaU0sU0FBQSx5QkFLQXJMLFdBQUEsZ0JBQUEsT0FBQSxXQUFBLFNBQUEsU0FBQWlCLEVBQUEySyxFQUFBMUssR0FDQSxHQUFBOUIsR0FBQWlELElBQ0FqRCxHQUFBc0wsYUFBQSxTQUFBQyxFQUFBb0csR0FDQTNSLEVBQUFpTSxVQUFBLEVBQ0FqTSxFQUFBZ04sVUFBQSxFQUNBMkUsRUFDQTlQLEVBQUF5SixhQUFBdEwsRUFBQXVMLFdBQUFoSixLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUFnQixTQUNBeEQsRUFBQW9PLFdBQUE1TCxFQUFBQSxLQUFBc0csUUFBQSxvQkFDQTBELEVBQUEsV0FDQTFLLEVBQUFZLEdBQUEsUUFDQSxPQUVBMUMsRUFBQWdOLFVBQUEsRUFDQWhOLEVBQUFpTSxTQUFBekosRUFBQUEsS0FBQXNHLFlBSUE5SSxFQUFBZ04sVUFBQSxFQUNBaE4sRUFBQWlNLFNBQUEsc0JBS0FyTCxXQUFBLGFBQUEsZUFBQSxTQUFBLE9BQUEsV0FBQSxTQUFBLFNBQUFpQyxFQUFBRixFQUFBZCxFQUFBMkssRUFBQTFLLEdBQ0EsR0FBQTlCLEdBQUFpRCxJQUVBakQsR0FBQXFTLE1BQUEsRUFHQXhRLEVBQUEySixjQUFBM0ksRUFBQW9HLE9BQUExRyxLQUFBLFNBQUFDLEdBRUFBLEVBQUFBLEtBQUFnQixTQUNBeEQsRUFBQXFTLE1BQUEsRUFDQTFQLEVBQUFlLE1BQUEsc0JBQ0ExRCxFQUFBb08sV0FBQSxvQkFDQXpMLEVBQUF3SSxTQUFBM0ksRUFBQUEsS0FBQVksS0FBQSxHQUFBK0gsV0FFQXhJLEVBQUFlLE1BQUEscUJBQ0ExRCxFQUFBaU0sU0FBQXpKLEVBQUFBLEtBQUFzRyxXQUtBOUksRUFBQXlMLGFBQUEsU0FBQVYsRUFBQTRHLEVBQUEzSyxHQUNBaEgsRUFBQWlNLFVBQUEsRUFDQWpNLEVBQUFvTyxZQUFBLEVBQ0FwTyxFQUFBZ04sVUFBQSxFQUNBaE4sRUFBQTZQLFNBQUEsRUFHQThCLEdBQUEzSyxHQUNBaEgsRUFBQStLLFFBQUFJLFNBQUF4SSxFQUFBd0ksU0FHQXRKLEVBQUE0SixhQUFBekwsRUFBQStLLFNBQUF4SSxLQUFBLFNBQUFDLEdBQ0F4QyxFQUFBNlAsU0FBQSxFQUVBck4sRUFBQUEsS0FBQWdCLFNBQ0FiLEVBQUFlLE1BQUEsc0JBQ0ExRCxFQUFBb08sV0FBQTVMLEVBQUFBLEtBQUFzRyxRQUFBLG9CQUVBMEQsRUFBQSxXQUNBMUssRUFBQVksR0FBQSxRQUNBLE9BRUFDLEVBQUFlLE1BQUEscUJBQ0ExRCxFQUFBZ04sVUFBQSxFQUNBaE4sRUFBQWlNLFNBQUF6SixFQUFBQSxLQUFBc0csYUFJQW5HLEVBQUFlLE1BQUEscUJBQ0ExRCxFQUFBNlAsU0FBQSxFQUNBN1AsRUFBQWdOLFVBQUEsRUFDQWhOLEVBQUFpTSxTQUFBLHVCQ2xKQXZNLFFBQUFDLE9BQUEsbUJBQUEsaUJBQ0FpQixXQUFBLFdBQUEsUUFBQSxZQUFBLFdBQUEsT0FBQSxPQUFBLFNBQUEsU0FBQWdDLEVBQUE4TSxFQUFBbEQsRUFBQTNLLEVBQUE0TixFQUFBM04sR0FDQSxHQUFBOUIsR0FBQWlELElBRUFBLE1BQUFxUCxTQUFBLFNBQUF2SCxHQUNBL0ssRUFBQWlNLFVBQUEsRUFDQWxCLEVBR0FBLEVBQUEsT0FBQUEsRUFBQSxTQUNBL0ssRUFBQW9PLFdBQUEscUJBQ0FwTyxFQUFBZ04sVUFBQSxFQUNBbEwsRUFBQVksR0FBQSxtQkFFQTFDLEVBQUFpTSxTQUFBLDhCQUNBak0sRUFBQWdOLFVBQUEsR0FSQWhOLEVBQUFpTSxTQUFBLCtCQWVBaEosS0FBQXNQLFNBQUEsU0FBQXhILEVBQUE0RyxFQUFBM0ssR0FDQWhILEVBQUFpTSxVQUFBLEVBQ0FqTSxFQUFBZ04sVUFBQSxFQUVBMkUsR0FBQTNLLEVBQ0FuRixFQUFBaUosT0FBQTlLLEVBQUErSyxTQUFBeEksS0FBQSxTQUFBQyxHQUNBQSxFQUFBQSxLQUFBZ0IsU0FDQXhELEVBQUFnTixVQUFBLEVBQ0FoTixFQUFBb08sV0FBQTVMLEVBQUFBLEtBQUFzRyxRQUNBMkcsRUFBQTlMLE1BQUEzRCxFQUFBK0ssU0FBQXhJLEtBQUEsU0FBQUMsR0FDQUEsRUFBQUEsS0FBQWdCLFNBQ0F4RCxFQUFBZ04sVUFBQSxFQUNBaE4sRUFBQW9PLFdBQUE1TCxFQUFBQSxLQUFBc0csUUFDQTBELEVBQUEsV0FDQTFLLEVBQUFZLEdBQUEsUUFDQSxNQUVBRixFQUFBQSxLQUFBb1AsU0FDQTVSLEVBQUE0UixTQUFBLEVBQ0E1UixFQUFBZ04sVUFBQSxFQUNBaE4sRUFBQWlNLFNBQUF6SixFQUFBQSxLQUFBc0csVUFFQTlJLEVBQUFnTixVQUFBLEVBQ0FoTixFQUFBaU0sU0FBQXpKLEVBQUFBLEtBQUFzRyxhQUtBOUksRUFBQWdOLFVBQUEsRUFDQWhOLEVBQUFpTSxTQUFBekosRUFBQUEsS0FBQXNHLFlBS0E5SSxFQUFBZ04sVUFBQSxFQUNBaE4sRUFBQTZQLFNBQUEsRUFDQTdQLEVBQUFpTSxTQUFBLHVCQU1BckwsV0FBQSxlQUFBLFNBQUEsT0FBQSxXQUFBLFNBQUEsUUFBQSxTQUFBK0IsRUFBQWQsRUFBQTJLLEVBQUExSyxFQUFBYyxHQUNBLEdBQUE1QyxHQUFBaUQsS0FHQWtJLEVBQUF4SSxFQUFBUSxLQUFBQyxLQUFBK0gsUUFDQXRKLEdBQUFnSyxhQUFBVixHQUFBNUksS0FBQSxTQUFBQyxHQUNBQSxFQUFBQSxLQUFBZ0IsUUFDQXhELEVBQUF3UyxTQUFBaFEsRUFBQUEsS0FBQWlRLFNBRUF6UyxFQUFBaU0sU0FBQXpKLEVBQUFBLEtBQUFzRyxVQU1BN0YsS0FBQTRCLFFBQ0E1QixLQUFBeVAsYUFBQSxTQUFBM04sR0FDQSxHQUFBQSxFQUFBVixPQUFBLEdBQUFVLEVBQUEsR0FBQXNILEtBQUFqSSxNQUFBLHFCQUFBLENBQ0EsR0FBQVMsR0FBQUUsRUFBQSxHQUNBMkgsRUFBQSxHQUFBekgsV0FDQXlILEdBQUFwSCxjQUFBVCxHQUNBNkgsRUFBQXhILE9BQUEsU0FBQXlILEdBQ0FILEVBQUEsV0FDQXhNLEVBQUEyTixhQUNBM04sRUFBQTJOLFVBQUFkLFFBQUFGLEVBQUF2SCxPQUFBQyxPQUNBckYsRUFBQTJTLFdBQUEsRUFDQTNTLEVBQUE4SSxTQUFBLFNBSUE5SSxHQUFBMk4sYUFDQTNOLEVBQUE4SSxTQUFBLEdBS0E3RixLQUFBMlAsbUJBQUEsV0FDQTVTLEVBQUFpTSxVQUFBLEVBQ0FqTSxFQUFBZ04sVUFBQSxFQUNBckssRUFBQXNLLE1BQUEsT0FDQSxJQUFBQyxHQUFBLEdBQUFDLFVBQ0E5SixFQUFBVixFQUFBUSxLQUFBQyxLQUFBQyxPQUNBNkosR0FBQUUsT0FBQSxTQUFBcE4sRUFBQTZFLEtBQUF3SSxRQUNBekssRUFBQXlGLElBQUEsbUJBQUFoRixFQUFBNkosR0FDQUksaUJBQUE1TixRQUFBNk4sU0FDQTVELFNBQUE2RCxtQkFBQTNILE1BQ0F0RCxLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUFnQixTQUNBYixFQUFBc0ssTUFBQSxVQUNBak4sRUFBQW9PLFdBQUE1TCxFQUFBQSxLQUFBc0csUUFDQTlJLEVBQUE2RSxRQUNBMkgsRUFBQSxXQUNBMUssRUFBQTJCLFVBQ0EsT0FFQWQsRUFBQXNLLE1BQUEsVUFDQWpOLEVBQUFnTixVQUFBLEVBQ0FoTixFQUFBaU0sU0FBQXpKLEVBQUFBLEtBQUFzRyxRQUNBOUksRUFBQTZFLFlBTUE1QixLQUFBNFAsY0FBQSxXQUNBN1MsRUFBQWlNLFVBQUEsRUFDQWpNLEVBQUFnTixVQUFBLEVBQ0FoTixFQUFBd1MsU0FBQW5QLFFBQUFWLEVBQUFRLEtBQUFDLEtBQUFDLFFBQ0F4QixFQUFBaUssZUFBQTlMLEVBQUF3UyxVQUFBalEsS0FBQSxTQUFBQyxHQUNBQSxFQUFBQSxLQUFBZ0IsU0FDQXhELEVBQUFvTyxXQUFBNUwsRUFBQUEsS0FBQXNHLFFBQ0EwRCxFQUFBLFdBQ0ExSyxFQUFBMkIsVUFDQSxPQUVBekQsRUFBQWlNLFNBQUF6SixFQUFBQSxLQUFBc0csUUFDQTlJLEVBQUFnTixVQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdhcHAnLFtcclxuICAgICd1aS5yb3V0ZXInLFxyXG4gICAgJ3VpLmJvb3RzdHJhcCcsXHJcbiAgICAndXNlckNvbnRyb2xsZXJzJyxcclxuICAgICdtYWluQ29udHJvbGxlcnMnLFxyXG4gICAgJ2VtYWlsQ29udHJvbGxlcnMnLFxyXG4gICAgJ2FydGlzdENvbnRyb2xsZXJzJyxcclxuICAgICdnYWxsZXJ0Q29udHJvbGxlcnMnLFxyXG4gICAgJ2NvbW1lbnRDb250cm9sbGVycycsXHJcbiAgICAnYm9hcmRDb250cm9sbGVycycsXHJcbiAgICAnbWFuYWdlbWVudENvbnRyb2xsZXJzJyxcclxuICAgICd1aUNyb3BwZXInXHJcbl0pLmNvbmZpZyhmdW5jdGlvbigkaHR0cFByb3ZpZGVyKXtcclxuICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdBdXRoSW50ZXJjZXB0b3JzJyk7XHJcbn0pO1xyXG4iLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5hcHAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xyXG4kdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG4vLyAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcbiRsb2NhdGlvblByb3ZpZGVyLmhhc2hQcmVmaXgoJycpOyAvLyBieSBkZWZhdWx0ICchJ1xyXG4kbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcblxyXG4gJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAgICAuc3RhdGUoJ2FwcCcsIHtcclxuICAgICAgICAgICAgIHVybDogJy8nLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnaGVhZGVyJzoge1xyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tZW51ZXMvbWFpbk1lbnUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYWluTWVudUNvbnRyb2xsZXInXHJcbiAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICdjb250ZW50Jzoge1xyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2hvbWUuaHRtbCdcclxuICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgJ2Zvb3Rlcic6IHtcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS9mb290ZXIuaHRtbCdcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdtYW5hZ2VtZW50Jywge1xyXG4gICAgICAgICAgICAgIHVybDonL21hbmFnZW1lbnQnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21hbmFnZW1lbnQvbWFuYWdlbWVudC5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFuYWdlbWVudEN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ21hbmFnZW1lbnQnLFxyXG4gICAgICAgICAgICAgIHBlcm1pc3Npb246ICdhZG1pbidcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncmVnaXN0ZXJTdGVwMScsXHJcbiAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIHVybDogJy9yZWdpc3Rlci9zdGVwMScsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZWdDdHJsJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVnaXN0ZXInLFxyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9pc0xvZ2dlZE91dC9yZWdpc3RlclN0ZXAxLmh0bWwnLFxyXG4gICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZWdpc3RlclN0ZXAyJyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyL3N0ZXAyJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlZ0N0cmwnLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWdpc3RlcicsXHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2lzTG9nZ2VkT3V0L3JlZ2lzdGVyU3RlcDIuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Jlc2V0dXNlcm5hbWUnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Jlc2V0dXNlcm5hbWUnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3Jlc2V0L3VzZXJuYW1lLmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1c2VybmFtZUN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3VzZXJuYW1lJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZXNldHBhc3N3b3JkJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJy9yZXNldHBhc3N3b3JkJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9yZXNldC9wYXNzd29yZC5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAncGFzc3dvcmRDdHJsJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdwYXNzd29yZCdcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncmVzZXQnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Jlc2V0Lzp0b2tlbicsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVzZXQvbmV3cGFzc3dvcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Jlc2V0Q3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVzZXQnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhY3RpdmF0ZScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvYWN0aXZhdGUvOnRva2VuJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9hY3RpdmF0aW9uL2FjdGl2YXRlLmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdlbWFpbEN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2VtYWlsJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZXNlbmQnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Jlc2VuZCcsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvYWN0aXZhdGlvbi9yZXNlbmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Jlc2VuZEN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Jlc2VuZCdcclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG5cclxuICAvLyDsnKDsoIAg7ZSE66Gc7ZWEIOuqqOyVhCDrhpPsnYAg6rOzICAvIOqzhOyglSDsoJXrs7RcclxuICAgICAgICAgICAuc3RhdGUoJ2FwcC5wcm9maWxlcycsIHtcclxuICAgICAgICAgICAgIHVybDogJ3Byb2ZpbGVzJyxcclxuICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdpc0xvZ2dlZEluL3VzZXJQcm9maWxlcy5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwcm9maWxlQ3RybCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdwcm9maWxlJyxcclxuICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbi8vIOyekeqwgCDsnpHtkogg66qo7JWEIOuGk+ydgCDqs7NcclxuICAgICAgICAgIC5zdGF0ZSgnYXBwLnBob3RvcycsIHtcclxuICAgICAgICAgICAgdXJsOiAncGhvdG9zJyxcclxuICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaXNMb2dnZWRJbi9hcnRpc3RQaG90b3MuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYW5BcnRpc3RQaG90b0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYW5BcnRpc3RQaG90bycsXHJcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH0pXHJcblxyXG4vLyDrk7HroZ3rkJwg7J6R6rCA7J2YIOyeke2SiCDsl4XroZzrk5wgJiDsnpHqsIAg7ZSE66Gc7ZWEXHJcbiAgICAgICAgICAgLnN0YXRlKCdhcHAuYXJ0aXN0UHJvZmlsZXMnLCB7XHJcbiAgICAgICAgICAgICB1cmw6ICdhcnRpc3QnLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2lzTG9nZ2VkSW4vYXJ0aXN0UHJvZmlsZXMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYXJ0aXN0UHJvZmlsZUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYXJ0aXN0UHJvZmlsZScsXHJcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiB0cnVlXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmludHJvJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJ2ludHJvJyxcclxuICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NvbXBhbnkvaW50cm8uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAudGVybXMnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAndGVybXMnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS90ZXJtcy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5wcml2YWN5JyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJ3ByaXZhY3knLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS9wcml2YWN5Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT0gIGFydGlzdCAvIGdhbGxlcnkgLyBleGhpYml0aW9uIC8gYm9hcmQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG4vLyA9PT09PT09PT09PT09PT09PT0gIGFydGlzdCDsubTthYzqs6DrpqwgPT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuYXJ0aXN0Jywge1xyXG4gICAgICAgICAgICAgIHVybDogJ2FydGlzdC9jYXRlZ29yeT06Y29kZScsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2Zvcm0uaHRtbCdcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnbWVudUBhcHAuYXJ0aXN0Jzp7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxBcnRpc3QvYXJ0aXN0VGFwLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYXJ0aXN0VGFwQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2FydGlzdFRhcCcsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5hcnRpc3QnOntcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEFydGlzdC9hcnRpc3RzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYXJ0aXN0c0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhcnRpc3RzJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmdhbGxlcnknLCB7XHJcbiAgICAgICAgICAgICAgIHVybDogJ2dhbGxlcnkvY2F0ZWdvcnk9OmNvZGUnLFxyXG4gICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFpbi9mb3JtLmh0bWwnXHJcbiAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAnbWVudUBhcHAuZ2FsbGVyeSc6e1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEdhbGxlcnkvZ2FsbGVyeVRhcC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdnYWxsZXJ5VGFwQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnYWxsZXJ5VGFwJ1xyXG4gICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5nYWxsZXJ5Jzp7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsR2FsbGVyeS9waG90b3MuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZ2FsbGVyeVBob3Rvc0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZ2FsbGVyeVBob3RvcycsXHJcbiAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmJvYXJkJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnYm9hcmQvY2F0ZWdvcnk9OmNvZGUnLFxyXG4gICAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFpbi9mb3JtLmh0bWwnXHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICdtZW51QGFwcC5ib2FyZCc6e1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxCb2FyZC9ib2FyZFRhcC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYm9hcmRUYXBDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLmJvYXJkJzp7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEJvYXJkL2JvYXJkcy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYm9hcmRzQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYm9hcmRzJyxcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgLnN0YXRlKCdhcHAuZGlzcGxheScsIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnZGlzcGxheS9jYXRlZ29yeT06Y29kZScsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2Zvcm0uaHRtbCdcclxuICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICdtZW51QGFwcC5kaXNwbGF5Jzp7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsRGlzcGxheS9kaXNwbGF5VGFwLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2Rpc3BsYXlNZW51Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5kaXNwbGF5Jzp7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsRGlzcGxheS9jb250ZW50Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2Rpc3BsYXlNZW51Q29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgLnN0YXRlKCdhcHAuYXJ0aXN0LnNob3cnLCB7XHJcbiAgICAgICAgICAgICAgIHVybDogJy9hcnRpc3Q6YXJ0aXN0X2lkJyxcclxuICAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAuYXJ0aXN0Jzp7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsQXJ0aXN0L2FydGlzdC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhcnRpc3RQaG90b0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYXJ0aXN0UGhvdG8nLFxyXG4gICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAuc3RhdGUoJ2FwcC5nYWxsZXJ5LnNob3cnLCB7XHJcbiAgICAgICAgICAgICB1cmw6ICcvcGhvdG9fdHlwZT06cGhvdG9fdHlwZS9waG90bzpwaG90b19pZCcsXHJcbiAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAuZ2FsbGVyeSc6e1xyXG4gICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxHYWxsZXJ5L3Bob3RvLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdnYWxsZXJ5UGhvdG9DdHJsJyxcclxuICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnYWxsZXJ5cGhvdG8nLFxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwLmJvYXJkLnNob3cnLFxyXG4gICAgICAgICAgIHtcclxuICAgICAgICAgICAgIHVybDogJy9ib2FyZDpib2FyZF9pZCcsXHJcbiAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAuYm9hcmQnOntcclxuICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxCb2FyZC9ib2FyZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYm9hcmRDdHJsJyxcclxuICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdib2FyZCcsXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmJvYXJkLmNyZWF0ZScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6Jy9jcmVhdGUnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAuYm9hcmQnOntcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6Jy9wYXJ0aWFsQm9hcmQvYm9hcmRDcmVhdGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdib2FyZEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdib2FyZCcsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAgICAuc3RhdGUoJ2FwcC5ib2FyZC5lZGl0JyxcclxuICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICB1cmw6ICcvZWRpdC86Ym9hcmRfaWQnLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnY29udGVudHNAYXBwLmJvYXJkJzp7XHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbEJvYXJkL2JvYXJkVXBkYXRlLmh0bWwnLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYm9hcmRDdHJsJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYm9hcmQnLFxyXG4gICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiB0cnVlXHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICB9KVxuXG4gICAgICAgICAuc3RhdGUoJ2FwcC5nYWxsZXJ5LmVkaXQnLCB7XG4gICAgICAgICAgIHVybDogJy9lZGl0LzpwaG90b19pZCcsXG4gICAgICAgICAgIHZpZXdzOntcbiAgICAgICAgICAgICAnY29udGVudEAnOntcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxHYWxsZXJ5L3Bob3RvRWRpdC5odG1sJyxcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdnYWxsZXJ5UGhvdG9DdHJsJyxcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dhbGxlcnlwaG90bycsXG4gICAgICAgICAgICAgfVxuICAgICAgICAgICB9XG4gICAgICAgICB9KTtcblxyXG59KTtcblxuYXBwLnJ1bihmdW5jdGlvbigkcm9vdFNjb3BlLCBVc2VyLCAkc3RhdGUpe1xuICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCAgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIG9wdGlvbnMpe1xuICAgIGlmKHRvU3RhdGUucGVybWlzc2lvbiA9PT0gJ2FkbWluJyl7XG4gICAgICBVc2VyLmdldFBlcm1pc3Npb24oKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICB9XG4gIH0pO1xuICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlRXJyb3InLCAgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIGVycm9yKXtcbiAgICAkc3RhdGUuZ28oJ2FwcCcpO1xuICB9KTtcbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2NvbW1lbnRDb250cm9sbGVycycsWydjb21tZW50U2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ2NvbW1lbnRDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCAkd2luZG93LCBDb21tZW50KSB7XHJcbiAgLy8gaWTsl5Ag7ZW064u57ZWY64qUIOqwkuydhCDrs7Tsl6zso7zripQg7ZWo7IiYXHJcbiAgLy8g6rCS7J2EIOqwgOyguOyYpOuKlCDtlajsiJhcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB2YXIgcGhvdG9faWQgPSAkc3RhdGVQYXJhbXMucGhvdG9faWQ7XHJcblxyXG4gIC8vIOy9lOupmO2KuCDsg53shLHtlZjquLBcclxuICAvLyDsnpHrj5nsnbQg7ZWE7JqU7ZWY66m0IOyVhOydtOuUlOuekSDrjJPquIAg64K07JqpIOq3uOumrOqzoCBwaG90b19pZFxyXG4gICAgdGhpcy5jcmVhdGVDb21tZW50ID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKCEkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQpe1xyXG4gICAgICAgICRzY29wZS5tYWluLmxvZ2luKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYoIWRhdGEpe1xyXG4gICAgICAgICAgJHdpbmRvdy5hbGVydCgn64yT6riA7J2EIOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFyIGNvbW1lbnREYXRhID0ge1xyXG4gICAgICAgICAgICBjb21tZW50IDogZGF0YSxcclxuICAgICAgICAgICAgdXNlcl9pZCA6ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZCxcclxuICAgICAgICAgICAgcGhvdG9faWQgOiBwaG90b19pZFxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICBDb21tZW50LmNyZWF0ZUNvbW1lbnQoY29tbWVudERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxufTtcclxuXHJcbiAgICAgIC8vIGlmKHZhbGlkKXtcclxuICAgICAgLy8gICBDb21tZW50LmNyZWF0ZUNvbW1lbnQoYXBwLnJlc3BvbnNlKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAvL1xyXG4gICAgICAvL1xyXG4gICAgICAvLyAgIH0pO1xyXG4gICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAvLyAgIGFwcC5lcnJvck1zZyA9ICcnO1xyXG4gICAgICAvLyB9XHJcbiAgICAgIC8vIGlmKHZhbGlkKXtcclxuICAgICAgLy8gICB2YXIgYm9hcmRfaWQgPSByZXNwb25zZS5ib2FyZF9pZDtcclxuICAgICAgLy8gICB2YXIgcGhvdG9faWQgPSByZXNwb25zZS5waG90b19pZDtcclxuICAgICAgLy8gICB2YXIgY29tbWVudCAgPSByZXNwb25zZS5jb21tZW50O1xyXG4gICAgICAvLyAgICAkaHR0cC5wb3N0KCcvYXBpL2NvbW1lbnQnLCB7XHJcbiAgICAgIC8vICAgICAgYm9hcmRfaWQ6IGJvYXJkX2lkLCBwaG90b19pZDogcGhvdG9faWQsIGNvbW1lbnQ6IGNvbW1lbnRcclxuICAgICAgLy8gICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgIC8vICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAvLyAgICB9KTtcclxuICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgLy8gICAkd2luZG93LmFsZXJ0KFwi64yT6riA7J2EIOyeheugpe2VtOyjvOyEuOyalC5cIik7XHJcbiAgICAgIC8vIH1cclxuXHJcblxyXG5cclxuICAgIC8vIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgLy8gdmFyIHVzZXJfaWQgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XHJcbiAgICAvL1xyXG4gICAgLy8gICBBcnRpc3QucmVhZEFydGlzdFByb2ZpbGUodXNlcl9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIC8vICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAvLyAgICAgICBhcHAuYXJ0aXN0RGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgfSk7XHJcbiAgICAvL1xyXG4gICAgLy9cclxuICAgIC8vXHJcbiAgICAvLyB2YXIgYm9hcmRfaWQgPSAkc3RhdGVQYXJhbXMuYm9hcmRfaWQ7XHJcbiAgICAvLyB2YXIgaWQgPSBcIlwiO1xyXG4gICAgLy9cclxuICAgIC8vIHZhciBkYXRhID0ge1xyXG4gICAgLy8gICBwaG90b19pZDpwaG90b19pZCxcclxuICAgIC8vICAgYm9hcmRfaWQ6Ym9hcmRfaWRcclxuICAgIC8vIH07XHJcbiAgICAvL1xyXG4gICAgLy8gdmFyIGNvbmZpZyA9IHtcclxuICAgIC8vICAgcGFyYW1zOiBkYXRhLFxyXG4gICAgLy8gICBoZWFkZXJzIDogeydBY2NlcHQnIDogJ2FwcGxpY2F0aW9uL2pzb24nfVxyXG4gICAgLy8gfTtcclxuICAgIC8vXHJcbiAgICAvLyBpZihwaG90b19pZCl7XHJcbiAgICAvLyAgIGlkID0gcGhvdG9faWQ7XHJcbiAgICAvLyAgICRodHRwLmdldCgnL2FwaS9jb21tZW50LycraWQsIGNvbmZpZykudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAvLyAgICAgJHNjb3BlLmNvbW1lbnRzID0gcmVzcG9uc2UuZGF0YVswXTtcclxuICAgIC8vICAgfSk7XHJcbiAgICAvLyB9XHJcbiAgICAvLyBlbHNlIGlmKGJvYXJkX2lkKXtcclxuICAgIC8vICAgaWQgPSBib2FyZF9pZDtcclxuICAgIC8vICAgJGh0dHAuZ2V0KCcvYXBpL2NvbW1lbnQvJytpZCwgY29uZmlnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgIC8vICAgICAkc2NvcGUuY29tbWVudHMgPSByZXNwb25zZS5kYXRhWzBdO1xyXG4gICAgLy8gICB9KTtcclxuICAgIC8vIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgJHNjb3BlLmNvbW1lbnRzID0gJ+yLnOyKpO2FnOydtCDrtojslYjsoJXtlanri4jri6QuJztcclxuICAgIC8vIH1cclxuICAvLyAvLyDsvZTrqZjtirgg7IOd7ISx7ZWY6riwXHJcbiAgLy8gICAkc2NvcGUuYWRkQ29tbWVudCA9IGZ1bmN0aW9uKHJlc3BvbnNlLCB2YWxpZCl7XHJcbiAgLy8gICAgIGlmKHZhbGlkKXtcclxuICAvLyAgICAgICB2YXIgYm9hcmRfaWQgPSByZXNwb25zZS5ib2FyZF9pZDtcclxuICAvLyAgICAgICB2YXIgcGhvdG9faWQgPSByZXNwb25zZS5waG90b19pZDtcclxuICAvLyAgICAgICB2YXIgY29tbWVudCAgPSByZXNwb25zZS5jb21tZW50O1xyXG4gIC8vICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL2NvbW1lbnQnLCB7XHJcbiAgLy8gICAgICAgICAgYm9hcmRfaWQ6IGJvYXJkX2lkLCBwaG90b19pZDogcGhvdG9faWQsIGNvbW1lbnQ6IGNvbW1lbnRcclxuICAvLyAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgLy8gICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gIC8vICAgICAgICB9KTtcclxuICAvLyAgICAgfSBlbHNlIHtcclxuICAvLyAgICAgICAkd2luZG93LmFsZXJ0KFwi64yT6riA7J2EIOyeheugpe2VtOyjvOyEuOyalC5cIik7XHJcbiAgLy8gICAgIH1cclxuICAvL1xyXG4gIC8vICAgfTtcclxuXHJcblxyXG4gIC8vIOqwkuydhCDsgq3soJztlZjripQg7ZWo7IiYXHJcbiAgJHNjb3BlLmRlbGV0ZUNvbW1lbnQgPSBmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICB2YXIgaWQgPSByZXNwb25zZS5jb21tZW50X2lkO1xyXG4gIFx0JGh0dHAuZGVsZXRlKCcvYXBpL2NvbW1lbnQvJytpZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICBcdH0pO1xyXG4gIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAuY29udHJvbGxlcignSW1hZ2VDcm9wQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGh0dHApIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgYXBwLm15SW1hZ2U9Jyc7XHJcbiAgICBhcHAubXlDcm9wcGVkSW1hZ2U9Jyc7XHJcblxyXG4gICAgdmFyIGhhbmRsZUZpbGVTZWxlY3Q9ZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAkc2NvcGUuaW1hZ2V1cGxvYWRlZCA9IGZhbHNlO1xyXG4gICAgICB2YXIgZmlsZT1ldnQuY3VycmVudFRhcmdldC5maWxlc1swXTtcclxuICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigkc2NvcGUpe1xyXG4gICAgICAgICAgYXBwLm15SW1hZ2U9ZXZ0LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgfTtcclxuICAgICAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaWxlSW5wdXQnKSkub24oJ2NoYW5nZScsaGFuZGxlRmlsZVNlbGVjdCk7XG5cbiAgICAgIGZ1bmN0aW9uIGRlY29kZUJhc2U2NEltYWdlKGRhdGFTdHJpbmcpIHtcclxuICAgICAgICB2YXIgbWF0Y2hlcyA9IGRhdGFTdHJpbmcubWF0Y2goL15kYXRhOihbQS1aYS16LStcXC9dKyk7YmFzZTY0LCguKykkLyk7XHJcblxyXG4gICAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCAhPT0gMykge1xyXG4gICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCBpbnB1dCBzdHJpbmcnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFyIGZpbGUgPSB7XHJcbiAgICAgICAgICAgIHR5cGUgOiBtYXRjaGVzWzFdLFxyXG4gICAgICAgICAgICBkYXRhIDogbWF0Y2hlc1syXVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHJldHVybiBmaWxlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgYXBwLnJlYWRDcm9wSW1hZ2UgPSBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgaWYoZGF0YS5iYXNlNjRVcmwgPT09ICcnIHx8IGRhdGEuYmFzZTY0VXJsID09PSBudWxsIHx8IGRhdGEuYmFzZTY0VXJsID09PSB1bmRlZmluZWQpe1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfsnbTrr7jsp4Drpbwg7ISg7YOd7ZW07KO87IS47JqULicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBibG9iID0gZGVjb2RlQmFzZTY0SW1hZ2UoJHNjb3BlLm15Q3JvcHBlZEltYWdlKTtcbiAgICAgICAgICAkaHR0cC5wb3N0KCcvdXBsb2FkSW1hZ2UnLCBibG9iKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEuZmlsZVBhdGgpO1xuICAgICAgICAgICAgICAkc2NvcGUuaW1hZ2V1cGxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxyXG5cclxuICAgICAgICAvLyBzZW5kRmlsZSgkc2NvcGUubXlDcm9wcGVkSW1hZ2UpO1xyXG4gICAgICB9O1xuXG5cblxuXHJcblxyXG4gICAgICAvLyBmdW5jdGlvbiBzZW5kRmlsZShmaWxlKSB7XHJcbiAgICAgIC8vICAgICAgICAgZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAvLyAgICAgICAgIGRhdGEuYXBwZW5kKFwiZmlsZVwiLCBmaWxlKTtcclxuICAgICAgLy8gICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAvLyAgICAgICAgICAgICB1cmw6ICcvdXBsb2FkSW1hZ2UnLFxyXG4gICAgICAvLyAgICAgICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAvLyAgICAgICAgICAgICBjYWNoZTogZmFsc2UsXHJcbiAgICAgIC8vICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxyXG4gICAgICAvLyAgICAgICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXHJcbiAgICAgIC8vICAgICAgICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcclxuICAgICAgLy8gICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24odXJsKSB7XHJcbiAgICAgIC8vICAgICAgICAgICAgICAgICAkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoJ2luc2VydEltYWdlJywgdXJsKTtcclxuICAgICAgLy8gICAgICAgICAgICAgfVxyXG4gICAgICAvLyAgICAgICAgIH0pO1xyXG4gICAgICAvLyAgICAgfVxyXG5cclxuXHJcbiAgfSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdtYW5hZ2VtZW50Q29udHJvbGxlcnMnLCBbXSlcclxuLmNvbnRyb2xsZXIoJ21hbmFnZW1lbnRDdHJsJywgZnVuY3Rpb24oKXtcclxuICBjb25zb2xlLmxvZygn7J6R64+ZIOykkScpO1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5kaXJlY3RpdmUoJ2ZpbGVNb2RlbCcsZnVuY3Rpb24oJHBhcnNlKXtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XHJcbiAgICAgIHZhciBwYXJzZWRGaWxlID0gJHBhcnNlKGF0dHJzLmZpbGVNb2RlbCk7XHJcbiAgICAgIHZhciBwYXJzZWRmaWxlU2V0dGVyID0gcGFyc2VkRmlsZS5hc3NpZ247XHJcblxyXG4gICAgICBlbGVtZW50LmJpbmQoJ2NoYW5nZScsZnVuY3Rpb24oKXtcclxuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtcclxuICAgICAgICAgIHBhcnNlZGZpbGVTZXR0ZXIoc2NvcGUsIGVsZW1lbnRbMF0uZmlsZXNbMF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5kaXJlY3RpdmUoJ21hdGNoJyxmdW5jdGlvbigpe1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgY29udHJvbGxlcjpmdW5jdGlvbigkc2NvcGUpe1xyXG4gICAgICAkc2NvcGUuZG9Db25maXJtID0gZnVuY3Rpb24odmFsdWVzKXtcclxuXHJcbiAgICAgICAgJHNjb3BlLmNvbmZpcm1lZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGVsZSl7XHJcbiAgICAgICAgICBpZigkc2NvcGUuY29uZmlybSA9PSBlbGUpe1xyXG4gICAgICAgICAgICAkc2NvcGUuY29uZmlybWVkID0gdHJ1ZTtcclxuICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLmNvbmZpcm1lZCA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfSxcclxuXHJcbiAgICBsaW5rOmZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XHJcbiAgICAgIGF0dHJzLiRvYnNlcnZlKCdtYXRjaCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2NvcGUubWF0Y2hlcyA9IEpTT04ucGFyc2UoYXR0cnMubWF0Y2gpO1xyXG4gICAgICAgIHNjb3BlLmRvQ29uZmlybShzY29wZS5tYXRjaGVzKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBzY29wZS4kd2F0Y2goJ2NvbmZpcm0nLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHNjb3BlLm1hdGNoZXMgPSBKU09OLnBhcnNlKGF0dHJzLm1hdGNoKTtcclxuICAgICAgICBzY29wZS5kb0NvbmZpcm0oc2NvcGUubWF0Y2hlcyk7XHJcblxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FydGlzdFNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ0FydGlzdCcsIGZ1bmN0aW9uKCRodHRwKXtcclxuICBhcnRpc3RGYWN0b3J5ID0ge307XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09IEFydGlzdCBDYXRlZ29yeSA9PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy9cclxuICBhcnRpc3RGYWN0b3J5LnJlYWRBcnRpc3RUYXAgPSBmdW5jdGlvbigpe1xyXG4gICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYXJ0aXN0TWVudScpO1xyXG4gIH07XHJcblxyXG4gIGFydGlzdEZhY3RvcnkucmVhZEFydGlzdHMgPSBmdW5jdGlvbih1c2VyX3R5cGUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9hcnRpc3RNZW51LycrdXNlcl90eXBlKTtcclxuICB9O1xyXG5cclxuICBhcnRpc3RGYWN0b3J5LnJlYWRBcnRpc3QgPSBmdW5jdGlvbihhcnRpc3RfaWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9hcnRpc3QvJythcnRpc3RfaWQpO1xyXG4gIH07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG5cclxuICBhcnRpc3RGYWN0b3J5LnJlYWRBcmlzdENyb3AgPSBmdW5jdGlvbihibG9iKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvdXBsb2FkSW1hZ2UnLCBibG9iKTtcclxuICB9O1xyXG4gIFxyXG4vLyBBcnRpc3QuY3JlYXRlUGhvdG8ocGhvdG9EYXRhKVxyXG4gIGFydGlzdEZhY3RvcnkuY3JlYXRlQXJpc3RQaG90byA9IGZ1bmN0aW9uKHBob3RvRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9hcnRpc3RQcm9maWxlcycsIHBob3RvRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIEFydGlzdC51cGRhdGVBcmlzdEluZm8oYXJ0aXN0RGF0YSlcclxuICBhcnRpc3RGYWN0b3J5LnVwZGF0ZUFyaXN0UHJvZmlsZSA9IGZ1bmN0aW9uKGFydGlzdERhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9hcnRpc3RQcm9maWxlcycsIGFydGlzdERhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBBcnRpc3QucmVhZEFydGlzdFByb2ZpbGUodXNlcl9pZClcclxuICBhcnRpc3RGYWN0b3J5LnJlYWRBcnRpc3RQcm9maWxlID0gZnVuY3Rpb24oYXJ0aXN0X2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYXJ0aXN0UHJvZmlsZXMvJythcnRpc3RfaWQpO1xyXG4gIH07XHJcblxyXG4vL1xyXG4gIGFydGlzdEZhY3RvcnkucmVhZEFyaXN0UGhvdG8gPSBmdW5jdGlvbihhcnRpc3RfaWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9hcnRpc3RQaG90b3MvJythcnRpc3RfaWQpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBhcnRpc3RGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2F1dGhTZXJ2aWNlcycsW10pXHJcblxyXG4uZmFjdG9yeSgnQXV0aCcsIGZ1bmN0aW9uKCRodHRwLCBBdXRoVG9rZW4pe1xyXG4gICAgdmFyIGF1dGhGYWN0b3J5ID0ge307XHJcbi8vIEF1dGguZ2V0VXNlcigpO1xyXG4gICAgYXV0aEZhY3RvcnkuZ2V0VXNlciA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGlmKEF1dGhUb2tlbi5nZXRUb2tlbigpKXtcclxuICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9tZScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICRxLnJlamVjdCh7bWVzc2FnZTonVXNlciBoYXMgbm8gdG9rZW4nfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4vLyBBdXRoLmxvZ2luKGxvZ2luRGF0YSk7XHJcbiAgICBhdXRoRmFjdG9yeS5sb2dpbiA9IGZ1bmN0aW9uKGxvZ2luRGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2F1dGhlbnRpY2F0ZScsIGxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oZGF0YS5kYXRhLnRva2VuKTtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuLy8gQXV0aC5pc0xvZ2dlZEluKCk7XHJcbiAgICBhdXRoRmFjdG9yeS5pc0xvZ2dlZEluID0gZnVuY3Rpb24oKXtcclxuICAgICAgaWYoQXV0aFRva2VuLmdldFRva2VuKCkpe1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbi8vIEF1dGgubG9nb3V0KCk7XHJcbiAgICBhdXRoRmFjdG9yeS5sb2dvdXQgPSBmdW5jdGlvbigpe1xyXG4gICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gYXV0aEZhY3Rvcnk7XHJcbn0pXHJcblxyXG4uZmFjdG9yeSgnQXV0aFRva2VuJywgZnVuY3Rpb24oJHdpbmRvdyl7XHJcbiAgdmFyIGF1dGhUb2tlbkZhY3RvcnkgPSB7fTtcclxuXHJcbiAgLy8gQXV0aFRva2VuLnNldFRva2VuKHRva2VuKTtcclxuICBhdXRoVG9rZW5GYWN0b3J5LnNldFRva2VuID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgaWYodG9rZW4pe1xyXG4gICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTtcclxuICAgIH1lbHNlIHtcclxuICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nLCB0b2tlbik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbi8vIEF1dGhUb2tlbi5nZXRUb2tlbigpO1xyXG4gIGF1dGhUb2tlbkZhY3RvcnkuZ2V0VG9rZW4gPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcbiAgfTtcclxuICByZXR1cm4gYXV0aFRva2VuRmFjdG9yeTtcclxufSlcclxuXHJcbi5mYWN0b3J5KCdBdXRoSW50ZXJjZXB0b3JzJywgZnVuY3Rpb24oQXV0aFRva2VuKXtcclxuICB2YXIgYXV0aEludGVyY2VwdG9yc0ZhY3RvcnkgPSB7fTtcclxuXHJcbiAgYXV0aEludGVyY2VwdG9yc0ZhY3RvcnkucmVxdWVzdCA9IGZ1bmN0aW9uKGNvbmZpZyl7XHJcbiAgICB2YXIgdG9rZW4gPSBBdXRoVG9rZW4uZ2V0VG9rZW4oKTtcclxuXHJcbiAgICBpZih0b2tlbikgY29uZmlnLmhlYWRlcnNbJ3gtYWNjZXNzLXRva2VuJ10gPSB0b2tlbjtcclxuXHJcbiAgICByZXR1cm4gY29uZmlnO1xyXG4gIH07XHJcbiAgcmV0dXJuIGF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2JvYXJkU2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnQm9hcmQnLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgYm9hcmRGYWN0b3J5ID0ge307XHJcblxyXG4gIGJvYXJkRmFjdG9yeS5yZWFkQm9hcmRUYXAgPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9ib2FyZE1lbnUnKTtcclxuICB9O1xyXG5cclxuICBib2FyZEZhY3RvcnkucmVhZEJvYXJkcyA9IGZ1bmN0aW9uKGJvYXJkX3R5cGUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9ib2FyZE1lbnUvJytib2FyZF90eXBlKTtcclxuICB9O1xyXG5cclxuICBib2FyZEZhY3RvcnkucmVhZEJvYXJkID0gZnVuY3Rpb24oYm9hcmRfaWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnYXBpL2JvYXJkLycrYm9hcmRfaWQpO1xyXG4gIH07XHJcblxyXG4gIGJvYXJkRmFjdG9yeS5jcmVhdGVCb2FyZCA9IGZ1bmN0aW9uKGJvYXJkRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9ib2FyZE1lbnUnLGJvYXJkRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGJvYXJkRmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdjb21tZW50U2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnQ29tbWVudCcsIGZ1bmN0aW9uKCRodHRwKXtcclxuICBjb21tZW50RmFjdG9yeSA9IHt9O1xyXG5cclxuLy8gR2FsbGVyeS5yZWFkUGhvdG9EYXRhKHVzZXJfaWQpXHJcbiAgY29tbWVudEZhY3RvcnkuY3JlYXRlQ29tbWVudCA9IGZ1bmN0aW9uKGNvbW1lbnREYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2NvbW1lbnQnLGNvbW1lbnREYXRhKTtcclxuICB9O1xyXG5cclxuICBjb21tZW50RmFjdG9yeS5yZWFkQ29tbWVudCA9IGZ1bmN0aW9uKHBob3RvX2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29tbWVudC8nK3Bob3RvX2lkKTtcclxuICB9O1xyXG5cclxuICBjb21tZW50RmFjdG9yeS5yZWFkQm9hcmRDb21tZW50ID0gZnVuY3Rpb24oYm9hcmRfaWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9jb21tZW50Qm9hcmQvJytib2FyZF9pZCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGNvbW1lbnRGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2dhbGxlcnlTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdHYWxsZXJ5JywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIGdhbGxlcnlGYWN0b3J5ID0ge307XHJcblxyXG4vLyBHYWxsZXJ5LnJlYWRHYWxsZXJ5VGFwKClcclxuICBnYWxsZXJ5RmFjdG9yeS5yZWFkR2FsbGVyeVRhcCA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gICRodHRwLmdldCgnL2FwaS9nYWxsZXJ5TWVudScpO1xyXG4gIH07XHJcblxyXG4vLyBHYWxsZXJ5LnJlYWRQaG90b3MocGhvdG9fdHlwZSk7XHJcbiAgZ2FsbGVyeUZhY3RvcnkucmVhZFBob3RvcyA9IGZ1bmN0aW9uKHBob3RvX3R5cGUpe1xyXG4gICAgcmV0dXJuICAkaHR0cC5nZXQoJy9hcGkvZ2FsbGVyeU1lbnUvJytwaG90b190eXBlKTtcclxuXHJcbiAgfTtcclxuLy8gR2FsbGVyeS5yZWFkUGhvdG9EYXRhKHVzZXJfaWQpXHJcbiAgZ2FsbGVyeUZhY3RvcnkucmVhZFBob3RvRGF0YSA9IGZ1bmN0aW9uKHBob3RvX2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvZ2FsbGVyeS8nK3Bob3RvX2lkKTtcclxuICB9O1xyXG5cclxuICBnYWxsZXJ5RmFjdG9yeS5yZWFkTW9yZVBob3RvID0gZnVuY3Rpb24ocGhvdG9fdHlwZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2dhbGxlcnlNZW51LycrIHBob3RvX3R5cGUpO1xyXG4gIH07XHJcblxyXG5cclxuICByZXR1cm4gZ2FsbGVyeUZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgndXNlclNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ1VzZXInLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgdXNlckZhY3RvcnkgPSB7fTtcclxuXHJcbiAgdXNlckZhY3RvcnkuZ2V0UGVybWlzc2lvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Blcm1pc3Npb24nKTtcclxuICB9O1xyXG4vLyBVc2VyLmNyZWF0ZShyZWdEYXRhKVxyXG4gIHVzZXJGYWN0b3J5LmNyZWF0ZSA9IGZ1bmN0aW9uKHJlZ0RhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMnLCByZWdEYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5hY3RpdmVBY2NvdW50KHRva2VuKTtcclxuICB1c2VyRmFjdG9yeS5hY3RpdmVBY2NvdW50ID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9hY3RpdmF0ZS8nK3Rva2VuKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5jaGVja0NyZWRlbnRpYWxzKGxvZ2luRGF0YSk7XHJcbiAgdXNlckZhY3RvcnkuY2hlY2tDcmVkZW50aWFscyA9IGZ1bmN0aW9uKGxvZ2luRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9yZXNlbmQnLCBsb2dpbkRhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLnJlc2VuZExpbmsodXNlcm5hbWUpXHJcbiAgdXNlckZhY3RvcnkucmVzZW5kTGluayA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvcmVzZW5kJywgdXNlcm5hbWUpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLnNlbmRVc2VybmFtZSh1c2VyRGF0YSk7XHJcbiAgdXNlckZhY3Rvcnkuc2VuZFVzZXJuYW1lID0gZnVuY3Rpb24odXNlckRhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9yZXNldHVzZXJuYW1lLycrdXNlckRhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLnNlbmRQYXNzd29yZChyZXNldERhdGEpO1xyXG4gIHVzZXJGYWN0b3J5LnNlbmRQYXNzd29yZCA9IGZ1bmN0aW9uKHJlc2V0RGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3Jlc2V0cGFzc3dvcmQnLCByZXNldERhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLnJlc2V0UGFzc3dvcmQodG9rZW4pO1xyXG4gIHVzZXJGYWN0b3J5LnJlc2V0UGFzc3dvcmQgPSBmdW5jdGlvbih0b2tlbil7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Jlc2V0cGFzc3dvcmQvJyt0b2tlbik7XHJcbiAgfTtcclxuXHJcblxyXG4vLyBVc2VyLnNhdmVQYXNzd29yZChyZWdEYXRhKVxyXG4gIHVzZXJGYWN0b3J5LnNhdmVQYXNzd29yZCA9IGZ1bmN0aW9uKHJlZ0RhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9zYXZlcGFzc3dvcmQnLCByZWdEYXRhKTtcclxuICB9O1xyXG5cclxuLy8gIFVzZXIucmVuZXdTZXNzaW9uKHVzZXJuYW1lKVxyXG4gIHVzZXJGYWN0b3J5LnJlbmV3U2Vzc2lvbiA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcmVuZXdUb2tlbi8nKyB1c2VybmFtZSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIucmVzZXRQZXJtaXNzaW9uKHVzZXJEYXRhKVxyXG4gIHVzZXJGYWN0b3J5LnJlc2V0UGVybWlzc2lvbiA9IGZ1bmN0aW9uKHVzZXJEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvdXNlcnMvJywgdXNlckRhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLmNoZWNrUGVybWlzc2lvbih1c2VyRGF0YSlcclxuICB1c2VyRmFjdG9yeS5jaGVja1Blcm1pc3Npb24gPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzLycrdXNlcm5hbWUpO1xyXG4gIH07XHJcblxyXG5cclxuLy8gcmVzZXQgLyBjaGVjayAvIHJlbmV3IC8gc2F2ZSAvIHNlbmQgLy8gcmVzZW5kXHJcblxyXG4vLyBDcmVhdGUgLy8gcmVhZCAvLyB1cGRhdGUgLy8gZGVsZXRlIC8vXHJcblxyXG4vLyBVc2VyLnJlYWRQcm9maWxlcyh1c2VybmFtZSlcclxuICB1c2VyRmFjdG9yeS5yZWFkUHJvZmlsZXMgPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJQcm9maWxlcy8nK3VzZXJuYW1lKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci51cGRhdGVQcm9maWxlcyh1cGRhdGVEYXRhKVxyXG4gIHVzZXJGYWN0b3J5LnVwZGF0ZVByb2ZpbGVzID0gZnVuY3Rpb24odXBkYXRlRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3VzZXJQcm9maWxlcycsIHVwZGF0ZURhdGEpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB1c2VyRmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcnRpc3RDb250cm9sbGVycycsWyd1c2VyU2VydmljZXMnLCAnYXJ0aXN0U2VydmljZXMnXSlcclxuXHJcbi5jb250cm9sbGVyKCdhcnRpc3RUYXBDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBBcnRpc3Qpe1xyXG4gIC8vIOyghOyytCDrqZTribQg6rCA7KC47Jik6riwXHJcbiAgQXJ0aXN0LnJlYWRBcnRpc3RUYXAoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAkc2NvcGUuaGVhZGVycyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdhcnRpc3RzQ3RybCcsIGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMsIEFydGlzdCkge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICB2YXIgdXNlcl90eXBlID0gJHN0YXRlUGFyYW1zLmNvZGU7XHJcblxyXG4gICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfVxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246ICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgfTtcclxuXHJcbiAgICBBcnRpc3QucmVhZEFydGlzdHModXNlcl90eXBlKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLmFydGlzdERhdGFzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigndXBsb2FkUGhvdG9DdHJsJywgZnVuY3Rpb24gKCRodHRwLCAkdGltZW91dCwgJHNjb3BlLCBBcnRpc3QsICRzdGF0ZSwgJHdpbmRvdykge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICBhcHAuZGF0YSA9IHtcclxuICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICB7aWQ6ICcxJywgbmFtZTogJ+u2kyDquIDslKgnfSxcclxuICAgICAgIHtpZDogJzInLCBuYW1lOiAn7Y6cIOq4gOyUqCd9LFxyXG4gICAgICAge2lkOiAnMycsIG5hbWU6ICfrr7jrtoTrpZgnfVxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgIH07XHJcblxyXG4vLyDtjIzsnbzsnZgg6rK966Gc66eMIOyggOyepe2VmOq4sCDrqZTsnbgg7J2066+47KeAIOunjOuTpOq4sFxyXG4gICAgdGhpcy5maWxlID0ge307XHJcbi8vIOuplOyduCDsnpHtkojsnbTrr7jsp4Ag7JeF66Gc65OcIOuQmOyXiOuKlOyngCDrs7Tsl6zso7zquLBcclxuICAgIHRoaXMubWFpblBob3RvQ2hhbmdlZCA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCAmJiBmaWxlc1swXS5uYW1lLm1hdGNoKC9cXC4ocG5nfGpwZWd8anBnKSQvKSkge1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLm1haW5UaHVtYm5haWwuZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXBwLm1haW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgfTtcclxuLy8g66mU7J24IOyeke2SiCDsnbTrr7jsp4Ag7JeF66Gc65Oc7ZW07IScIOqyveuhnCDsoIDsnqVcclxuICAgIHRoaXMucmVhZFBob3RvID0gZnVuY3Rpb24oKXtcclxuLy8g66mU7J24IOydtOuvuOyngCDsl4XroZzrk5wg7Jes67aAXHJcbiAgICAgIGFwcC5tYWluUGhvdG8gPSBmYWxzZTtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICBmZC5hcHBlbmQoJ215ZmlsZScsIGFwcC5maWxlLnVwbG9hZCk7XHJcbiAgICAgICAgJGh0dHAucG9zdCgnL2FwaS91cGxvYWRUZW1wLycsIGZkLHtcclxuICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG4gICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkfVxyXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KGRhdGEuZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgIGFwcC5tYWluUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAubWFpbkltYWdlUGF0aCA9IGRhdGEuZGF0YS5waG90b19wYXRoO1xyXG4gICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICR3aW5kb3cuYWxlcnQoZGF0YS5kYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbi8vIOyNuOuEpOydvCDsnbTrr7jsp4Ag66eM65Ok6riwXHJcbiAgICAgIGFwcC5teUltYWdlPScnO1xyXG4gICAgICBhcHAubXlDcm9wcGVkSW1hZ2U9Jyc7XHJcblxyXG4gICAgICB2YXIgaGFuZGxlRmlsZVNlbGVjdD1mdW5jdGlvbihldnQpIHtcclxuICAgICAgICB2YXIgZmlsZT1ldnQuY3VycmVudFRhcmdldC5maWxlc1swXTtcclxuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigkc2NvcGUpe1xyXG4gICAgICAgICAgICBhcHAubXlJbWFnZT1ldnQudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgIH07XHJcbiAgICAgICAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaWxlSW5wdXQnKSkub24oJ2NoYW5nZScsaGFuZGxlRmlsZVNlbGVjdCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRlY29kZUJhc2U2NEltYWdlKGRhdGFTdHJpbmcpIHtcclxuICAgICAgICAgIHZhciBtYXRjaGVzID0gZGF0YVN0cmluZy5tYXRjaCgvXmRhdGE6KFtBLVphLXotK1xcL10rKTtiYXNlNjQsKC4rKSQvKTtcclxuXHJcbiAgICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGggIT09IDMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSW52YWxpZCBpbnB1dCBzdHJpbmcnKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBmaWxlID0ge1xyXG4gICAgICAgICAgICAgIHR5cGUgOiBtYXRjaGVzWzFdLFxyXG4gICAgICAgICAgICAgIGRhdGEgOiBtYXRjaGVzWzJdXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiBmaWxlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbi8vIOyNuOuEpOydvCDsnbTrr7jsp4Ag66Gc7Lus65SU7Iqk7YGs7JeQIOyggOyepSDtm4Qg7KCA7J6lIOychOy5mCDqsIDsoLjsmKTquLBcclxuICAgICAgICBhcHAucmVhZENyb3BJbWFnZSA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgYXBwLnRodW1ibmFpbCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICAgICAgaWYoZGF0YS5iYXNlNjRVcmwgPT09ICcnIHx8IGRhdGEuYmFzZTY0VXJsID09PSBudWxsIHx8IGRhdGEuYmFzZTY0VXJsID09PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgaWYoIWFwcC5tYWluSW1hZ2VQYXRoKXtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfsnpHtkojsnZgg66mU7J24IOydtOuvuOyngOulvCDsl4XroZzrk5ztlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJsb2IgPSBkZWNvZGVCYXNlNjRJbWFnZSgkc2NvcGUubXlDcm9wcGVkSW1hZ2UpO1xyXG4gICAgICAgICAgICAgICAgQXJ0aXN0LnJlYWRBcmlzdENyb3AoYmxvYikudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy5hbGVydChkYXRhLmRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnRodW1ibmFpbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnRodW1ibmFpbFBhdGggPSBkYXRhLmRhdGEuZmlsZVBhdGg7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuLy8g7J6R6rCAIOyeke2SiCDsl4XroZzrk5xcclxuICAgICAgdGhpcy5jcmVhdGVQaG90byA9IGZ1bmN0aW9uKHVwbG9hZERhdGEpe1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgaWYoIXVwbG9hZERhdGEpe1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+u5iOy5uOydhCDrqqjrkZAg7J6F66Cl7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmKGFwcC51cGxvYWREYXRhLnRpdGxlID09PSB1bmRlZmluZWQgfHwgYXBwLnVwbG9hZERhdGEudGl0bGUgPT09IG51bGwgfHwgYXBwLnVwbG9hZERhdGEudGl0bGUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsnpHtkojsnZgg7KCc66qp7J2EIOyeheugpe2VtOyjvOyEuOyalC4nO1xyXG4gICAgICAgICAgfSBlbHNlIGlmKCQoJyNzdW1tZXJub3RlJykuc3VtbWVybm90ZSgnY29kZScpID09PSAnPHA+PGJyPjwvcD4nIHx8ICQoJyNzdW1tZXJub3RlJykuc3VtbWVybm90ZSgnY29kZScpID09PSBudWxsIHx8ICQoJyNzdW1tZXJub3RlJykuc3VtbWVybm90ZSgnY29kZScpID09PSB1bmRlZmluZWQgfHwgJCgnI3N1bW1lcm5vdGUnKS5zdW1tZXJub3RlKCdjb2RlJykgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsnpHtkojsnZgg7ISk66qF7J2EIOyeheugpe2VtOyjvOyEuOyalC4nO1xyXG4gICAgICAgICAgfSBlbHNlIGlmKGFwcC5tYWluSW1hZ2VQYXRoID09PSB1bmRlZmluZWQgfHwgYXBwLm1haW5JbWFnZVBhdGggPT09ICBudWxsIHx8IGFwcC5tYWluSW1hZ2VQYXRoID09PSAnJyl7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsnpHtkogg7J2066+47KeA66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nO1xyXG4gICAgICAgICAgfSBlbHNlIGlmKGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkID09PSAnMCcpe1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7J6R7ZKI7J2YIOyiheulmOulvCDshKDtg53tlbTso7zshLjsmpQuJztcclxuICAgICAgICAgIH0gZWxzZSBpZihhcHAudGh1bWJuYWlsUGF0aCA9PT0gdW5kZWZpbmVkIHx8IGFwcC50aHVtYm5haWxQYXRoID09PSBudWxsIHx8IGFwcC50aHVtYm5haWxQYXRoID09PSAnJykge1xuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yNuOuEpOydvCDsnbTrr7jsp4Drpbwg7ISg7YOd7ZW07KO87IS47JqULic7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFwcC51cGxvYWREYXRhID0ge1xuICAgICAgICAgICAgICB0aXRsZTogdXBsb2FkRGF0YS50aXRsZSxcbiAgICAgICAgICAgICAgZGV0YWlsOiAkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoJ2NvZGUnKSxcbiAgICAgICAgICAgICAgdXNlcl9pZDogJHNjb3BlLm1haW4udXNlci51c2VyX2lkLFxuICAgICAgICAgICAgICBwaG90b190eXBlOiBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZCxcbiAgICAgICAgICAgICAgcGhvdG9fcGF0aDogYXBwLm1haW5JbWFnZVBhdGgsXG4gICAgICAgICAgICAgIHBob3RvX3RodW1ibmFpbDogYXBwLnRodW1ibmFpbFBhdGhcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBBcnRpc3QuY3JlYXRlQXJpc3RQaG90byhhcHAudXBsb2FkRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbi8vIOyeke2SiCDshKTrqoVcclxuICAgICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJCgnI3N1bW1lcm5vdGUnKS5zdW1tZXJub3RlKHtcclxuICAgICAgICAgIHRvb2xiYXI6IFtcclxuICAgICAgICAgICAgWydzdHlsZScsIFsnYm9sZCcsICdpdGFsaWMnLCAndW5kZXJsaW5lJywgJ2NsZWFyJ11dLFxyXG4gICAgICAgICAgICBbJ2ZvbnQnLCBbJ3N0cmlrZXRocm91Z2gnLCAnc3VwZXJzY3JpcHQnLCAnc3Vic2NyaXB0J11dLFxyXG4gICAgICAgICAgICBbJ2ZvbnRzaXplJywgWydmb250c2l6ZSddXSxcclxuICAgICAgICAgICAgWydjb2xvcicsIFsnY29sb3InXV0sXHJcbiAgICAgICAgICAgIFsncGFyYScsIFsndWwnLCAnb2wnLCAncGFyYWdyYXBoJ11dLFxyXG4gICAgICAgICAgICBbJ2hlaWdodCcsIFsnaGVpZ2h0J11dXHJcbiAgICAgICAgICBdLFxyXG4gICAgICAgICAgaGVpZ2h0IDogMTUwLFxyXG4gICAgICAgICAgbGFuZyA6ICdrby1LUicsXHJcbiAgICAgICAgICBwbGFjZWhvbGRlcjogJ+yeke2SiOydmCDshKTrqoXsnYQg7J6F66Cl7ZW07KO87IS47JqULicsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdhcnRpc3RQcm9maWxlQ3RybCcsIGZ1bmN0aW9uICgkdGltZW91dCwgQXJ0aXN0LCAkc3RhdGUsICRzY29wZSkge1xyXG5cclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgdmFyIHVzZXJfaWQgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XHJcblxyXG4gICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAge2lkOiAnMScsIG5hbWU6ICfrtpMg6riA7JSoJ30sXHJcbiAgICAgICB7aWQ6ICcyJywgbmFtZTogJ+2OnCDquIDslKgnfSxcclxuICAgICAgIHtpZDogJzMnLCBuYW1lOiAn66+467aE66WYJ31cclxuICAgICBdLFxyXG4gICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICB9O1xyXG5cclxuXHJcbiAgICAgQXJ0aXN0LnJlYWRBcnRpc3RQcm9maWxlKHVzZXJfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgIGFwcC5hcnRpc3REYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgfVxyXG4gICAgIH0pO1xyXG5cclxuXHJcbiAgLy8g7J6R6rCAIO2UhOuhnO2VhCDsg53shLFcclxuICAgICAgdGhpcy51cGRhdGVBcmlzdFByb2ZpbGUgPSBmdW5jdGlvbihhcnRpc3REYXRhKXtcbiAgICAgICAgY29uc29sZS5sb2coXCLsnpHrj5kg7KSRXCIpO1xuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcbiAgICAgICAgaWYoIWFydGlzdERhdGEpe1xuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICftlYTsiJjquLDsnqzsgqztla3snYQg7J6F66Cl7ZW07KO87IS47JqULic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYoYXBwLmFydGlzdERhdGEuc2hvcnRfaW5mbyA9PT0gdW5kZWZpbmVkIHx8IGFwcC5hcnRpc3REYXRhLnNob3J0X2luZm8gPT09IG51bGwgfHwgYXBwLmFydGlzdERhdGEuc2hvcnRfaW5mbyA9PT0gJycpIHtcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICftlZwg7KSEIOyGjOqwnOulvCDsnoXroKXtlbTso7zshLjsmpQuJztcbiAgICAgICAgICB9IGVsc2UgaWYoYXBwLmFydGlzdERhdGEuZGV0YWlsX2luZm8gPT09IHVuZGVmaW5lZCB8fCBhcHAuYXJ0aXN0RGF0YS5kZXRhaWxfaW5mbyA9PT0gbnVsbCB8fCBhcHAuYXJ0aXN0RGF0YS5kZXRhaWxfaW5mbyA9PT0gJycpIHtcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsg4HshLgg7IaM6rCc66W8IOyeheugpe2VtOyjvOyEuOyalC4nO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcHAuYXJ0aXN0RGF0YSA9IGFydGlzdERhdGE7XG4gICAgICAgICAgICBhcHAuYXJ0aXN0RGF0YS51c2VyX2lkID0gICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcbiAgICAgICAgICAgIC8vIGFwcC5hcnRpc3REYXRhLnVzZXJfdHlwZSA9ICBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZDtcblxuICAgICAgICAgICAgQXJ0aXN0LnVwZGF0ZUFyaXN0UHJvZmlsZShhcHAuYXJ0aXN0RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W07KeAIOyViuydgCDqsJLsnbQg7J6F66Cl65CY7JeI7Iq164uI64ukLic7XG5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XHJcblxyXG59KVxyXG5cclxuLy8g7J6R6rCAIOyekOyLoOydmCDtlITroZztlYRcclxuLmNvbnRyb2xsZXIoJ2FuQXJ0aXN0UGhvdG9DdHJsJywgZnVuY3Rpb24gKEFydGlzdCwgJHN0YXRlUGFyYW1zLCAgJHNjb3BlKSB7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuICAgIHZhciB1c2VyX2lkID0gJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xyXG5cclxuICAgICAgQXJ0aXN0LnJlYWRBcnRpc3RQcm9maWxlKHVzZXJfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLmFydGlzdERhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgQXJ0aXN0LnJlYWRBcmlzdFBob3RvKHVzZXJfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLmFydGlzdFBob3RvcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbn0pXHJcblxyXG5cclxuLy8g7Jes65+sIOyekeqwgOuTpOydmCDtlITroZztlYRcclxuLmNvbnRyb2xsZXIoJ2FydGlzdFBob3RvQ3RybCcsIGZ1bmN0aW9uIChBcnRpc3QsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICB2YXIgYXJ0aXN0X2lkID0gJHN0YXRlUGFyYW1zLmFydGlzdF9pZDtcclxuXHJcbiAgICAgIEFydGlzdC5yZWFkQXJ0aXN0UHJvZmlsZShhcnRpc3RfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLmFydGlzdERhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgQXJ0aXN0LnJlYWRBcmlzdFBob3RvKGFydGlzdF9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuYXJ0aXN0UGhvdG9zID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdib2FyZENvbnRyb2xsZXJzJyxbJ2JvYXJkU2VydmljZXMnXSlcbi5maWx0ZXIoJ3RvX3RydXN0ZWQnLCBbJyRzY2UnLCBmdW5jdGlvbigkc2NlKXtcclxuICAgIHJldHVybiBmdW5jdGlvbih0ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuICRzY2UudHJ1c3RBc0h0bWwodGV4dCk7XHJcbiAgICB9O1xyXG59XSlcblxyXG4uY29udHJvbGxlcignYm9hcmRUYXBDdHJsJywgZnVuY3Rpb24oQm9hcmQsICRzY29wZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgQm9hcmQucmVhZEJvYXJkVGFwKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICRzY29wZS5oZWFkZXJzID0gZGF0YS5kYXRhO1xyXG4gIH0pO1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ2JvYXJkc0N0cmwnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIEJvYXJkLCAkc2NvcGUsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdmFyIGJvYXJkX3R5cGUgPSAkc3RhdGVQYXJhbXMuY29kZTtcclxuXHJcbiAgYXBwLmRhdGEgPSB7XHJcbiAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9LFxyXG4gICAgIHtzb3J0OiAnLXZpZXcnLCBuYW1lOiAn7KGw7ZqM7IicJ30sXHJcbiAgICAge3NvcnQ6ICctY29tbWVudF9jb3VudCcsIG5hbWU6J+uMk+q4gOyInCd9XHJcbiAgIF0sXHJcbiAgIHNlbGVjdGVkT3B0aW9uOiAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICB9O1xyXG5cclxuICAgQm9hcmQucmVhZEJvYXJkcyhib2FyZF90eXBlKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGFwcC5ib2FyZERhdGFzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgfSk7XHJcblxyXG4gICB0aGlzLmNyZWF0ZUJvYXJkID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICBpZighJHNjb3BlLm1haW4udXNlci51c2VyX2lkKXtcclxuICAgICAgICAgJHNjb3BlLm1haW4ubG9naW4oKTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICRzdGF0ZS5nbyhcImFwcC5ib2FyZC5jcmVhdGVcIik7XHJcbiAgICAgICB9XHJcbiAgfTtcclxuXHJcblxyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ2JvYXJkQ3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgQm9hcmQsICRzY29wZSwgJGh0dHAsICRzdGF0ZSwgJHRpbWVvdXQsIENvbW1lbnQsICR3aW5kb3cpe1xyXG4gICAgLy8g67O065OcIOyVhOydtOuUlCDsoITshqFcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgdmFyIGJvYXJkX2lkID0gJHN0YXRlUGFyYW1zLmJvYXJkX2lkO1xyXG5cclxuICAgIGFwcC5kYXRhID0ge1xyXG4gICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgIHtpZDogJzEnLCBuYW1lOiAn6rO17KeA7IKs7ZWtJ30sXHJcbiAgICAgICB7aWQ6ICcyJywgbmFtZTogJ+yeoe2VmeyCrOyghCd9LFxyXG4gICAgICAge2lkOiAnMycsIG5hbWU6ICfsp4jrrLjsgqztla0nfVxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgIH07XHJcblxyXG4gICAgQ29tbWVudC5yZWFkQm9hcmRDb21tZW50KGJvYXJkX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLmNvbW1lbnREYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgIHRoaXMuY3JlYXRlQ29tbWVudCA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICBpZighJHNjb3BlLm1haW4udXNlci51c2VyX2lkKXtcclxuICAgICAgICAgICAkc2NvcGUubWFpbi5sb2dpbigpO1xyXG4gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgIGlmKCFkYXRhKXtcclxuICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+uMk+q4gOydhCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgIHZhciBjb21tZW50RGF0YSA9IHtcclxuICAgICAgICAgICAgICAgY29tbWVudCA6IGRhdGEsXHJcbiAgICAgICAgICAgICAgIHVzZXJfaWQgOiAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQsXHJcbiAgICAgICAgICAgICAgIGJvYXJkX2lkIDogYm9hcmRfaWRcclxuICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgQ29tbWVudC5jcmVhdGVDb21tZW50KGNvbW1lbnREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICQoJyNzdW1tZXJub3RlJykuc3VtbWVybm90ZSh7XHJcbiAgICAgICAgaGVpZ2h0IDogMzUwLFxyXG4gICAgICAgIGxhbmcgOiAna28tS1InLFxyXG4gICAgICAgIHBsYWNlaG9sZGVyOiAn64yT6riA7J2AIDEsMDAw7J6Q6rmM7KeAIOyekeyEse2VoCDsiJgg7J6I7Jy866mwIOyjvOygnOyZgCDrrLTqtIDtlZwg64yT6riALCDslYXshLEg64yT6riA7J2AIOyCreygnOuQoCDsiJgg7J6I7Iq164uI64ukLicsXHJcblxyXG4gICAgICB9KTtcclxuICAgIH0pO1xuXHJcbiAgICB0aGlzLmNyZWF0ZUJvYXJkID0gZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICBpZihhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZCA9PT0gJzAnKXtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfqsozsi5zquIDsnZgg7KKF66WY66W8IOyEoO2Dne2VtOyjvOyEuOyalCc7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2UgaWYocmVzcG9uc2UgPT09IHVuZGVmaW5lZCB8fCByZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gJycpe1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+ygnOuqqeydhCDsnoXroKXtlbTso7zshLjsmpQuJztcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSBpZigkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoJ2NvZGUnKSA9PT0gJzxwPjxicj48L3A+JyB8fCAkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoJ2NvZGUnKSA9PT0gbnVsbCB8fCAkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoJ2NvZGUnKSA9PT0gdW5kZWZpbmVkIHx8ICQoJyNzdW1tZXJub3RlJykuc3VtbWVybm90ZSgnY29kZScpID09PSAnJykge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+uCtOyaqeydhCDsnoXroKXtlbTso7zshLjsmpQuJztcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YXIgY29udGVudCA9ICQoJyNzdW1tZXJub3RlJykuc3VtbWVybm90ZSgnY29kZScpO1xyXG4gICAgICAgICAgdmFyIGJvYXJkX3R5cGUgPSBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZDtcclxuICAgICAgICAgIHZhciB0aXRsZSA9IHJlc3BvbnNlLnRpdGxlO1xyXG4gICAgICAgICAgdmFyIGJvYXJkRGF0YSA9IHtcclxuICAgICAgICAgICAgdGl0bGUgOiB0aXRsZSxcclxuICAgICAgICAgICAgY29udGVudCA6IGNvbnRlbnQsXHJcbiAgICAgICAgICAgIGJvYXJkX3R5cGUgOiBib2FyZF90eXBlLFxyXG4gICAgICAgICAgICB1c2VyX2lkIDogJHNjb3BlLm1haW4udXNlci51c2VyX2lkXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgQm9hcmQuY3JlYXRlQm9hcmQoYm9hcmREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAuYm9hcmQnKTtcclxuICAgICAgICAgICAgICB9LDUwMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBCb2FyZC5yZWFkQm9hcmQoYm9hcmRfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbi8vIOyYpOulmOulvCDsnqHslYTslbztlZjripTrjbAg7Ja065ak7Iud7Jy866GcIOyeoeyVhOyVvO2VmOyngD9cclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5ib2FyZERhdGFzID0gZGF0YS5kYXRhLnJlc3VsdDtcbiAgICAgICAgYXBwLmh0bWxjb250ZW50ID0gZGF0YS5kYXRhLnJlc3VsdC5jb250ZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vXHJcbi8vICAgJHNjb3BlLmRhdGEgPSB7XHJcbi8vICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuLy8gICAgICB7aWQ6ICctMScsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4vLyAgICAgIHtpZDogJzAnLCBuYW1lOiAn6rO17KeA7IKs7ZWtJ30sXHJcbi8vICAgICAge2lkOiAnMScsIG5hbWU6ICftlZnsm5Av7ZmN67O0J30sXHJcbi8vICAgICAge2lkOiAnMicsIG5hbWU6ICfrqqjsnoQv7Iqk7YSw65SUJ31cclxuLy8gICAgXSxcclxuLy8gICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJy0xJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuLy8gICAgfTtcclxuLy9cclxuLy8gICAvLyBpZOyXkCDtlbTri7ntlZjripQg6rCS7J2EIOuztOyXrOyjvOuKlCDtlajsiJhcclxuLy8gICAkc2NvcGUudXNlckFydGljbGUgPSBmYWxzZTtcclxuLy9cclxuLy8gLy8g6rCS7J2EIOyggOyepe2VmOuKlCDtlajsiJhcclxuLy8gICAkc2NvcGUuYWRkQm9hcmQgPSBmdW5jdGlvbih0aXRsZSwgY29udGVudCl7XHJcbi8vIC8vIGVtcGxveWVzcyDsoJzrjIDroZwg64+Z7J6R7ZWY64qU7KeAIO2ZleyduCDtlYTsmpRcclxuLy8gICAgICAgdmFyIGJvYXJkX3R5cGUgPSAkc2NvcGUuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZDtcclxuLy8gICAgICAgJGh0dHAucG9zdCgnYXBpL2JvYXJkTWVudScsXHJcbi8vICAgICAgIHsgdGl0bGU6dGl0bGUsIGNvbnRlbnQ6IGNvbnRlbnQsIGJvYXJkX3R5cGU6IGJvYXJkX3R5cGV9KVxyXG4vLyAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7ICAgICAgICAgIC8vIOygleyDgSDsnpHrj5ntlZjsmIDsirXri4jri6QuXHJcbi8vICAgICAgIH0pO1xyXG4vLyAgIH07XHJcbi8vXHJcbi8vIFx0JHNjb3BlLnNob3dCb2FyZCA9IGZ1bmN0aW9uKCl7XHJcbi8vICAgLy8g67O065OcIOyVhOydtOuUlCDsoITshqFcclxuLy8gICB2YXIgaWQgPSAkc3RhdGVQYXJhbXMuYm9hcmRfaWQ7XHJcbi8vICAgICAkaHR0cC5nZXQoJ2FwaS9ib2FyZC8nK2lkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuLy8gLy8g7IKs7Jqp7J6Q6rCAIOyekeyEse2VnCDqsozsi5zrrLzsnoXri4jri6QuXHJcbi8vICAgICBpZihyZXNwb25zZS5kYXRhWzFdLnN1Y2Nlc3Mpe1xyXG4vLyAgICAgICAkc2NvcGUudXNlckFydGljbGUgPSB0cnVlO1xyXG4vLyAgICAgICAkc2NvcGUuYm9hcmQgPSByZXNwb25zZS5kYXRhWzBdWzBdO1xyXG4vLyAgICAgfVxyXG4vLyAvLyDsgqzsmqnsnpDqsIAg7J6R7ISx7ZWcIOqyjOyLnOusvOydtCDslYTri5nri4jri6QuXHJcbi8vICAgICBlbHNlIHtcclxuLy8gICAgICAgJHNjb3BlLnVzZXJBcnRpY2xlID0gZmFsc2U7XHJcbi8vICAgICAgICRzY29wZS5ib2FyZCA9IHJlc3BvbnNlLmRhdGFbMF1bMF07XHJcbi8vICAgICB9XHJcbi8vICAgfSk7XHJcbi8vIH07XHJcbi8vXHJcbi8vXHJcbi8vICAgLy8g6rCS7J2EIOyCreygnO2VmOuKlCDtlajsiJhcclxuLy8gXHQkc2NvcGUuZGVsZXRlQm9hcmQgPSBmdW5jdGlvbigpe1xyXG4vLyAgICAgdmFyIGlkID0gJHN0YXRlUGFyYW1zLmJvYXJkX2lkO1xyXG4vLyBcdFx0JGh0dHAuZGVsZXRlKCdhcGkvYm9hcmQvJytpZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbi8vICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJ2FwcC5ib2FyZC5jYXRlZ29yeSh7Y29kZTogMH0pJyk7XHJcbi8vIFx0XHR9KTtcclxuLy8gXHR9O1xyXG4vL1xyXG4vLyAgIFx0Ly8g6rCS7J2EIOyImOygle2VmOuKlCDtlajsiJhcclxuLy8gICBcdCRzY29wZS51cGRhdGVCb2FyZCA9IGZ1bmN0aW9uKCl7XHJcbi8vICAgXHRcdHZhciBpZCA9ICRzdGF0ZVBhcmFtcy5ib2FyZF9pZDtcclxuLy8gICBcdFx0JGh0dHAucHV0KCdhcGkvYm9hcmQvJytpZCAsICRzY29wZS5ib2FyZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbi8vICAgXHRcdFx0JHNjb3BlLmJvYXJkID0gcmVzcG9uc2UuZGF0YTtcclxuLy8gICAgICAgICAkbG9jYXRpb24ucGF0aCgnYm9hcmQnKTtcclxuLy8gICBcdFx0fSk7XHJcbi8vICAgXHR9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2dhbGxlcnRDb250cm9sbGVycycsWydnYWxsZXJ5U2VydmljZXMnXSlcclxuLmZpbHRlcigndG9fdHJ1c3RlZCcsIFsnJHNjZScsIGZ1bmN0aW9uKCRzY2Upe1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHRleHQpIHtcclxuICAgICAgICByZXR1cm4gJHNjZS50cnVzdEFzSHRtbCh0ZXh0KTtcclxuICAgIH07XHJcbn1dKVxyXG5cclxuLmNvbnRyb2xsZXIoJ2dhbGxlcnlUYXBDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBHYWxsZXJ5KXtcclxuICAvLyDsoITssrQg66mU64m0IOqwgOyguOyYpOq4sFxyXG4gIEdhbGxlcnkucmVhZEdhbGxlcnlUYXAoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAkc2NvcGUuaGVhZGVycyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdnYWxsZXJ5UGhvdG9zQ3RybCcsIGZ1bmN0aW9uKEdhbGxlcnksICRzdGF0ZVBhcmFtcyl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdmFyIHBob3RvX3R5cGUgPSAkc3RhdGVQYXJhbXMuY29kZTtcclxuICBhcHAuZGF0YSA9IHtcclxuICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgIHtzb3J0OiAnLWNyZWF0ZWQnLCBuYW1lOiAn7LWc7Iug7IicJ30sXHJcbiAgICAge3NvcnQ6ICctdmlldycsIG5hbWU6ICfsobDtmozsiJwnfSxcclxuICAgICB7c29ydDogJy1jb21tZW50X2NvdW50JywgbmFtZTon64yT6riA7IicJ31cclxuICAgXSxcclxuICAgc2VsZWN0ZWRPcHRpb246ICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgIH07XHJcblxyXG4gICAgR2FsbGVyeS5yZWFkUGhvdG9zKHBob3RvX3R5cGUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAucGhvdG9EYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICBjb25zb2xlLmxvZyhhcHAucGhvdG9EYXRhKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignZ2FsbGVyeVBob3RvQ3RybCcsIGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMsIEdhbGxlcnksIENvbW1lbnQsICRzY29wZSwgJHdpbmRvdywgJHN0YXRlKSB7XHJcblxyXG4gICB2YXIgYXBwID0gdGhpcztcclxuICAgdmFyIHBob3RvX2lkID0gJHN0YXRlUGFyYW1zLnBob3RvX2lkO1xyXG4gICB2YXIgcGhvdG9fdHlwZSA9ICRzdGF0ZVBhcmFtcy5waG90b190eXBlO1xyXG4gICB2YXIgdXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuXHJcbiAgIEdhbGxlcnkucmVhZFBob3RvRGF0YShwaG90b19pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICBhcHAucGhvdG9EYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgIGFwcC5odG1sY29udGVudCA9IGRhdGEuZGF0YS5yZXN1bHQucGhvdG9fZGV0YWlsO1xyXG4gICAgICAgY29uc29sZS5sb2coYXBwLmh0bWxjb250ZW50KTtcclxuICAgICB9IGVsc2Uge1xyXG4gICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgfVxyXG4gICB9KTtcclxuXHJcbiAgIEdhbGxlcnkucmVhZFBob3RvcyhwaG90b190eXBlKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgIGFwcC5waG90b3NEYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICB9IGVsc2Uge1xyXG4gICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgfVxyXG4gICB9KTtcclxuXHJcbiAgIENvbW1lbnQucmVhZENvbW1lbnQocGhvdG9faWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgYXBwLmNvbW1lbnREYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICB9IGVsc2Uge1xyXG4gICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgfVxyXG4gICB9KTtcclxuXHJcbiAgIHRoaXMuY3JlYXRlQ29tbWVudCA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgaWYoISRzY29wZS5tYWluLnVzZXIudXNlcl9pZCl7XHJcbiAgICAgICAgICRzY29wZS5tYWluLmxvZ2luKCk7XHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICBpZighZGF0YSl7XHJcbiAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn64yT6riA7J2EIOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICB2YXIgY29tbWVudERhdGEgPSB7XHJcbiAgICAgICAgICAgICBjb21tZW50IDogZGF0YSxcclxuICAgICAgICAgICAgIHVzZXJfaWQgOiAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQsXHJcbiAgICAgICAgICAgICBwaG90b19pZCA6IHBob3RvX2lkXHJcbiAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgQ29tbWVudC5jcmVhdGVDb21tZW50KGNvbW1lbnREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9KTtcclxuICAgICAgICAgfVxyXG4gICAgICAgfVxyXG4gIH07XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuLy8gLy8g6rCS7J2EIOyCreygnO2VmOuKlCDtlajsiJhcclxuLy8gICAkc2NvcGUuZGVsZXRlUGhvdG8gPSBmdW5jdGlvbigpe1xyXG4vLyAgICAgIHZhciBpZCA9ICRzdGF0ZVBhcmFtcy5waG90b19pZDtcclxuLy8gICAgICRodHRwLmRlbGV0ZSgnL2FwaS9nYWxsZXJ5LycraWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4vLyAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnYXBwLmdhbGxlcnkuY2F0ZWdvcnkoe2NvZGU6IDB9KScpO1xyXG4vLyAgICAgfSk7XHJcbi8vICAgfTtcclxuLy9cclxuLy9cclxuLy8gLy8g6rCc67OEIOyCrOynhCDqtIDroKjrkJwg7J2066+47KeAIOqwgOyguOyYpOq4sCB8fCDshKDtg53tlZwg7J2066+47KeA7JmAIOqwmeydgCDrtoTrpZjsnZgg7J2066+47KeAIOqwgOyguOyYpOq4sFxyXG4vLyAgICRzY29wZS5nZXRSZWxhdGVkUGljID0gZnVuY3Rpb24oKXtcclxuLy8gICAgIHZhciBjb2RlID0gJHN0YXRlUGFyYW1zLnBob3RvX3R5cGU7XHJcbi8vICAgICAkaHR0cC5nZXQoJy9hcGkvZ2FsbGVyeU1lbnUvJytjb2RlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuLy8gICAgICAgJHNjb3BlLnBob3RvcyA9IHJlc3BvbnNlLmRhdGE7XHJcbi8vICAgICB9KTtcclxuLy8gICB9O1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ0hvbWVDdHJsJywgZnVuY3Rpb24gKCAkaHR0cCwgJHNjb3BlKSB7XHJcblxyXG4gICRzY29wZS5nZXRDb250ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgICRodHRwLmdldCgnL2FwaS9ob21lJykudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICRzY29wZS5waG90b3MgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnbWFpbkNvbnRyb2xsZXJzJyxbJ2F1dGhTZXJ2aWNlcycsICd1c2VyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ21haW5DdHJsJywgZnVuY3Rpb24oQXV0aCwgJHRpbWVvdXQsICRsb2NhdGlvbiwgJHN0YXRlLCAkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3csICRpbnRlcnZhbCwgVXNlciwgQXV0aFRva2VuKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgYXBwLmxvYWRtZSA9IGZhbHNlO1xyXG5cclxuICAkc2NvcGUuJG9uKCdMT0FEJywgZnVuY3Rpb24oKXtcclxuICAgICRzY29wZS5sb2FkaW5nID0gdHJ1ZTtcclxuICB9KTtcclxuXHJcbiAgJHNjb3BlLiRvbignVU5MT0FEJywgZnVuY3Rpb24oKXtcclxuICAgICRzY29wZS5sb2FkaW5nID0gZmFsc2U7XHJcbiAgfSk7XHJcblxyXG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uKCl7XHJcbiAgICBpZighY2hlY2tTZXNzaW9uKSB7XHJcbiAgICAgIGNoZWNrU2Vzc2lvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYoQXV0aC5pc0xvZ2dlZEluKCkpe1xyXG4gICAgICAgIGFwcC5pc0xvZ2dlZEluID0gdHJ1ZTtcclxuICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICBBdXRoLmdldFVzZXIoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgYXBwLnVzZXIgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICAgIFVzZXIuZ2V0UGVybWlzc2lvbigpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICBpZihkYXRhLmRhdGEucGVybWlzc2lvbiA9PT0gJ2FkbWluJyl7XHJcbiAgICAgICAgICAgICAgICBhcHAuYXV0aG9yaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB9IGVsc2UgaWYoZGF0YS5kYXRhLnBlcm1pc3Npb24gPT09ICdhcnRpc3QnKXtcclxuICAgICAgICAgICAgICAgIGFwcC5wZXJtaXNzaW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYXBwLmF1dGhvcml6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGFwcC5hdXRob3JpemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC51c2VyID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmlzTG9nZ2VkSW4gPSBmYWxzZTtcclxuICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB2YXIgY2hlY2tTZXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgIGlmKEF1dGguaXNMb2dnZWRJbigpKXtcclxuICAgICAgYXBwLmNoZWNrU2Vzc2lvbiA9IHRydWU7XHJcbiAgICAgIHZhciBpbnRlcnZhbCA9ICRpbnRlcnZhbChmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciB0b2tlbiA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcbiAgICAgICAgaWYodG9rZW4gPT09IG51bGwpe1xyXG4gICAgICAgICAgJGludGVydmFsLmNhbmNlbChpbnRlcnZhbCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlbGYucGFyc2VKd3QgPSBmdW5jdGlvbih0b2tlbil7XHJcbiAgICAgICAgICAgIHZhciBiYXNlNjRVcmwgPSB0b2tlbi5zcGxpdCgnLicpWzFdO1xyXG4gICAgICAgICAgICB2YXIgYmFzZTY0ID0gYmFzZTY0VXJsLnJlcGxhY2UoJy0nLCcrJykucmVwbGFjZSgnXycsICcvJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKCR3aW5kb3cuYXRvYihiYXNlNjQpKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB2YXIgZXhwaXJlVGltZSA9IHNlbGYucGFyc2VKd3QodG9rZW4pO1xyXG4gICAgICAgICAgdmFyIHRpbWVTdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xyXG4gICAgICAgICAgdmFyIHRpbWVDaGVjayA9IGV4cGlyZVRpbWUuZXhwIC0gdGltZVN0YW1wO1xyXG5cclxuICAgICAgICAgIGlmKHRpbWVDaGVjayA8PSA1KXtcclxuICAgICAgICAgICAgc2hvd01vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sIDIwMDApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNoZWNrU2Vzc2lvbigpO1xyXG5cclxuXHJcbiAgICBhcHAucmVuZXdTZXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgICAgYXBwLmNob2ljZU1hZGUgPSB0cnVlO1xyXG4gICAgICBVc2VyLnJlbmV3U2Vzc2lvbihhcHAudXNlci51c2VybmFtZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oZGF0YS5kYXRhLnRva2VuKTtcclxuICAgICAgICAgIGNoZWNrU2Vzc2lvbigpO1xyXG4gICAgICAgICAgaGlkZU1vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgfSBlbHNle1xyXG4gICAgICAgICAgYXBwLk1vZGFsQm9keSA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgaGlkZU1vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgYXBwLmVuZFNlc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgICBhcHAuY2hvaWNlTWFkZSA9IHRydWU7XHJcbiAgICAgIGhpZGVNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIHNob3dNb2RhbCgnbG9nb3V0Jyk7XHJcbiAgICAgIH0sNTAwKTtcclxuICAgIH07XHJcblxyXG5cclxuICB2YXIgc2hvd01vZGFsID0gZnVuY3Rpb24ob3B0aW9uKXtcclxuICAgIGFwcC5jaG9pY2VNYWRlID0gZmFsc2U7XHJcbiAgICBhcHAubW9kYWxIZWFkZXIgPSB1bmRlZmluZWQ7XHJcbiAgICBhcHAubW9kYWxCb2R5ID0gdW5kZWZpbmVkO1xyXG4gICAgYXBwLmhpZGVCdXR0b24gPSBmYWxzZTtcclxuLy8gY2hlY2sgdG9rZW4gZXhwaXJlZFxyXG4gICAgaWYob3B0aW9uID09PSAgJ2V4cGlyZWQnICl7XHJcbiAgICAgIGFwcC5tb2RhbEhlYWRlciA9ICdUaW1lb3V0IFdhcm5pbmcnO1xyXG4gICAgICBhcHAubW9kYWxCb2R5ID0gJ1lvdXIgc2Vzc2lvbiB3aWxsIGV4cGlyZWQgaW4gNSBtaW51dGVzLiBXb3VsZCB5b3UgbGlrZSB0byByZW5ldyB5b3VyIHNlc3Npb24/JztcclxuICAgICAgJChcIiNteU1vZGFsXCIpLm1vZGFsKHtiYWNrZHJvcDpcInN0YXRpY1wifSk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAnbG9nb3V0Jyl7XHJcbi8vIGxvZ291dFxyXG4gICAgICBhcHAuaGlkZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgIGFwcC5tb2RhbEhlYWRlciA9ICfroZzqt7jslYTsm4MnO1xyXG4gICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoe2JhY2tkcm9wOlwic3RhdGljXCJ9KTtcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICBBdXRoLmxvZ291dCgpO1xyXG4gICAgICAgIGFwcC5pc0xvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgICAgaGlkZU1vZGFsKCdsb2dvdXQnKTtcbiAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xuICAgICAgfSwgMjAwMCk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAnbG9naW4nKXtcclxuLy8gTG9naW5cclxuICAgICAgJChcIiNsb2dpblwiKS5tb2RhbCh7YmFja2Ryb3A6XCJzdGF0aWNcIn0pO1xyXG4gICAgfSAgZWxzZSBpZihvcHRpb24gPT09J3VwbG9hZCcpe1xyXG4vLyBlbnJvbGxBcnRpc3RcclxuICAgICAgJChcIiN1cGxvYWRcIikubW9kYWwoe2JhY2tkcm9wOlwic3RhdGljXCJ9KTtcclxuICAgIH1cclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICBpZighYXBwLmNob2ljZU1hZGUpe1xyXG4gICAgICAgICAgaGlkZU1vZGFsKCdsb2dvdXQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIDQwMDApO1xyXG5cclxuICB9O1xyXG5cclxuICB2YXIgaGlkZU1vZGFsID0gZnVuY3Rpb24ob3B0aW9uKXtcclxuXHJcbiAgICBpZihvcHRpb24gPT09ICdleHBpcmVkJyl7XHJcbiAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ2xvZ291dCcpe1xyXG4gICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoJ2hpZGUnKTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICdsb2dpbicpe1xyXG4gICAgICAkKFwiI2xvZ2luXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAndXBsb2FkJyl7XHJcbiAgICAgICQoXCIjdXBsb2FkXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcblxyXG4vLyDroZzqt7jsnbhcclxuICB0aGlzLmRvTG9naW4gPSBmdW5jdGlvbihsb2dpbkRhdGEsIHZhbGlkKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmV4cGlyZWQgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgaWYodmFsaWQpe1xyXG4gICAgICBBdXRoLmxvZ2luKGFwcC5sb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAgICAgICAgIGFwcC5sb2dpbkRhdGEgPSBudWxsO1xyXG4gICAgICAgICAgICBhcHAuaXNMb2dnZWRJbiA9IHRydWU7XHJcbiAgICAgICAgICAgIGNoZWNrU2Vzc2lvbigpO1xyXG4gICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICB9LDIwMDApO1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5leHBpcmVkKXtcclxuICAgICAgICAgICAgYXBwLmV4cGlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIElmIGVycm9yIG9jY3VycywgcmVtb3ZlIGRpc2FibGUgbG9jayBmcm9tIGZvcm1cclxuICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBib290c3RyYXAgbG9hZGluZyBpY29uXHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBEaXNwbGF5IGVycm9yIGlmIHZhbGlkIHJldHVybnMgZmFsc2VcclxuICAgIH1cclxuXHJcbiAgfTtcclxuXHJcblxyXG5cclxuLy8g7IKs7Jqp7J6Q7J2YIOq2jO2VnCDsl6zrtoAg7ZmV7J24XHJcbiAgdGhpcy51cGxvYWQgPSBmdW5jdGlvbigpe1xyXG4gIGFwcC5jaG9pY2VNYWRlID0gdHJ1ZTtcclxuICAgIGlmKGFwcC5hdXRob3JpemVkID09PSB0cnVlIHx8IGFwcC5wZXJtaXNzaW9uID09PSB0cnVlKSB7XHJcbiAgICAgICRzdGF0ZS5nbygnYXBwLmFydGlzdFByb2ZpbGVzJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBVc2VyLmNoZWNrUGVybWlzc2lvbihhcHAudXNlci51c2VybmFtZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oJ2FwcC5hcnRpc3RQcm9maWxlcycpO1xyXG4gICAgICAgICAgIGFwcC5wZXJtaXNzaW9uID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2hvd01vZGFsKCd1cGxvYWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9O1xyXG5cclxuICAvLyDsgqzsmqnsnpDsl5Dqsowg6raM7ZWcIOu2gOyXrFxyXG4gICAgdGhpcy5kb1Blcm1pc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgICBhcHAuY2hvaWNlTWFkZSA9IHRydWU7XHJcbiAgICAgIGFwcC51cGxvYWREaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIGFwcC51cGxvYWRlcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICBVc2VyLnJlc2V0UGVybWlzc2lvbihhcHAudXNlcikudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAudXBsb2FkRGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgYXBwLnVwbG9hZFN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGhpZGVNb2RhbCgndXBsb2FkJyk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwLmFydGlzdFByb2ZpbGVzJyk7XHJcbiAgICAgICAgICB9LDIwMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAudXBsb2FkRGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC51cGxvYWRlcnJvck1zZyA9ICfsnpjrqrvrkJwg7KCV67O06rCAIOyeheugpeuQmOyXiOyKteuLiOuLpC4nO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgYXBwLmxvZ2luID0gZnVuY3Rpb24oKXtcclxuICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgc2hvd01vZGFsKCdsb2dpbicpO1xyXG4gIH07XHJcblxyXG4gIGFwcC5sb2dvdXQgPSBmdW5jdGlvbigpe1xyXG4gICAgc2hvd01vZGFsKCdsb2dvdXQnKTtcclxuICB9O1xyXG5cclxuICBhcHAucmVzZW5kID0gZnVuY3Rpb24oKXtcclxuICAgIGhpZGVNb2RhbCgnbG9naW4nKTtcclxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICRzdGF0ZS5nbygncmVzZW5kJyk7XHJcbiAgICAgIGFwcC5leHBpcmVkID0gZmFsc2U7XHJcbiAgICB9LDUwMCk7XHJcbiAgfTtcclxuXHJcbiAgYXBwLnJlc2V0dXNlcm5hbWUgPSBmdW5jdGlvbigpe1xyXG4gICAgaGlkZU1vZGFsKCdsb2dpbicpO1xyXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgJHN0YXRlLmdvKCdyZXNldHVzZXJuYW1lJyk7XHJcbiAgICB9LDUwMCk7XHJcbiAgfTtcclxuXHJcbiAgYXBwLnJlc2V0cGFzc3dvcmQgPSBmdW5jdGlvbigpe1xyXG4gICAgaGlkZU1vZGFsKCdsb2dpbicpO1xyXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgJHN0YXRlLmdvKCdyZXNldHBhc3N3b3JkJyk7XHJcbiAgICB9LDUwMCk7XHJcblxyXG4gIH07XHJcblxyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdtYWluTWVudUNvbnRyb2xsZXInLCBmdW5jdGlvbiAoJGh0dHAsICRzY29wZSkge1xyXG4gICRodHRwLmdldCgnL2FwaS9oZWFkZXInKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICRzY29wZS5oZWFkZXJzID0gcmVzcG9uc2UuZGF0YTtcclxuICB9KTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdlbWFpbENvbnRyb2xsZXJzJyxbJ3VzZXJTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignZW1haWxDdHJsJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBVc2VyLmFjdGl2ZUFjY291bnQoJHN0YXRlUGFyYW1zLnRva2VuKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgfSwyMDAwKTtcclxuICAgIH1lbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICB9LDIwMDApO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Jlc2VuZEN0cmwnLCBmdW5jdGlvbihVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICBhcHAgPSB0aGlzO1xyXG4gIHRoaXMuY2hlY2tDcmVkZW50aWFscyA9IGZ1bmN0aW9uKGxvZ2luRGF0YSl7XHJcbiAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgIFVzZXIuY2hlY2tDcmVkZW50aWFscyh0aGlzLmxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIFVzZXIucmVzZW5kTGluayhhcHAubG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAgICAgfSwyMDAwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfWVsc2Uge1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3VzZXJuYW1lQ3RybCcsIGZ1bmN0aW9uKFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHRoaXMuc2VuZFVzZXJuYW1lID0gZnVuY3Rpb24odXNlckRhdGEsIHZhbGlkKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGlmKHZhbGlkKXtcclxuICAgICAgVXNlci5zZW5kVXNlcm5hbWUoYXBwLnVzZXJEYXRhLmVtYWlsKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsnbTrqZTsnbwg7KO87IaM6rCAIOyVhOuLmeuLiOuLpC4nO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncGFzc3dvcmRDdHJsJywgZnVuY3Rpb24oVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgYXBwLnNlbmRQYXNzd29yZCA9IGZ1bmN0aW9uKHJlc2V0RGF0YSwgdmFsaWQpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgaWYodmFsaWQpe1xyXG4gICAgICBVc2VyLnNlbmRQYXNzd29yZChhcHAucmVzZXREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDslYTsnbTrlJTqsIAg7JWE64uZ64uI64ukLic7XHJcbiAgICB9XHJcbiAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdyZXNldEN0cmwnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsICRzY29wZSwgVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gICAgYXBwLmhpZGUgPSB0cnVlOyAvLyBIaWRlIGZvcm0gdW50aWwgdG9rZW4gY2FuIGJlIHZlcmlmaWVkIHRvIGJlIHZhbGlkXHJcblxyXG4gICAgLy8gRnVuY3Rpb24gdG8gY2hlY2sgaWYgdG9rZW4gaXMgdmFsaWQgYW5kIGdldCB0aGUgdXNlcidzIGluZm8gZnJvbSBkYXRhYmFzZSAocnVucyBvbiBwYWdlIGxvYWQpXHJcbiAgICBVc2VyLnJlc2V0UGFzc3dvcmQoJHN0YXRlUGFyYW1zLnRva2VuKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAvLyBDaGVjayBpZiB1c2VyIHdhcyByZXRyaWV2ZWRcclxuICAgICAgICBpZiAoZGF0YS5kYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgYXBwLmhpZGUgPSBmYWxzZTsgLy8gU2hvdyBmb3JtXHJcbiAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1zdWNjZXNzJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9ICfsg4jroZzsmrQg67mE67CA67KI7Zi466W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBMZXQgdXNlciBrbm93IHRoZXkgY2FuIGVudGVyIG5ldyBwYXNzd29yZFxyXG4gICAgICAgICAgICAkc2NvcGUudXNlcm5hbWUgPSBkYXRhLmRhdGEudXNlclswXS51c2VybmFtZTsgLy8gU2F2ZSB1c2VybmFtZSBpbiBzY29wZSBmb3IgdXNlIGluIHNhdmVQYXNzd29yZCgpIGZ1bmN0aW9uXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LWRhbmdlcic7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7IC8vIEdyYWIgZXJyb3IgbWVzc2FnZSBmcm9tIEpTT04gb2JqZWN0XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gRnVuY3Rpb24gdG8gc2F2ZSB1c2VyJ3MgbmV3IHBhc3N3b3JkIHRvIGRhdGFiYXNlXHJcbiAgICBhcHAuc2F2ZVBhc3N3b3JkID0gZnVuY3Rpb24ocmVnRGF0YSwgdmFsaWQsIGNvbmZpcm1lZCkge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlOyAvLyBDbGVhciBlcnJvck1zZyB3aGVuIHVzZXIgc3VibWl0c1xyXG4gICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTsgLy8gRGlzYWJsZSBmb3JtIHdoaWxlIHByb2Nlc3NpbmdcclxuICAgICAgICBhcHAubG9hZGluZyA9IHRydWU7IC8vIEVuYWJsZSBsb2FkaW5nIGljb25cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgZm9ybSBpcyB2YWxpZCBhbmQgcGFzc3dvcmRzIG1hdGNoXHJcbiAgICAgICAgaWYgKHZhbGlkICYmIGNvbmZpcm1lZCkge1xyXG4gICAgICAgICAgICBhcHAucmVnRGF0YS51c2VybmFtZSA9ICRzY29wZS51c2VybmFtZTsgLy8gR3JhYiB1c2VybmFtZSBmcm9tICRzY29wZVxyXG5cclxuICAgICAgICAgICAgLy8gUnVuIGZ1bmN0aW9uIHRvIHNhdmUgdXNlcidzIG5ldyBwYXNzd29yZCB0byBkYXRhYmFzZVxyXG4gICAgICAgICAgICBVc2VyLnNhdmVQYXNzd29yZChhcHAucmVnRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBhcHAubG9hZGluZyA9IGZhbHNlOyAvLyBTdG9wIGxvYWRpbmcgaWNvblxyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcGFzc3dvcmQgd2FzIHNhdmVkIHRvIGRhdGFiYXNlXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtc3VjY2Vzcyc7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtmZTrqbTsnLzroZwg7J2064+Z7ZWp64uI64ukLic7IC8vIEdyYWIgc3VjY2VzcyBtZXNzYWdlIGZyb20gSlNPTiBvYmplY3QgYW5kIHJlZGlyZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVkaXJlY3QgdG8gbG9naW4gcGFnZSBhZnRlciAyMDAwIG1pbGxpc2Vjb25kcyAoMiBzZWNvbmRzKVxyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LWRhbmdlcic7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTsgLy8gRW5hYmxlIGZvcm0gdG8gYWxsb3cgdXNlciB0byByZXN1Ym1pdFxyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlOyAvLyBHcmFiIGVycm9yIG1lc3NhZ2UgZnJvbSBKU09OIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtZGFuZ2VyJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICBhcHAubG9hZGluZyA9IGZhbHNlOyAvLyBTdG9wIGxvYWRpbmcgaWNvblxyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTsgLy8gRW5hYmxlIGZvcm0gdG8gYWxsb3cgdXNlciB0byByZXN1Ym1pdFxyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gTGV0IHVzZXIga25vdyBmb3JtIGlzIG5vdCB2YWxpZFxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgndXNlckNvbnRyb2xsZXJzJyxbJ3VzZXJTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcigncmVnQ3RybCcsIGZ1bmN0aW9uICggJGh0dHAsICRsb2NhdGlvbiwgJHRpbWVvdXQsIFVzZXIsIEF1dGgsICRzdGF0ZSkge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gICAgICB0aGlzLnJlZ1N0ZXAxID0gZnVuY3Rpb24ocmVnRGF0YSl7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgaWYoIXJlZ0RhdGEpe1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yVveq0gOyXkCDrj5nsnZjtlbTslbzrp4wg7ZqM7JuQ6rCA7J6F7J2EIOynhO2Wie2VoCDsiJgg7J6I7Iq164uI64ukLic7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmKChyZWdEYXRhLnRlcm1zKSAmJiAocmVnRGF0YS5wcml2YWN5KSkge1xyXG4gICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSAn7JW96rSA7JeQIOyEseqzteyggeycvOuhnCDrj5nsnZjtlZjshajsirXri4jri6QuJztcclxuICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3JlZ2lzdGVyU3RlcDInKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7JW96rSA7JeQIOuPmeydmO2VtOyVvOunjCDtmozsm5DqsIDsnoXsnYQg7KeE7ZaJ7ZWgIOyImCDsnojsirXri4jri6QuJztcclxuICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH07XHJcblxyXG4gICAgLy8g7ZqM7JuQ6rCA7J6FXHJcbiAgICAgIHRoaXMucmVnU3RlcDIgPSBmdW5jdGlvbihyZWdEYXRhLCB2YWxpZCwgY29uZmlybWVkKXtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICBpZih2YWxpZCAmJiBjb25maXJtZWQpe1xyXG4gICAgICAgICAgVXNlci5jcmVhdGUoYXBwLnJlZ0RhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgQXV0aC5sb2dpbihhcHAucmVnRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAgICAgICAgICAgfSwxMDAwKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLmV4cGlyZWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5leHBpcmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTsgLy8gSWYgZXJyb3Igb2NjdXJzLCByZW1vdmUgZGlzYWJsZSBsb2NrIGZyb20gZm9ybVxyXG4gICAgICAgICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBib290c3RyYXAgbG9hZGluZyBpY29uXHJcbiAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gRGlzcGxheSBlcnJvciBpZiB2YWxpZCByZXR1cm5zIGZhbHNlXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdwcm9maWxlQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgVXNlciwgJHRpbWVvdXQsICRzdGF0ZSwgJGh0dHApe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuLy8g6riw67O4IOyCrOyaqeyekCDsoJXrs7Qg6rCA7KC47Jik64qUIO2VqOyImFxyXG4gIHZhciB1c2VybmFtZSA9ICRzY29wZS5tYWluLnVzZXIudXNlcm5hbWU7XHJcbiAgVXNlci5yZWFkUHJvZmlsZXModXNlcm5hbWUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5yZWFkRGF0YSA9IGRhdGEuZGF0YS5wcm9maWxlcztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuXHJcbi8vIOycoOyggCDtlITroZztlYQg7IKs7KeEIOuzgOqyvSDtlajsiJhcclxuICAgIHRoaXMuZmlsZSA9IHt9O1xyXG4gICAgdGhpcy5waG90b0NoYW5nZWQgPSBmdW5jdGlvbihmaWxlcykge1xyXG4gICAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA+IDAgJiYgZmlsZXNbMF0ubmFtZS5tYXRjaCgvXFwuKHBuZ3xqcGVnfGpwZykkLykpIHtcclxuICAgICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdO1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLnRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLnRodW1ibmFpbC5kYXRhVXJsID0gZS50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLnVwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLm1lc3NhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXBwLnRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICAgIGFwcC5tZXNzYWdlID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4vLyDtlITroZztlYQg7J2066+47KeA66W8IOyXheuNsOydtO2KuO2VmOuKlCDtlajsiJhcclxuICAgIHRoaXMudXBkYXRlUHJvZmlsZUltYWdlID0gZnVuY3Rpb24oKXtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgdmFyIHVzZXJfaWQgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XHJcbiAgICAgIGZkLmFwcGVuZCgnbXlmaWxlJywgYXBwLmZpbGUudXBsb2FkKTtcclxuICAgICAgICAkaHR0cC5wdXQoJy9hcGkvdXBsb2FkVGVtcC8nK3VzZXJfaWQsICBmZCwge1xyXG4gICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHksXHJcbiAgICAgICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiB1bmRlZmluZWR9XHJcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH07XHJcblxyXG4vLyDtlITroZztlYQg7KCV67O0IOuzgOqyvVxyXG4gIHRoaXMudXBkYXRlUHJvZmlsZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBhcHAucmVhZERhdGEudXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuICAgIFVzZXIudXBkYXRlUHJvZmlsZXMoYXBwLnJlYWREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgIH0sMjAwMCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG59KTtcclxuIl19

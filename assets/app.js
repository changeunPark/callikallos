angular.module("app",["ui.router","ui.bootstrap","userControllers","mainControllers","emailControllers","artistControllers","gallertControllers","commentControllers","boardControllers","managementControllers","uiCropper"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptors")}]);var app=angular.module("app");app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,a){t.otherwise("/"),a.hashPrefix(""),a.html5Mode(!0),e.state("app",{url:"/",views:{header:{templateUrl:"/menues/mainMenu.html",controller:"mainMenuController"},content:{templateUrl:"/main/home.html"},footer:{templateUrl:"/company/footer.html"}}}).state("management",{url:"/management",templateUrl:"/management/management.html",controller:"managementCtrl",controllerAs:"management",permission:"admin"}).state("registerStep1",{url:"/register/step1",controller:"regCtrl",controllerAs:"register",templateUrl:"/isLoggedOut/registerStep1.html",authenticated:!1}).state("registerStep2",{url:"/register/step2",controller:"regCtrl",controllerAs:"register",templateUrl:"/isLoggedOut/registerStep2.html",authenticated:!1}).state("resetusername",{url:"/resetusername",templateUrl:"/users/reset/username.html",controller:"usernameCtrl",controllerAs:"username"}).state("resetpassword",{url:"/resetpassword",templateUrl:"/users/reset/password.html",controller:"passwordCtrl",controllerAs:"password"}).state("reset",{url:"/reset/:token",templateUrl:"/users/reset/newpassword.html",controller:"resetCtrl",controllerAs:"reset"}).state("activate",{url:"/activate/:token",templateUrl:"/users/activation/activate.html",controller:"emailCtrl",controllerAs:"email"}).state("resend",{url:"/resend",templateUrl:"/users/activation/resend.html",controller:"resendCtrl",controllerAs:"resend"}).state("app.profiles",{url:"profiles",views:{"content@":{templateUrl:"isLoggedIn/userProfiles.html",controller:"profileCtrl",controllerAs:"profile",authenticated:!1}}}).state("app.photos",{url:"photos",views:{"content@":{templateUrl:"isLoggedIn/artistPhotos.html",controller:"anArtistPhotoCtrl",controllerAs:"anArtistPhoto",authenticated:!1}}}).state("app.artistProfiles",{url:"artist",views:{"content@":{templateUrl:"isLoggedIn/artistProfiles.html",controller:"artistProfileCtrl",controllerAs:"artistProfile",authenticated:!0}}}).state("app.intro",{url:"intro",views:{"content@":{templateUrl:"/company/intro.html",authenticated:!1}}}).state("app.terms",{url:"terms",views:{"content@":{templateUrl:"/company/terms.html",authenticated:!1}}}).state("app.privacy",{url:"privacy",views:{"content@":{templateUrl:"/company/privacy.html",authenticated:!1}}}).state("app.artist",{url:"artist/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.artist":{templateUrl:"/partialArtist/artistTap.html",controller:"artistTapCtrl",controllerAs:"artistTap",authenticated:!1},"contents@app.artist":{templateUrl:"/partialArtist/artists.html",controller:"artistsCtrl",controllerAs:"artists",authenticated:!1}}}).state("app.gallery",{url:"gallery/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.gallery":{templateUrl:"/partialGallery/galleryTap.html",controller:"galleryTapCtrl",controllerAs:"galleryTap"},"contents@app.gallery":{templateUrl:"/partialGallery/photos.html",controller:"galleryPhotosCtrl",controllerAs:"galleryPhotos",authenticated:!1}}}).state("app.board",{url:"board/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.board":{templateUrl:"/partialBoard/boardTap.html",controller:"boardTapCtrl",authenticated:!1},"contents@app.board":{templateUrl:"/partialBoard/boards.html",controller:"boardsCtrl",controllerAs:"boards",authenticated:!1}}}).state("app.display",{url:"display/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.display":{templateUrl:"/partialDisplay/displayTap.html",controller:"displayMenuController",authenticated:!1},"contents@app.display":{templateUrl:"/partialDisplay/content.html",controller:"displayMenuController",authenticated:!1}}}).state("app.artist.show",{url:"/artist:artist_id",views:{"contents@app.artist":{templateUrl:"/partialArtist/artist.html",controller:"artistPhotoCtrl",controllerAs:"artistPhoto",authenticated:!1}}}).state("app.gallery.show",{url:"/photo_type=:photo_type/photo:photo_id",views:{"contents@app.gallery":{templateUrl:"/partialGallery/photo.html",controller:"galleryPhotoCtrl",controllerAs:"galleryphoto"}}}).state("app.board.show",{url:"/board:board_id",views:{"contents@app.board":{templateUrl:"partialBoard/board.html",controller:"boardCtrl",controllerAs:"board"}}}).state("app.board.create",{url:"/create",views:{"contents@app.board":{templateUrl:"/partialBoard/boardCreate.html",controller:"boardCtrl",controllerAs:"board",authenticated:!0}}}).state("app.board.edit",{url:"/edit/:board_id",views:{"contents@app.board":{templateUrl:"partialBoard/boardUpdate.html",controller:"boardCtrl",controllerAs:"board",authenticated:!0}}}).state("app.gallery.edit",{url:"/edit/:photo_id",views:{"content@":{templateUrl:"/partialGallery/photoEdit.html",controller:"galleryPhotoCtrl",controllerAs:"galleryphoto"}}})}]),app.run(["$rootScope","User","$state",function(e,t,a){e.$on("$stateChangeStart",function(e,a,r,o,s,n){"admin"===a.permission&&t.getPermission().then(function(e){})}),e.$on("$stateChangeError",function(e,t,r,o,s,n){a.go("app")})}]),angular.module("commentControllers",["commentServices"]).controller("commentCtrl",["$scope","$http","$stateParams","$state","$window","Comment",function(e,t,a,r,o,s){var n=a.photo_id;this.createComment=function(t){if(e.main.user.user_id)if(t){var a={comment:t,user_id:e.main.user.user_id,photo_id:n};s.createComment(a).then(function(e){e.data.success&&r.reload()})}else o.alert("댓글을 입력해주세요.");else e.main.login()},e.deleteComment=function(e){var a=e.comment_id;t.delete("/api/comment/"+a).then(function(e){r.reload()})}}]),angular.module("app").controller("ImageCropCtrl",["$scope","$http",function(e,t){function a(e){var t=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?new Error("Invalid input string"):{type:t[1],data:t[2]}}var r=this;r.myImage="",r.myCroppedImage="";var o=function(t){e.imageuploaded=!1;var a=t.currentTarget.files[0],o=new FileReader;o.onload=function(t){e.$apply(function(e){r.myImage=t.target.result})},o.readAsDataURL(a)};angular.element(document.querySelector("#fileInput")).on("change",o),r.readCropImage=function(r){if(""===r.base64Url||null===r.base64Url||void 0===r.base64Url)console.log("이미지를 선택해주세요.");else{var o=a(e.myCroppedImage);t.post("/uploadImage",o).then(function(t){t.data.success&&(console.log(t.data.filePath),e.imageuploaded=!0)})}}}]),angular.module("managementControllers",[]).controller("managementCtrl",function(){console.log("작동 중")}),angular.module("app").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,a,r){var o=e(r.fileModel),s=o.assign;a.bind("change",function(){t.$apply(function(){s(t,a[0].files[0])})})}}}]),angular.module("app").directive("match",function(){return{restrict:"A",controller:["$scope",function(e){e.doConfirm=function(t){e.confirmed=!1,t.forEach(function(t){e.confirm==t?e.confirmed=!0:e.confirmed=!1})}}],link:function(e,t,a){a.$observe("match",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)}),e.$watch("confirm",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)})}}}),angular.module("artistServices",[]).factory("Artist",["$http",function(e){return artistFactory={},artistFactory.readArtistTap=function(){return e.get("/api/artistMenu")},artistFactory.readArtists=function(t){return e.get("/api/artistMenu/"+t)},artistFactory.readArtist=function(t){return e.get("/api/artist/"+t)},artistFactory.createAristPhoto=function(t){return e.post("/api/artistProfiles",t)},artistFactory.updateAristProfile=function(t){return e.put("/api/artistProfiles",t)},artistFactory.readArtistProfile=function(t){return e.get("/api/artistProfiles/"+t)},artistFactory.readAristPhoto=function(t){return e.get("/api/artistPhotos/"+t)},artistFactory}]),angular.module("authServices",[]).factory("Auth",["$http","AuthToken",function(e,t){var a={};return a.getUser=function(){if(t.getToken())return e.post("/api/me");$q.reject({message:"User has no token"})},a.login=function(a){return e.post("/api/authenticate",a).then(function(e){return t.setToken(e.data.token),e})},a.isLoggedIn=function(){return!!t.getToken()},a.logout=function(){t.setToken()},a}]).factory("AuthToken",["$window",function(e){var t={};return t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token",t)},t.getToken=function(){return e.localStorage.getItem("token")},t}]).factory("AuthInterceptors",["AuthToken",function(e){var t={};return t.request=function(t){var a=e.getToken();return a&&(t.headers["x-access-token"]=a),t},t}]),angular.module("boardServices",[]).factory("Board",["$http",function(e){return boardFactory={},boardFactory.readBoardTap=function(){return e.get("/api/boardMenu")},boardFactory.readBoards=function(t){return e.get("/api/boardMenu/"+t)},boardFactory.readBoard=function(t){return e.get("api/board/"+t)},boardFactory.createBoard=function(t){return e.post("/api/boardMenu",t)},boardFactory}]),angular.module("commentServices",[]).factory("Comment",["$http",function(e){return commentFactory={},commentFactory.createComment=function(t){return e.post("/api/comment",t)},commentFactory.readComment=function(t){return e.get("/api/comment/"+t)},commentFactory.readBoardComment=function(t){return e.get("/api/commentBoard/"+t)},commentFactory}]),angular.module("galleryServices",[]).factory("Gallery",["$http",function(e){return galleryFactory={},galleryFactory.readGalleryTap=function(){return e.get("/api/galleryMenu")},galleryFactory.readPhotos=function(t){return e.get("/api/galleryMenu/"+t)},galleryFactory.readPhotoData=function(t){return e.get("/api/gallery/"+t)},galleryFactory.readMorePhoto=function(t){return e.get("/api/galleryMenu/"+t)},galleryFactory}]),angular.module("userServices",[]).factory("User",["$http",function(e){return userFactory={},userFactory.getPermission=function(){return e.get("/api/permission")},userFactory.create=function(t){return e.post("/api/users",t)},userFactory.activeAccount=function(t){return e.put("/api/activate/"+t)},userFactory.checkCredentials=function(t){return e.post("/api/resend",t)},userFactory.resendLink=function(t){return e.put("/api/resend",t)},userFactory.sendUsername=function(t){return e.get("/api/resetusername/"+t)},userFactory.sendPassword=function(t){return e.put("/api/resetpassword",t)},userFactory.resetPassword=function(t){return e.get("/api/resetpassword/"+t)},userFactory.savePassword=function(t){return e.put("/api/savepassword",t)},userFactory.renewSession=function(t){return e.get("/api/renewToken/"+t)},userFactory.resetPermission=function(t){return e.put("/api/users/",t)},userFactory.checkPermission=function(t){return e.get("/api/users/"+t)},userFactory.readProfiles=function(t){return e.get("/api/userProfiles/"+t)},userFactory.updateProfiles=function(t){return e.put("/api/userProfiles",t)},userFactory}]),angular.module("mainControllers",["authServices","userServices"]).controller("mainCtrl",["Auth","$timeout","$location","$state","$rootScope","$scope","$window","$interval","User","AuthToken",function(e,t,a,r,o,s,n,i,l,d){var c=this;c.loadme=!1,s.$on("LOAD",function(){s.loading=!0}),s.$on("UNLOAD",function(){s.loading=!1}),o.$on("$stateChangeStart",function(){u?e.isLoggedIn()?(c.isLoggedIn=!0,c.loadme=!0,e.getUser().then(function(e){c.user=e.data,c.loadme=!0,l.getPermission().then(function(e){e.data.success?"admin"===e.data.permission?(c.authorized=!0,c.loadme=!0):"artist"===e.data.permission?(c.permission=!0,c.loadme=!0):(c.permission=!1,c.authorized=!1,c.loadme=!0):(c.permission=!1,c.authorized=!1,c.loadme=!0)})})):(c.user=!1,c.isLoggedIn=!1,c.loadme=!0):u()});var u=function(){if(e.isLoggedIn()){c.checkSession=!0;var t=i(function(){var e=n.localStorage.getItem("token");if(null===e)i.cancel(t);else{self.parseJwt=function(e){var t=e.split(".")[1],a=t.replace("-","+").replace("_","/");return JSON.parse(n.atob(a))};var a=self.parseJwt(e),r=Math.floor(Date.now()/1e3);a.exp-r<=5&&(m("expired"),i.cancel(t))}},2e3)}};u(),c.renewSession=function(){c.choiceMade=!0,l.renewSession(c.user.username).then(function(e){e.data.success?(d.setToken(e.data.token),u(),p("expired")):(c.ModalBody=e.data.message,p("expired"))})},c.endSession=function(){c.choiceMade=!0,p("expired"),t(function(){m("logout")},500)};var m=function(a){c.choiceMade=!1,c.modalHeader=void 0,c.modalBody=void 0,c.hideButton=!1,"expired"===a?(c.modalHeader="Timeout Warning",c.modalBody="Your session will expired in 5 minutes. Would you like to renew your session?",$("#myModal").modal({backdrop:"static"})):"logout"===a?(c.hideButton=!0,c.modalHeader="로그아웃",$("#myModal").modal({backdrop:"static"}),t(function(){e.logout(),c.isLoggedIn=!1,p("logout"),r.reload()},2e3)):"login"===a?$("#login").modal({backdrop:"static"}):"upload"===a&&$("#upload").modal({backdrop:"static"}),t(function(){c.choiceMade||p("logout")},4e3)},p=function(e){"expired"===e?$("#myModal").modal("hide"):"logout"===e?$("#myModal").modal("hide"):"login"===e?$("#login").modal("hide"):"upload"===e&&$("#upload").modal("hide")};this.doLogin=function(a,o){c.errorMsg=!1,c.expired=!1,c.disabled=!0,o?e.login(c.loginData).then(function(e){e.data.success?(c.disabled=!0,c.successMsg=e.data.message,t(function(){p("login"),c.loginData=null,c.isLoggedIn=!0,u(),r.reload()},2e3)):e.data.expired?(c.expired=!0,c.disabled=!0,c.errorMsg=e.data.message):(c.disabled=!1,c.errorMsg=e.data.message)}):(c.disabled=!1,c.loading=!1,c.errorMsg="올바른 정보를 입력해주세요.")},this.upload=function(){c.choiceMade=!0,!0===c.authorized||!0===c.permission?r.go("app.artistProfiles"):l.checkPermission(c.user.username).then(function(e){e.data.success?(r.go("app.artistProfiles"),c.permission=!0):m("upload")})},this.doPermission=function(){c.choiceMade=!0,c.uploadDisabled=!0,c.uploaderrorMsg=!1,l.resetPermission(c.user).then(function(e){e.data.success?(c.uploadDisabled=!0,c.uploadSuccessMsg=e.data.message,t(function(){p("upload"),r.go("app.artistProfiles")},2e3)):(c.uploadDisabled=!1,c.uploaderrorMsg="잘못된 정보가 입력되었습니다.")})},c.login=function(){c.successMsg=!1,c.errorMsg=!1,c.disabled=!1,m("login")},c.logout=function(){m("logout")},c.resend=function(){p("login"),t(function(){r.go("resend"),c.expired=!1},500)},c.resetusername=function(){p("login"),t(function(){r.go("resetusername")},500)},c.resetpassword=function(){p("login"),t(function(){r.go("resetpassword")},500)}}]),angular.module("app").controller("mainMenuController",["$http","$scope",function(e,t){e.get("/api/header").then(function(e){t.headers=e.data})}]),angular.module("emailControllers",["userServices"]).controller("emailCtrl",["$stateParams","User","$timeout","$state",function(e,t,a,r){var o=this;t.activeAccount(e.token).then(function(e){o.successMsg=!1,o.errorMsg=!1,e.data.success?(o.disabled=!0,o.successMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3)):(o.errorMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3))})}]).controller("resendCtrl",["User","$timeout","$state",function(e,t,a){app=this,this.checkCredentials=function(r){app.successMsg=!1,app.errorMsg=!1,app.disabled=!0,e.checkCredentials(this.loginData).then(function(r){r.data.success?e.resendLink(app.loginData).then(function(e){e.data.success&&(app.disabled=!0,app.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3))}):(app.disabled=!1,app.errorMsg=r.data.message)})}}]).controller("usernameCtrl",["User","$timeout","$state",function(e,t,a){var r=this;this.sendUsername=function(o,s){r.errorMsg=!1,r.disabled=!0,s?e.sendUsername(r.userData.email).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 이메일 주소가 아닙니다.")}}]).controller("passwordCtrl",["User","$timeout","$state",function(e,t,a){var r=this;r.sendPassword=function(o,s){r.errorMsg=!1,r.disabled=!0,s?e.sendPassword(r.resetData).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 아이디가 아닙니다.")}}]).controller("resetCtrl",["$stateParams","$scope","User","$timeout","$state",function(e,t,a,r,o){var s=this;s.hide=!0,a.resetPassword(e.token).then(function(e){e.data.success?(s.hide=!1,t.alert="alert alert-success",s.successMsg="새로운 비밀번호를 입력해주세요.",t.username=e.data.user[0].username):(t.alert="alert alert-danger",s.errorMsg=e.data.message)}),s.savePassword=function(e,n,i){s.errorMsg=!1,s.successMsg=!1,s.disabled=!0,s.loading=!0,n&&i?(s.regData.username=t.username,a.savePassword(s.regData).then(function(e){s.loading=!1,e.data.success?(t.alert="alert alert-success",s.successMsg=e.data.message+"...메인 화면으로 이동합니다.",r(function(){o.go("app")},2e3)):(t.alert="alert alert-danger",s.disabled=!1,s.errorMsg=e.data.message)})):(t.alert="alert alert-danger",s.loading=!1,s.disabled=!1,s.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("userControllers",["userServices"]).controller("regCtrl",["$http","$location","$timeout","User","Auth","$state",function(e,t,a,r,o,s){var n=this;this.regStep1=function(e){n.errorMsg=!1,e?e.terms&&e.privacy?(n.successMsg="약관에 성공적으로 동의하셨습니다.",n.disabled=!0,s.go("registerStep2")):(n.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다.",n.disabled=!1):n.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다."},this.regStep2=function(e,t,i){n.errorMsg=!1,n.disabled=!0,t&&i?r.create(n.regData).then(function(e){e.data.success?(n.disabled=!0,n.successMsg=e.data.message,o.login(n.regData).then(function(e){e.data.success?(n.disabled=!0,n.successMsg=e.data.message,a(function(){s.go("app")},1e3)):e.data.expired?(n.expired=!0,n.disabled=!0,n.errorMsg=e.data.message):(n.disabled=!1,n.errorMsg=e.data.message)})):(n.disabled=!1,n.errorMsg=e.data.message)}):(n.disabled=!1,n.loading=!1,n.errorMsg="올바른 정보를 입력해주세요.")}}]).controller("profileCtrl",["$scope","User","$timeout","$state","$http",function(e,t,a,r,o){var s=this,n=e.main.user.username;t.readProfiles(n).then(function(e){e.data.success?s.readData=e.data.profiles:s.errorMsg=e.data.message}),this.file={},this.photoChanged=function(e){if(e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var t=e[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){a(function(){s.thumbnail={},s.thumbnail.dataUrl=e.target.result,s.uploading=!1,s.message=!1})}}else s.thumbnail={},s.message=!1},this.updateProfileImage=function(){s.errorMsg=!1,s.disabled=!0,e.$emit("LOAD");var t=new FormData,n=e.main.user.user_id;t.append("myfile",s.file.upload),o.put("/api/uploadTemp/"+n,t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(t){t.data.success?(e.$emit("UNLOAD"),s.successMsg=t.data.message,s.file={},a(function(){r.reload()},1e3)):(e.$emit("UNLOAD"),s.disabled=!1,s.errorMsg=t.data.message,s.file={})})},this.updateProfile=function(){s.errorMsg=!1,s.disabled=!0,s.readData.user_id=e.main.user.user_id,t.updateProfiles(s.readData).then(function(e){e.data.success?(s.successMsg=e.data.message,a(function(){r.reload()},2e3)):(s.errorMsg=e.data.message,s.disabled=!1)})}}]),angular.module("artistControllers",["userServices","artistServices"]).controller("artistTapCtrl",["$scope","Artist",function(e,t){t.readArtistTap().then(function(t){t.data.success?e.headers=t.data.result:app.errorMsg=t.data.message})}]).controller("artistsCtrl",["$stateParams","Artist",function(e,t){var a=this,r=e.code;a.data={availableOptions:[{sort:"-created",name:"최신순"}],selectedOption:{sort:"-created",name:"최신순"}},t.readArtists(r).then(function(e){e.data.success?a.artistDatas=e.data.result:a.errorMsg=e.data.message})}]).controller("uploadPhotoCtrl",["$http","$timeout","$scope","Artist","$state",function(e,t,a,r,o){function s(e){var t=e.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?new Error("Invalid input string"):{type:t[1],data:t[2]}}var n=this;n.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"붓 글씨"},{id:"2",name:"펜 글씨"},{id:"3",name:"미분류"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.file={},this.mainPhotoChanged=function(e){if(e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var a=e[0],r=new FileReader;r.readAsDataURL(a),r.onload=function(e){t(function(){n.mainThumbnail={},n.mainThumbnail.dataUrl=e.target.result})}}else n.mainThumbnail={}},this.readPhoto=function(){n.errorMsg=!1,n.disabled=!0,a.$emit("LOAD");var t=new FormData;t.append("myfile",n.file.upload),e.post("/api/uploadTemp/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),n.disabled=!1,n.successMsg=e.data.message,n.mainImagePath=e.data.photo_path,n.file={}):(a.$emit("UNLOAD"),n.disabled=!1,n.errorMsg=e.data.message,n.file={})})},n.myImage="",n.myCroppedImage="";var i=function(e){a.imageuploaded=!1;var t=e.currentTarget.files[0],r=new FileReader;r.onload=function(e){a.$apply(function(t){n.myImage=e.target.result})},r.readAsDataURL(t)};angular.element(document.querySelector("#fileInput")).on("change",i),n.readCropImage=function(t){if(n.disabled=!0,a.$emit("LOAD"),""===t.base64Url||null===t.base64Url||void 0===t.base64Url)n.disabled=!1,console.log("이미지를 선택해주세요.");else{var r=s(a.myCroppedImage);e.post("/uploadImage",r).then(function(e){e.data.success?(n.disabled=!1,a.$emit("UNLOAD"),n.successMsg=e.data.message,n.thumbnailPath=e.data.filePath,a.imageuploaded=!0):n.disabled=!1})}},this.createPhoto=function(e){n.disabled=!1,n.errorMsg=!1,e?void 0===n.uploadData.title||null===n.uploadData.title||""===n.uploadData.title?n.errorMsg="작품의 제목을 입력해주세요.":void 0===n.uploadData.detail||null===n.uploadData.detail||""===n.uploadData.detail?n.errorMsg="작품의 설명을 입력해주세요.":void 0===n.mainImagePath||null===n.mainImagePath||""===n.mainImagePath?n.errorMsg="작품 이미지를 선택해주세요.":"0"===n.data.selectedOption.id?n.errorMsg="작품의 종류를 선택해주세요.":void 0===n.thumbnailPath||null===n.thumbnailPath||""===n.thumbnailPath?n.errorMsg="썸네일 이미지를 선택해주세요.":(n.uploadData=e,n.uploadData.user_id=a.main.user.user_id,n.uploadData.photo_type=n.data.selectedOption.id,n.uploadData.photo_path=n.mainImagePath,n.uploadData.photo_thumbnail=n.thumbnailPath,r.createAristPhoto(n.uploadData).then(function(e){e.data.success?(n.successMsg=e.data.message,n.disabled=!0,t(function(){o.reload()},2e3)):(n.errorMsg=e.data.message,n.successMsg=!1,n.disabled=!1)})):(n.errorMsg="빈칸을 모두 입력해주세요.",n.successMsg=!1)}}]).controller("artistProfileCtrl",["$timeout","Artist","$state","$scope",function(e,t,a,r){var o=this,s=r.main.user.user_id;o.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"붓 글씨"},{id:"2",name:"펜 글씨"},{id:"3",name:"미분류"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},t.readArtistProfile(s).then(function(e){e.data.success?o.artistData=e.data.result:o.errorMsg=e.data.message}),this.updateAristProfile=function(s){console.log("작동 중"),o.errorMsg=!1,s?void 0===o.artistData.short_info||null===o.artistData.short_info||""===o.artistData.short_info?o.errorMsg="한 줄 소개를 입력해주세요.":void 0===o.artistData.detail_info||null===o.artistData.detail_info||""===o.artistData.detail_info?o.errorMsg="상세 소개를 입력해주세요.":(o.artistData=s,o.artistData.user_id=r.main.user.user_id,t.updateAristProfile(o.artistData).then(function(t){t.data.success?(o.errorMsg=!1,o.successMsg=t.data.message,o.disabled=!0,e(function(){a.reload()},2e3)):o.errorMsg="올바르지 않은 값이 입력되었습니다."})):o.errorMsg="필수기재사항을 입력해주세요."}}]).controller("anArtistPhotoCtrl",["Artist","$stateParams","$scope",function(e,t,a){var r=this,o=a.main.user.user_id;e.readArtistProfile(o).then(function(e){e.data.success?r.artistData=e.data.result:r.errorMsg=e.data.message}),e.readAristPhoto(o).then(function(e){e.data.success?r.artistPhotos=e.data.result:r.errorMsg=e.data.message})}]).controller("artistPhotoCtrl",["Artist","$stateParams",function(e,t){var a=this,r=t.artist_id;e.readArtistProfile(r).then(function(e){e.data.success?a.artistData=e.data.result:a.errorMsg=e.data.message}),e.readAristPhoto(r).then(function(e){e.data.success?a.artistPhotos=e.data.result:a.errorMsg=e.data.message})}]),angular.module("boardControllers",["boardServices"]).filter("to_trusted",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]).controller("boardTapCtrl",["Board","$scope",function(e,t){e.readBoardTap().then(function(e){t.headers=e.data})}]).controller("boardsCtrl",["$stateParams","Board","$scope","$state",function(e,t,a,r){var o=this,s=e.code;o.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},t.readBoards(s).then(function(e){o.boardDatas=e.data.result}),this.createBoard=function(e){a.main.user.user_id?r.go("app.board.create"):a.main.login()}}]).controller("boardCtrl",["$stateParams","Board","$scope","$http","$state","$timeout","Comment","$window",function(e,t,a,r,o,s,n,i){function l(e){data=new FormData,data.append("file",e),console.log(e),$.ajax({url:"/uploadImage",data:data,cache:!1,type:"POST",contentType:!1,processData:!1,success:function(e){$("#summernote").summernote("insertImage",e)}})}var d=this,c=e.board_id;d.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"공지사항"},{id:"2",name:"잡학사전"},{id:"3",name:"질문사항"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},n.readBoardComment(c).then(function(e){e.data.success?d.commentData=e.data.result:d.errorMsg=e.data.message}),this.createComment=function(e){if(a.main.user.user_id)if(e){var t={comment:e,user_id:a.main.user.user_id,board_id:c};n.createComment(t).then(function(e){e.data.success&&o.reload()})}else i.alert("댓글을 입력해주세요.");else a.main.login()},$(document).ready(function(){$("#summernote").summernote({height:350,callbacks:{onImageUpload:function(e){l(e[0])}},lang:"ko-KR",placeholder:"댓글은 1,000자까지 작성할 수 있으며 주제와 무관한 댓글, 악성 댓글은 삭제될 수 있습니다."})}),this.createBoard=function(e){if(d.disabled=!0,d.errorMsg=!1,"0"===d.data.selectedOption.id)d.errorMsg="게시글의 종류를 선택해주세요",d.disabled=!1;else if(void 0===e||null===e||""===e)d.errorMsg="제목을 입력해주세요.",d.disabled=!1;else if("<p><br></p>"===$("#summernote").summernote("code")||null===$("#summernote").summernote("code")||void 0===$("#summernote").summernote("code")||""===$("#summernote").summernote("code"))d.errorMsg="내용을 입력해주세요.",d.disabled=!1;else{var r=$("#summernote").summernote("code"),n=d.data.selectedOption.id,i=e.title,l={title:i,content:r,board_type:n,user_id:a.main.user.user_id};t.createBoard(l).then(function(e){e.data.success?(d.successMsg=e.data.message,s(function(){o.go("app.board")},500)):(d.disabled=!1,d.errorMsg=e.data.message)})}},t.readBoard(c).then(function(e){e.data.success?(d.boardDatas=e.data.result,d.htmlcontent=e.data.result.content):d.errorMsg=e.data.message})}]),angular.module("gallertControllers",["galleryServices"]).controller("galleryTapCtrl",["$scope","Gallery",function(e,t){t.readGalleryTap().then(function(t){t.data.success?e.headers=t.data.result:app.errorMsg=t.data.message})}]).controller("galleryPhotosCtrl",["Gallery","$stateParams",function(e,t){var a=this,r=t.code;a.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},e.readPhotos(r).then(function(e){e.data.success?(a.photoData=e.data.result,console.log(a.photoData)):a.errorMsg=e.data.message})}]).controller("galleryPhotoCtrl",["$stateParams","Gallery","Comment","$scope","$window","$state",function(e,t,a,r,o,s){var n=this,i=e.photo_id,l=e.photo_type;r.main.user.user_id;t.readPhotoData(i).then(function(e){e.data.success?n.photoData=e.data.result:n.errorMsg=e.data.message}),t.readPhotos(l).then(function(e){e.data.success?n.photosData=e.data.result:n.errorMsg=e.data.message}),a.readComment(i).then(function(e){e.data.success?(n.commentData=e.data.result,console.log(n.commentData)):n.errorMsg=e.data.message}),this.createComment=function(e){if(r.main.user.user_id)if(e){var t={comment:e,user_id:r.main.user.user_id,photo_id:i};a.createComment(t).then(function(e){e.data.success&&s.reload()})}else o.alert("댓글을 입력해주세요.");else r.main.login()}}]),angular.module("app").controller("HomeCtrl",["$http","$scope",function(e,t){t.getContent=function(){e.get("/api/home").then(function(e){t.photos=e.data})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsInJvdXRlLmpzIiwiY29udG9yb2xsZXJzL2NvbW1lbnRDdHJsLmpzIiwiY29udG9yb2xsZXJzL2ltYWdlQ3JvcC5qcyIsImNvbnRvcm9sbGVycy9tYW5hZ2VtZW50Q3RybC5qcyIsImRpcmVjdGl2ZXMvZmlsZU1vZGVsLmpzIiwiZGlyZWN0aXZlcy9tYXRjaFBhc3N3b3JkLmpzIiwic2VydmljZXMvYXJ0aXN0U2VydmljZXMuanMiLCJzZXJ2aWNlcy9hdXRoU2VydmljZXMuanMiLCJzZXJ2aWNlcy9ib2FyZFNlcnZpY2VzLmpzIiwic2VydmljZXMvY29tbWVudFNlcnZpY2VzLmpzIiwic2VydmljZXMvZ2FsbGVyeVNlcnZpY2VzLmpzIiwic2VydmljZXMvdXNlclNlcnZpY2VzLmpzIiwiY29udG9yb2xsZXJzL21haW4vbWFpbkN0cmwuanMiLCJjb250b3JvbGxlcnMvbWFpbi9tZW51Q3RybC5qcyIsImNvbnRvcm9sbGVycy91c2VyL2VtYWlsQ3RybC5qcyIsImNvbnRvcm9sbGVycy91c2VyL3VzZXJDdHJsLmpzIiwiY29udG9yb2xsZXJzL2NhdGVnb3JpZXMvYXJ0aXN0Q3RybC5qcyIsImNvbnRvcm9sbGVycy9jYXRlZ29yaWVzL2JvYXJkQ3RybC5qcyIsImNvbnRvcm9sbGVycy9jYXRlZ29yaWVzL2dhbGxlcnlDdHJsLmpzIiwiY29udG9yb2xsZXJzL2NhdGVnb3JpZXMvaG9tZUN0cmwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwiYXBwIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIm90aGVyd2lzZSIsImhhc2hQcmVmaXgiLCJodG1sNU1vZGUiLCJzdGF0ZSIsInVybCIsInZpZXdzIiwiaGVhZGVyIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiY29udGVudCIsImZvb3RlciIsImNvbnRyb2xsZXJBcyIsInBlcm1pc3Npb24iLCJhdXRoZW50aWNhdGVkIiwiY29udGVudEAiLCJtZW51QGFwcC5hcnRpc3QiLCJjb250ZW50c0BhcHAuYXJ0aXN0IiwibWVudUBhcHAuZ2FsbGVyeSIsImNvbnRlbnRzQGFwcC5nYWxsZXJ5IiwibWVudUBhcHAuYm9hcmQiLCJjb250ZW50c0BhcHAuYm9hcmQiLCJtZW51QGFwcC5kaXNwbGF5IiwiY29udGVudHNAYXBwLmRpc3BsYXkiLCJydW4iLCIkcm9vdFNjb3BlIiwiVXNlciIsIiRzdGF0ZSIsIiRvbiIsImV2ZW50IiwidG9TdGF0ZSIsInRvUGFyYW1zIiwiZnJvbVN0YXRlIiwiZnJvbVBhcmFtcyIsIm9wdGlvbnMiLCJnZXRQZXJtaXNzaW9uIiwidGhlbiIsImRhdGEiLCJlcnJvciIsImdvIiwiJHNjb3BlIiwiJGh0dHAiLCIkc3RhdGVQYXJhbXMiLCIkd2luZG93IiwiQ29tbWVudCIsInBob3RvX2lkIiwidGhpcyIsImNyZWF0ZUNvbW1lbnQiLCJtYWluIiwidXNlciIsInVzZXJfaWQiLCJjb21tZW50RGF0YSIsImNvbW1lbnQiLCJzdWNjZXNzIiwicmVsb2FkIiwiYWxlcnQiLCJsb2dpbiIsImRlbGV0ZUNvbW1lbnQiLCJyZXNwb25zZSIsImlkIiwiY29tbWVudF9pZCIsImRlbGV0ZSIsImRlY29kZUJhc2U2NEltYWdlIiwiZGF0YVN0cmluZyIsIm1hdGNoZXMiLCJtYXRjaCIsImxlbmd0aCIsIkVycm9yIiwidHlwZSIsIm15SW1hZ2UiLCJteUNyb3BwZWRJbWFnZSIsImhhbmRsZUZpbGVTZWxlY3QiLCJldnQiLCJpbWFnZXVwbG9hZGVkIiwiZmlsZSIsImN1cnJlbnRUYXJnZXQiLCJmaWxlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCIkYXBwbHkiLCJ0YXJnZXQiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiZWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm9uIiwicmVhZENyb3BJbWFnZSIsImJhc2U2NFVybCIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJsb2ciLCJibG9iIiwicG9zdCIsImZpbGVQYXRoIiwiZGlyZWN0aXZlIiwiJHBhcnNlIiwicmVzdHJpY3QiLCJsaW5rIiwic2NvcGUiLCJhdHRycyIsInBhcnNlZEZpbGUiLCJmaWxlTW9kZWwiLCJwYXJzZWRmaWxlU2V0dGVyIiwiYXNzaWduIiwiYmluZCIsImRvQ29uZmlybSIsInZhbHVlcyIsImNvbmZpcm1lZCIsImZvckVhY2giLCJlbGUiLCJjb25maXJtIiwiJG9ic2VydmUiLCJKU09OIiwicGFyc2UiLCIkd2F0Y2giLCJmYWN0b3J5IiwiYXJ0aXN0RmFjdG9yeSIsInJlYWRBcnRpc3RUYXAiLCJnZXQiLCJyZWFkQXJ0aXN0cyIsInVzZXJfdHlwZSIsInJlYWRBcnRpc3QiLCJhcnRpc3RfaWQiLCJjcmVhdGVBcmlzdFBob3RvIiwicGhvdG9EYXRhIiwidXBkYXRlQXJpc3RQcm9maWxlIiwiYXJ0aXN0RGF0YSIsInB1dCIsInJlYWRBcnRpc3RQcm9maWxlIiwicmVhZEFyaXN0UGhvdG8iLCJBdXRoVG9rZW4iLCJhdXRoRmFjdG9yeSIsImdldFVzZXIiLCJnZXRUb2tlbiIsIiRxIiwicmVqZWN0IiwibWVzc2FnZSIsImxvZ2luRGF0YSIsInNldFRva2VuIiwidG9rZW4iLCJpc0xvZ2dlZEluIiwibG9nb3V0IiwiYXV0aFRva2VuRmFjdG9yeSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiZ2V0SXRlbSIsImF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5IiwicmVxdWVzdCIsImhlYWRlcnMiLCJib2FyZEZhY3RvcnkiLCJyZWFkQm9hcmRUYXAiLCJyZWFkQm9hcmRzIiwiYm9hcmRfdHlwZSIsInJlYWRCb2FyZCIsImJvYXJkX2lkIiwiY3JlYXRlQm9hcmQiLCJib2FyZERhdGEiLCJjb21tZW50RmFjdG9yeSIsInJlYWRDb21tZW50IiwicmVhZEJvYXJkQ29tbWVudCIsImdhbGxlcnlGYWN0b3J5IiwicmVhZEdhbGxlcnlUYXAiLCJyZWFkUGhvdG9zIiwicGhvdG9fdHlwZSIsInJlYWRQaG90b0RhdGEiLCJyZWFkTW9yZVBob3RvIiwidXNlckZhY3RvcnkiLCJjcmVhdGUiLCJyZWdEYXRhIiwiYWN0aXZlQWNjb3VudCIsImNoZWNrQ3JlZGVudGlhbHMiLCJyZXNlbmRMaW5rIiwidXNlcm5hbWUiLCJzZW5kVXNlcm5hbWUiLCJ1c2VyRGF0YSIsInNlbmRQYXNzd29yZCIsInJlc2V0RGF0YSIsInJlc2V0UGFzc3dvcmQiLCJzYXZlUGFzc3dvcmQiLCJyZW5ld1Nlc3Npb24iLCJyZXNldFBlcm1pc3Npb24iLCJjaGVja1Blcm1pc3Npb24iLCJyZWFkUHJvZmlsZXMiLCJ1cGRhdGVQcm9maWxlcyIsInVwZGF0ZURhdGEiLCJBdXRoIiwiJHRpbWVvdXQiLCIkbG9jYXRpb24iLCIkaW50ZXJ2YWwiLCJsb2FkbWUiLCJsb2FkaW5nIiwiY2hlY2tTZXNzaW9uIiwiYXV0aG9yaXplZCIsImludGVydmFsIiwiY2FuY2VsIiwic2VsZiIsInBhcnNlSnd0Iiwic3BsaXQiLCJiYXNlNjQiLCJyZXBsYWNlIiwiYXRvYiIsImV4cGlyZVRpbWUiLCJ0aW1lU3RhbXAiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwiZXhwIiwic2hvd01vZGFsIiwiY2hvaWNlTWFkZSIsImhpZGVNb2RhbCIsIk1vZGFsQm9keSIsImVuZFNlc3Npb24iLCJvcHRpb24iLCJtb2RhbEhlYWRlciIsIm1vZGFsQm9keSIsImhpZGVCdXR0b24iLCIkIiwibW9kYWwiLCJiYWNrZHJvcCIsImRvTG9naW4iLCJ2YWxpZCIsImVycm9yTXNnIiwiZXhwaXJlZCIsImRpc2FibGVkIiwic3VjY2Vzc01zZyIsInVwbG9hZCIsImRvUGVybWlzc2lvbiIsInVwbG9hZERpc2FibGVkIiwidXBsb2FkZXJyb3JNc2ciLCJ1cGxvYWRTdWNjZXNzTXNnIiwicmVzZW5kIiwicmVzZXR1c2VybmFtZSIsInJlc2V0cGFzc3dvcmQiLCJlbWFpbCIsImhpZGUiLCJyZWdTdGVwMSIsInJlZ1N0ZXAyIiwicmVhZERhdGEiLCJwcm9maWxlcyIsInBob3RvQ2hhbmdlZCIsIm5hbWUiLCJmaWxlUmVhZGVyIiwiZSIsInRodW1ibmFpbCIsImRhdGFVcmwiLCJ1cGxvYWRpbmciLCJ1cGRhdGVQcm9maWxlSW1hZ2UiLCIkZW1pdCIsImZkIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiaWRlbnRpdHkiLCJDb250ZW50LVR5cGUiLCJ1cGRhdGVQcm9maWxlIiwiQXJ0aXN0IiwiY29kZSIsImF2YWlsYWJsZU9wdGlvbnMiLCJzb3J0Iiwic2VsZWN0ZWRPcHRpb24iLCJhcnRpc3REYXRhcyIsIm1haW5QaG90b0NoYW5nZWQiLCJtYWluVGh1bWJuYWlsIiwicmVhZFBob3RvIiwibWFpbkltYWdlUGF0aCIsInBob3RvX3BhdGgiLCJ0aHVtYm5haWxQYXRoIiwiY3JlYXRlUGhvdG8iLCJ1cGxvYWREYXRhIiwidGl0bGUiLCJkZXRhaWwiLCJwaG90b190aHVtYm5haWwiLCJzaG9ydF9pbmZvIiwiZGV0YWlsX2luZm8iLCJhcnRpc3RQaG90b3MiLCJmaWx0ZXIiLCIkc2NlIiwidGV4dCIsInRydXN0QXNIdG1sIiwiQm9hcmQiLCJib2FyZERhdGFzIiwic2VuZEZpbGUiLCJhamF4IiwiY2FjaGUiLCJjb250ZW50VHlwZSIsInByb2Nlc3NEYXRhIiwic3VtbWVybm90ZSIsInJlYWR5IiwiaGVpZ2h0IiwiY2FsbGJhY2tzIiwib25JbWFnZVVwbG9hZCIsImxhbmciLCJwbGFjZWhvbGRlciIsImh0bWxjb250ZW50IiwiR2FsbGVyeSIsInBob3Rvc0RhdGEiLCJnZXRDb250ZW50IiwicGhvdG9zIl0sIm1hcHBpbmdzIjoiQUFBQUEsUUFBQUMsT0FBQSxPQUNBLFlBQ0EsZUFDQSxrQkFDQSxrQkFDQSxtQkFDQSxvQkFDQSxxQkFDQSxxQkFDQSxtQkFDQSx3QkFDQSxjQUNBQyxRQUFBLGdCQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLGFBQUFDLEtBQUEsc0JDYkEsSUFBQUMsS0FBQU4sUUFBQUMs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S0FBQXFHLFVBSUFnSyxFQUFBckksV0FBQUMsR0FBQWxJLEtBQUEsU0FBQUMsR0FDQUEsRUFBQUEsS0FBQWdCLFFBQ0F4RCxFQUFBOFMsV0FBQXRRLEVBQUFBLEtBQUE2QyxPQUVBckYsRUFBQW9PLFNBQUE1TCxFQUFBQSxLQUFBcUcsVUFJQTlGLEVBQUFxSCxZQUFBcEgsR0FBQVQsS0FBQSxTQUFBQyxHQUNBQSxFQUFBQSxLQUFBZ0IsU0FDQXhELEVBQUFzRCxZQUFBZCxFQUFBQSxLQUFBNkMsT0FDQVMsUUFBQUMsSUFBQS9GLEVBQUFzRCxjQUVBdEQsRUFBQW9PLFNBQUE1TCxFQUFBQSxLQUFBcUcsVUFJQTVGLEtBQUFDLGNBQUEsU0FBQVYsR0FDQSxHQUFBRyxFQUFBUSxLQUFBQyxLQUFBQyxRQUdBLEdBQUFiLEVBRUEsQ0FDQSxHQUFBYyxJQUNBQyxRQUFBZixFQUNBYSxRQUFBVixFQUFBUSxLQUFBQyxLQUFBQyxRQUNBTCxTQUFBQSxFQUdBRCxHQUFBRyxjQUFBSSxHQUFBZixLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUFnQixTQUNBMUIsRUFBQTJCLGVBVkFYLEdBQUFZLE1BQUEsbUJBSEFmLEdBQUFRLEtBQUFRLFlDcEVBakUsUUFBQUMsT0FBQSxPQUNBaUIsV0FBQSxZQUFBLFFBQUEsU0FBQSxTQUFBZ0MsRUFBQUQsR0FFQUEsRUFBQW9RLFdBQUEsV0FDQW5RLEVBQUErRSxJQUFBLGFBQUFwRixLQUFBLFNBQUFzQixHQUNBbEIsRUFBQXFRLE9BQUFuUCxFQUFBckIiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ2FwcCcsW1xyXG4gICAgJ3VpLnJvdXRlcicsXHJcbiAgICAndWkuYm9vdHN0cmFwJyxcclxuICAgICd1c2VyQ29udHJvbGxlcnMnLFxyXG4gICAgJ21haW5Db250cm9sbGVycycsXHJcbiAgICAnZW1haWxDb250cm9sbGVycycsXHJcbiAgICAnYXJ0aXN0Q29udHJvbGxlcnMnLFxyXG4gICAgJ2dhbGxlcnRDb250cm9sbGVycycsXHJcbiAgICAnY29tbWVudENvbnRyb2xsZXJzJyxcclxuICAgICdib2FyZENvbnRyb2xsZXJzJyxcclxuICAgICdtYW5hZ2VtZW50Q29udHJvbGxlcnMnLFxyXG4gICAgJ3VpQ3JvcHBlcidcclxuXSkuY29uZmlnKGZ1bmN0aW9uKCRodHRwUHJvdmlkZXIpe1xyXG4gICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ0F1dGhJbnRlcmNlcHRvcnMnKTtcclxufSk7XHJcbiIsInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcbmFwcC5jb25maWcoZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XHJcbiR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcbi8vICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuJGxvY2F0aW9uUHJvdmlkZXIuaGFzaFByZWZpeCgnJyk7IC8vIGJ5IGRlZmF1bHQgJyEnXHJcbiRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuXHJcbiAkc3RhdGVQcm92aWRlclxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwJywge1xyXG4gICAgICAgICAgICAgdXJsOiAnLycsXHJcbiAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICdoZWFkZXInOiB7XHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21lbnVlcy9tYWluTWVudS5odG1sJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5NZW51Q29udHJvbGxlcidcclxuICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiB7XHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21haW4vaG9tZS5odG1sJ1xyXG4gICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAnZm9vdGVyJzoge1xyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jb21wYW55L2Zvb3Rlci5odG1sJ1xyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ21hbmFnZW1lbnQnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOicvbWFuYWdlbWVudCcsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9tYW5hZ2VtZW50Lmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYW5hZ2VtZW50Q3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnbWFuYWdlbWVudCcsXHJcbiAgICAgICAgICAgICAgcGVybWlzc2lvbjogJ2FkbWluJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZWdpc3RlclN0ZXAxJyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyL3N0ZXAxJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlZ0N0cmwnLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWdpc3RlcicsXHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2lzTG9nZ2VkT3V0L3JlZ2lzdGVyU3RlcDEuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3JlZ2lzdGVyU3RlcDInLFxyXG4gICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB1cmw6ICcvcmVnaXN0ZXIvc3RlcDInLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVnQ3RybCcsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlZ2lzdGVyJyxcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvaXNMb2dnZWRPdXQvcmVnaXN0ZXJTdGVwMi5odG1sJyxcclxuICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncmVzZXR1c2VybmFtZScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZXR1c2VybmFtZScsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVzZXQvdXNlcm5hbWUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJuYW1lQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndXNlcm5hbWUnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Jlc2V0cGFzc3dvcmQnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Jlc2V0cGFzc3dvcmQnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3Jlc2V0L3Bhc3N3b3JkLmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwYXNzd29yZEN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Bhc3N3b3JkJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZXNldCcsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZXQvOnRva2VuJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9yZXNldC9uZXdwYXNzd29yZC5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVzZXRDdHJsJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZXNldCdcclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FjdGl2YXRlJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJy9hY3RpdmF0ZS86dG9rZW4nLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL2FjdGl2YXRpb24vYWN0aXZhdGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2VtYWlsQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZW1haWwnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Jlc2VuZCcsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZW5kJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9hY3RpdmF0aW9uL3Jlc2VuZC5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVzZW5kQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVzZW5kJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcblxyXG4gIC8vIOycoOyggCDtlITroZztlYQg66qo7JWEIOuGk+ydgCDqs7MgIC8g6rOE7KCVIOygleuztFxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwLnByb2ZpbGVzJywge1xyXG4gICAgICAgICAgICAgdXJsOiAncHJvZmlsZXMnLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2lzTG9nZ2VkSW4vdXNlclByb2ZpbGVzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Byb2ZpbGVDdHJsJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Byb2ZpbGUnLFxyXG4gICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuLy8g7J6R6rCAIOyeke2SiCDrqqjslYQg64aT7J2AIOqzs1xyXG4gICAgICAgICAgLnN0YXRlKCdhcHAucGhvdG9zJywge1xyXG4gICAgICAgICAgICB1cmw6ICdwaG90b3MnLFxyXG4gICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdpc0xvZ2dlZEluL2FydGlzdFBob3Rvcy5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhbkFydGlzdFBob3RvQ3RybCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhbkFydGlzdFBob3RvJyxcclxuICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfSlcclxuXHJcbi8vIOuTseuhneuQnCDsnpHqsIDsnZgg7J6R7ZKIIOyXheuhnOuTnCAmIOyekeqwgCDtlITroZztlYRcclxuICAgICAgICAgICAuc3RhdGUoJ2FwcC5hcnRpc3RQcm9maWxlcycsIHtcclxuICAgICAgICAgICAgIHVybDogJ2FydGlzdCcsXHJcbiAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaXNMb2dnZWRJbi9hcnRpc3RQcm9maWxlcy5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhcnRpc3RQcm9maWxlQ3RybCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhcnRpc3RQcm9maWxlJyxcclxuICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWVcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuaW50cm8nLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnaW50cm8nLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS9pbnRyby5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC50ZXJtcycsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICd0ZXJtcycsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jb21wYW55L3Rlcm1zLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLnByaXZhY3knLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAncHJpdmFjeScsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jb21wYW55L3ByaXZhY3kuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PSAgYXJ0aXN0IC8gZ2FsbGVyeSAvIGV4aGliaXRpb24gLyBib2FyZCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXHJcbi8vID09PT09PT09PT09PT09PT09PSAgYXJ0aXN0IOy5tO2FjOqzoOumrCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5hcnRpc3QnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnYXJ0aXN0L2NhdGVnb3J5PTpjb2RlJyxcclxuICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21haW4vZm9ybS5odG1sJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICdtZW51QGFwcC5hcnRpc3QnOntcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEFydGlzdC9hcnRpc3RUYXAuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhcnRpc3RUYXBDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYXJ0aXN0VGFwJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLmFydGlzdCc6e1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsQXJ0aXN0L2FydGlzdHMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhcnRpc3RzQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2FydGlzdHMnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgLnN0YXRlKCdhcHAuZ2FsbGVyeScsIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnZ2FsbGVyeS9jYXRlZ29yeT06Y29kZScsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2Zvcm0uaHRtbCdcclxuICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICdtZW51QGFwcC5nYWxsZXJ5Jzp7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsR2FsbGVyeS9nYWxsZXJ5VGFwLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dhbGxlcnlUYXBDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dhbGxlcnlUYXAnXHJcbiAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLmdhbGxlcnknOntcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxHYWxsZXJ5L3Bob3Rvcy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdnYWxsZXJ5UGhvdG9zQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnYWxsZXJ5UGhvdG9zJyxcclxuICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgLnN0YXRlKCdhcHAuYm9hcmQnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdib2FyZC9jYXRlZ29yeT06Y29kZScsXHJcbiAgICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2Zvcm0uaHRtbCdcclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgJ21lbnVAYXBwLmJvYXJkJzp7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEJvYXJkL2JvYXJkVGFwLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdib2FyZFRhcEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAuYm9hcmQnOntcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsQm9hcmQvYm9hcmRzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdib2FyZHNDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdib2FyZHMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAuc3RhdGUoJ2FwcC5kaXNwbGF5Jywge1xyXG4gICAgICAgICAgICAgICB1cmw6ICdkaXNwbGF5L2NhdGVnb3J5PTpjb2RlJyxcclxuICAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21haW4vZm9ybS5odG1sJ1xyXG4gICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgJ21lbnVAYXBwLmRpc3BsYXknOntcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxEaXNwbGF5L2Rpc3BsYXlUYXAuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZGlzcGxheU1lbnVDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLmRpc3BsYXknOntcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxEaXNwbGF5L2NvbnRlbnQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZGlzcGxheU1lbnVDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAuc3RhdGUoJ2FwcC5hcnRpc3Quc2hvdycsIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL2FydGlzdDphcnRpc3RfaWQnLFxyXG4gICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5hcnRpc3QnOntcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxBcnRpc3QvYXJ0aXN0Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2FydGlzdFBob3RvQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhcnRpc3RQaG90bycsXHJcbiAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwLmdhbGxlcnkuc2hvdycsIHtcclxuICAgICAgICAgICAgIHVybDogJy9waG90b190eXBlPTpwaG90b190eXBlL3Bob3RvOnBob3RvX2lkJyxcclxuICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5nYWxsZXJ5Jzp7XHJcbiAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEdhbGxlcnkvcGhvdG8uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dhbGxlcnlQaG90b0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dhbGxlcnlwaG90bycsXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgLnN0YXRlKCdhcHAuYm9hcmQuc2hvdycsXHJcbiAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgdXJsOiAnL2JvYXJkOmJvYXJkX2lkJyxcclxuICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5ib2FyZCc6e1xyXG4gICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbEJvYXJkL2JvYXJkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdib2FyZEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2JvYXJkJyxcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuYm9hcmQuY3JlYXRlJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDonL2NyZWF0ZScsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5ib2FyZCc6e1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDonL3BhcnRpYWxCb2FyZC9ib2FyZENyZWF0ZS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2JvYXJkQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2JvYXJkJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwLmJvYXJkLmVkaXQnLFxyXG4gICAgICAgICAgIHtcclxuICAgICAgICAgICAgIHVybDogJy9lZGl0Lzpib2FyZF9pZCcsXHJcbiAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAuYm9hcmQnOntcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFsQm9hcmQvYm9hcmRVcGRhdGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdib2FyZEN0cmwnLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdib2FyZCcsXHJcbiAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWVcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pXG5cbiAgICAgICAgIC5zdGF0ZSgnYXBwLmdhbGxlcnkuZWRpdCcsIHtcbiAgICAgICAgICAgdXJsOiAnL2VkaXQvOnBob3RvX2lkJyxcbiAgICAgICAgICAgdmlld3M6e1xuICAgICAgICAgICAgICdjb250ZW50QCc6e1xuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEdhbGxlcnkvcGhvdG9FZGl0Lmh0bWwnLFxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dhbGxlcnlQaG90b0N0cmwnLFxuICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZ2FsbGVyeXBob3RvJyxcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgIH1cbiAgICAgICAgIH0pO1xuXHJcbn0pO1xuXG5hcHAucnVuKGZ1bmN0aW9uKCRyb290U2NvcGUsIFVzZXIsICRzdGF0ZSl7XG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsICBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgb3B0aW9ucyl7XG4gICAgaWYodG9TdGF0ZS5wZXJtaXNzaW9uID09PSAnYWRtaW4nKXtcbiAgICAgIFVzZXIuZ2V0UGVybWlzc2lvbigpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgIH1cbiAgfSk7XG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsICBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgZXJyb3Ipe1xuICAgICRzdGF0ZS5nbygnYXBwJyk7XG4gIH0pO1xufSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnY29tbWVudENvbnRyb2xsZXJzJyxbJ2NvbW1lbnRTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignY29tbWVudEN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsICR3aW5kb3csIENvbW1lbnQpIHtcclxuICAvLyBpZOyXkCDtlbTri7ntlZjripQg6rCS7J2EIOuztOyXrOyjvOuKlCDtlajsiJhcclxuICAvLyDqsJLsnYQg6rCA7KC47Jik64qUIO2VqOyImFxyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHZhciBwaG90b19pZCA9ICRzdGF0ZVBhcmFtcy5waG90b19pZDtcclxuXHJcbiAgLy8g7L2U66mY7Yq4IOyDneyEse2VmOq4sFxyXG4gIC8vIOyekeuPmeydtCDtlYTsmpTtlZjrqbQg7JWE7J2065SU656RIOuMk+q4gCDrgrTsmqkg6re466as6rOgIHBob3RvX2lkXHJcbiAgICB0aGlzLmNyZWF0ZUNvbW1lbnQgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoISRzY29wZS5tYWluLnVzZXIudXNlcl9pZCl7XHJcbiAgICAgICAgJHNjb3BlLm1haW4ubG9naW4oKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZighZGF0YSl7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KCfrjJPquIDsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YXIgY29tbWVudERhdGEgPSB7XHJcbiAgICAgICAgICAgIGNvbW1lbnQgOiBkYXRhLFxyXG4gICAgICAgICAgICB1c2VyX2lkIDogJHNjb3BlLm1haW4udXNlci51c2VyX2lkLFxyXG4gICAgICAgICAgICBwaG90b19pZCA6IHBob3RvX2lkXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIENvbW1lbnQuY3JlYXRlQ29tbWVudChjb21tZW50RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG59O1xyXG5cclxuICAgICAgLy8gaWYodmFsaWQpe1xyXG4gICAgICAvLyAgIENvbW1lbnQuY3JlYXRlQ29tbWVudChhcHAucmVzcG9uc2UpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIC8vXHJcbiAgICAgIC8vXHJcbiAgICAgIC8vICAgfSk7XHJcbiAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgIC8vICAgYXBwLmVycm9yTXNnID0gJyc7XHJcbiAgICAgIC8vIH1cclxuICAgICAgLy8gaWYodmFsaWQpe1xyXG4gICAgICAvLyAgIHZhciBib2FyZF9pZCA9IHJlc3BvbnNlLmJvYXJkX2lkO1xyXG4gICAgICAvLyAgIHZhciBwaG90b19pZCA9IHJlc3BvbnNlLnBob3RvX2lkO1xyXG4gICAgICAvLyAgIHZhciBjb21tZW50ICA9IHJlc3BvbnNlLmNvbW1lbnQ7XHJcbiAgICAgIC8vICAgICRodHRwLnBvc3QoJy9hcGkvY29tbWVudCcsIHtcclxuICAgICAgLy8gICAgICBib2FyZF9pZDogYm9hcmRfaWQsIHBob3RvX2lkOiBwaG90b19pZCwgY29tbWVudDogY29tbWVudFxyXG4gICAgICAvLyAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgLy8gICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgIC8vICAgIH0pO1xyXG4gICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAvLyAgICR3aW5kb3cuYWxlcnQoXCLrjJPquIDsnYQg7J6F66Cl7ZW07KO87IS47JqULlwiKTtcclxuICAgICAgLy8gfVxyXG5cclxuXHJcblxyXG4gICAgLy8gdmFyIGFwcCA9IHRoaXM7XHJcbiAgICAvLyB2YXIgdXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuICAgIC8vXHJcbiAgICAvLyAgIEFydGlzdC5yZWFkQXJ0aXN0UHJvZmlsZSh1c2VyX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgLy8gICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgIC8vICAgICAgIGFwcC5hcnRpc3REYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICB9KTtcclxuICAgIC8vXHJcbiAgICAvL1xyXG4gICAgLy9cclxuICAgIC8vIHZhciBib2FyZF9pZCA9ICRzdGF0ZVBhcmFtcy5ib2FyZF9pZDtcclxuICAgIC8vIHZhciBpZCA9IFwiXCI7XHJcbiAgICAvL1xyXG4gICAgLy8gdmFyIGRhdGEgPSB7XHJcbiAgICAvLyAgIHBob3RvX2lkOnBob3RvX2lkLFxyXG4gICAgLy8gICBib2FyZF9pZDpib2FyZF9pZFxyXG4gICAgLy8gfTtcclxuICAgIC8vXHJcbiAgICAvLyB2YXIgY29uZmlnID0ge1xyXG4gICAgLy8gICBwYXJhbXM6IGRhdGEsXHJcbiAgICAvLyAgIGhlYWRlcnMgOiB7J0FjY2VwdCcgOiAnYXBwbGljYXRpb24vanNvbid9XHJcbiAgICAvLyB9O1xyXG4gICAgLy9cclxuICAgIC8vIGlmKHBob3RvX2lkKXtcclxuICAgIC8vICAgaWQgPSBwaG90b19pZDtcclxuICAgIC8vICAgJGh0dHAuZ2V0KCcvYXBpL2NvbW1lbnQvJytpZCwgY29uZmlnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgIC8vICAgICAkc2NvcGUuY29tbWVudHMgPSByZXNwb25zZS5kYXRhWzBdO1xyXG4gICAgLy8gICB9KTtcclxuICAgIC8vIH1cclxuICAgIC8vIGVsc2UgaWYoYm9hcmRfaWQpe1xyXG4gICAgLy8gICBpZCA9IGJvYXJkX2lkO1xyXG4gICAgLy8gICAkaHR0cC5nZXQoJy9hcGkvY29tbWVudC8nK2lkLCBjb25maWcpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgLy8gICAgICRzY29wZS5jb21tZW50cyA9IHJlc3BvbnNlLmRhdGFbMF07XHJcbiAgICAvLyAgIH0pO1xyXG4gICAgLy8gfSBlbHNlIHtcclxuICAgIC8vICAgICAkc2NvcGUuY29tbWVudHMgPSAn7Iuc7Iqk7YWc7J20IOu2iOyViOygle2VqeuLiOuLpC4nO1xyXG4gICAgLy8gfVxyXG4gIC8vIC8vIOy9lOupmO2KuCDsg53shLHtlZjquLBcclxuICAvLyAgICRzY29wZS5hZGRDb21tZW50ID0gZnVuY3Rpb24ocmVzcG9uc2UsIHZhbGlkKXtcclxuICAvLyAgICAgaWYodmFsaWQpe1xyXG4gIC8vICAgICAgIHZhciBib2FyZF9pZCA9IHJlc3BvbnNlLmJvYXJkX2lkO1xyXG4gIC8vICAgICAgIHZhciBwaG90b19pZCA9IHJlc3BvbnNlLnBob3RvX2lkO1xyXG4gIC8vICAgICAgIHZhciBjb21tZW50ICA9IHJlc3BvbnNlLmNvbW1lbnQ7XHJcbiAgLy8gICAgICAgICRodHRwLnBvc3QoJy9hcGkvY29tbWVudCcsIHtcclxuICAvLyAgICAgICAgICBib2FyZF9pZDogYm9hcmRfaWQsIHBob3RvX2lkOiBwaG90b19pZCwgY29tbWVudDogY29tbWVudFxyXG4gIC8vICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAvLyAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgLy8gICAgICAgIH0pO1xyXG4gIC8vICAgICB9IGVsc2Uge1xyXG4gIC8vICAgICAgICR3aW5kb3cuYWxlcnQoXCLrjJPquIDsnYQg7J6F66Cl7ZW07KO87IS47JqULlwiKTtcclxuICAvLyAgICAgfVxyXG4gIC8vXHJcbiAgLy8gICB9O1xyXG5cclxuXHJcbiAgLy8g6rCS7J2EIOyCreygnO2VmOuKlCDtlajsiJhcclxuICAkc2NvcGUuZGVsZXRlQ29tbWVudCA9IGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgIHZhciBpZCA9IHJlc3BvbnNlLmNvbW1lbnRfaWQ7XHJcbiAgXHQkaHR0cC5kZWxldGUoJy9hcGkvY29tbWVudC8nK2lkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gIFx0fSk7XHJcbiAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gIC5jb250cm9sbGVyKCdJbWFnZUNyb3BDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkaHR0cCkge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICBhcHAubXlJbWFnZT0nJztcclxuICAgIGFwcC5teUNyb3BwZWRJbWFnZT0nJztcclxuXHJcbiAgICB2YXIgaGFuZGxlRmlsZVNlbGVjdD1mdW5jdGlvbihldnQpIHtcbiAgICAgICRzY29wZS5pbWFnZXVwbG9hZGVkID0gZmFsc2U7XHJcbiAgICAgIHZhciBmaWxlPWV2dC5jdXJyZW50VGFyZ2V0LmZpbGVzWzBdO1xyXG4gICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCRzY29wZSl7XHJcbiAgICAgICAgICBhcHAubXlJbWFnZT1ldnQudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICB9O1xyXG4gICAgICBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpbGVJbnB1dCcpKS5vbignY2hhbmdlJyxoYW5kbGVGaWxlU2VsZWN0KTtcblxuICAgICAgZnVuY3Rpb24gZGVjb2RlQmFzZTY0SW1hZ2UoZGF0YVN0cmluZykge1xyXG4gICAgICAgIHZhciBtYXRjaGVzID0gZGF0YVN0cmluZy5tYXRjaCgvXmRhdGE6KFtBLVphLXotK1xcL10rKTtiYXNlNjQsKC4rKSQvKTtcclxuXHJcbiAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoICE9PSAzKSB7XHJcbiAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbnZhbGlkIGlucHV0IHN0cmluZycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YXIgZmlsZSA9IHtcclxuICAgICAgICAgICAgdHlwZSA6IG1hdGNoZXNbMV0sXHJcbiAgICAgICAgICAgIGRhdGEgOiBtYXRjaGVzWzJdXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgcmV0dXJuIGZpbGU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBhcHAucmVhZENyb3BJbWFnZSA9IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICBpZihkYXRhLmJhc2U2NFVybCA9PT0gJycgfHwgZGF0YS5iYXNlNjRVcmwgPT09IG51bGwgfHwgZGF0YS5iYXNlNjRVcmwgPT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgY29uc29sZS5sb2coJ+ydtOuvuOyngOulvCDshKDtg53tlbTso7zshLjsmpQuJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGJsb2IgPSBkZWNvZGVCYXNlNjRJbWFnZSgkc2NvcGUubXlDcm9wcGVkSW1hZ2UpO1xuICAgICAgICAgICRodHRwLnBvc3QoJy91cGxvYWRJbWFnZScsIGJsb2IpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEuZGF0YS5maWxlUGF0aCk7XG4gICAgICAgICAgICAgICRzY29wZS5pbWFnZXVwbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXHJcblxyXG4gICAgICAgIC8vIHNlbmRGaWxlKCRzY29wZS5teUNyb3BwZWRJbWFnZSk7XHJcbiAgICAgIH07XG5cblxuXG5cclxuXHJcbiAgICAgIC8vIGZ1bmN0aW9uIHNlbmRGaWxlKGZpbGUpIHtcclxuICAgICAgLy8gICAgICAgICBkYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgIC8vICAgICAgICAgZGF0YS5hcHBlbmQoXCJmaWxlXCIsIGZpbGUpO1xyXG4gICAgICAvLyAgICAgICAgICQuYWpheCh7XHJcbiAgICAgIC8vICAgICAgICAgICAgIHVybDogJy91cGxvYWRJbWFnZScsXHJcbiAgICAgIC8vICAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgIC8vICAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcclxuICAgICAgLy8gICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXHJcbiAgICAgIC8vICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZSxcclxuICAgICAgLy8gICAgICAgICAgICAgcHJvY2Vzc0RhdGE6IGZhbHNlLFxyXG4gICAgICAvLyAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbih1cmwpIHtcclxuICAgICAgLy8gICAgICAgICAgICAgICAgICQoJyNzdW1tZXJub3RlJykuc3VtbWVybm90ZSgnaW5zZXJ0SW1hZ2UnLCB1cmwpO1xyXG4gICAgICAvLyAgICAgICAgICAgICB9XHJcbiAgICAgIC8vICAgICAgICAgfSk7XHJcbiAgICAgIC8vICAgICB9XHJcblxyXG5cclxuICB9KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ21hbmFnZW1lbnRDb250cm9sbGVycycsIFtdKVxyXG4uY29udHJvbGxlcignbWFuYWdlbWVudEN0cmwnLCBmdW5jdGlvbigpe1xyXG4gIGNvbnNvbGUubG9nKCfsnpHrj5kg7KSRJyk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmRpcmVjdGl2ZSgnZmlsZU1vZGVsJyxmdW5jdGlvbigkcGFyc2Upe1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuICAgICAgdmFyIHBhcnNlZEZpbGUgPSAkcGFyc2UoYXR0cnMuZmlsZU1vZGVsKTtcclxuICAgICAgdmFyIHBhcnNlZGZpbGVTZXR0ZXIgPSBwYXJzZWRGaWxlLmFzc2lnbjtcclxuXHJcbiAgICAgIGVsZW1lbnQuYmluZCgnY2hhbmdlJyxmdW5jdGlvbigpe1xyXG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpe1xyXG4gICAgICAgICAgcGFyc2VkZmlsZVNldHRlcihzY29wZSwgZWxlbWVudFswXS5maWxlc1swXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmRpcmVjdGl2ZSgnbWF0Y2gnLGZ1bmN0aW9uKCl7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICBjb250cm9sbGVyOmZ1bmN0aW9uKCRzY29wZSl7XHJcbiAgICAgICRzY29wZS5kb0NvbmZpcm0gPSBmdW5jdGlvbih2YWx1ZXMpe1xyXG5cclxuICAgICAgICAkc2NvcGUuY29uZmlybWVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24oZWxlKXtcclxuICAgICAgICAgIGlmKCRzY29wZS5jb25maXJtID09IGVsZSl7XHJcbiAgICAgICAgICAgICRzY29wZS5jb25maXJtZWQgPSB0cnVlO1xyXG4gICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuY29uZmlybWVkID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9LFxyXG5cclxuICAgIGxpbms6ZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuICAgICAgYXR0cnMuJG9ic2VydmUoJ21hdGNoJywgZnVuY3Rpb24oKXtcclxuICAgICAgICBzY29wZS5tYXRjaGVzID0gSlNPTi5wYXJzZShhdHRycy5tYXRjaCk7XHJcbiAgICAgICAgc2NvcGUuZG9Db25maXJtKHNjb3BlLm1hdGNoZXMpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHNjb3BlLiR3YXRjaCgnY29uZmlybScsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2NvcGUubWF0Y2hlcyA9IEpTT04ucGFyc2UoYXR0cnMubWF0Y2gpO1xyXG4gICAgICAgIHNjb3BlLmRvQ29uZmlybShzY29wZS5tYXRjaGVzKTtcclxuXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXJ0aXN0U2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnQXJ0aXN0JywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIGFydGlzdEZhY3RvcnkgPSB7fTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT0gQXJ0aXN0IENhdGVnb3J5ID09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG4gIGFydGlzdEZhY3RvcnkucmVhZEFydGlzdFRhcCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9hcnRpc3RNZW51Jyk7XHJcbiAgfTtcclxuXHJcbiAgYXJ0aXN0RmFjdG9yeS5yZWFkQXJ0aXN0cyA9IGZ1bmN0aW9uKHVzZXJfdHlwZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2FydGlzdE1lbnUvJyt1c2VyX3R5cGUpO1xyXG4gIH07XHJcblxyXG4gIGFydGlzdEZhY3RvcnkucmVhZEFydGlzdCA9IGZ1bmN0aW9uKGFydGlzdF9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2FydGlzdC8nK2FydGlzdF9pZCk7XHJcbiAgfTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXHJcblxyXG4vLyBBcnRpc3QuY3JlYXRlUGhvdG8ocGhvdG9EYXRhKVxyXG4gIGFydGlzdEZhY3RvcnkuY3JlYXRlQXJpc3RQaG90byA9IGZ1bmN0aW9uKHBob3RvRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9hcnRpc3RQcm9maWxlcycsIHBob3RvRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIEFydGlzdC51cGRhdGVBcmlzdEluZm8oYXJ0aXN0RGF0YSlcclxuICBhcnRpc3RGYWN0b3J5LnVwZGF0ZUFyaXN0UHJvZmlsZSA9IGZ1bmN0aW9uKGFydGlzdERhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9hcnRpc3RQcm9maWxlcycsIGFydGlzdERhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBBcnRpc3QucmVhZEFydGlzdFByb2ZpbGUodXNlcl9pZClcclxuICBhcnRpc3RGYWN0b3J5LnJlYWRBcnRpc3RQcm9maWxlID0gZnVuY3Rpb24oYXJ0aXN0X2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYXJ0aXN0UHJvZmlsZXMvJythcnRpc3RfaWQpO1xyXG4gIH07XHJcblxyXG4vL1xyXG4gIGFydGlzdEZhY3RvcnkucmVhZEFyaXN0UGhvdG8gPSBmdW5jdGlvbihhcnRpc3RfaWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9hcnRpc3RQaG90b3MvJythcnRpc3RfaWQpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBhcnRpc3RGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2F1dGhTZXJ2aWNlcycsW10pXHJcblxyXG4uZmFjdG9yeSgnQXV0aCcsIGZ1bmN0aW9uKCRodHRwLCBBdXRoVG9rZW4pe1xyXG4gICAgdmFyIGF1dGhGYWN0b3J5ID0ge307XHJcbi8vIEF1dGguZ2V0VXNlcigpO1xyXG4gICAgYXV0aEZhY3RvcnkuZ2V0VXNlciA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGlmKEF1dGhUb2tlbi5nZXRUb2tlbigpKXtcclxuICAgICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9tZScpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICRxLnJlamVjdCh7bWVzc2FnZTonVXNlciBoYXMgbm8gdG9rZW4nfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4vLyBBdXRoLmxvZ2luKGxvZ2luRGF0YSk7XHJcbiAgICBhdXRoRmFjdG9yeS5sb2dpbiA9IGZ1bmN0aW9uKGxvZ2luRGF0YSl7XHJcbiAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2F1dGhlbnRpY2F0ZScsIGxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oZGF0YS5kYXRhLnRva2VuKTtcclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuLy8gQXV0aC5pc0xvZ2dlZEluKCk7XHJcbiAgICBhdXRoRmFjdG9yeS5pc0xvZ2dlZEluID0gZnVuY3Rpb24oKXtcclxuICAgICAgaWYoQXV0aFRva2VuLmdldFRva2VuKCkpe1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbi8vIEF1dGgubG9nb3V0KCk7XHJcbiAgICBhdXRoRmFjdG9yeS5sb2dvdXQgPSBmdW5jdGlvbigpe1xyXG4gICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gYXV0aEZhY3Rvcnk7XHJcbn0pXHJcblxyXG4uZmFjdG9yeSgnQXV0aFRva2VuJywgZnVuY3Rpb24oJHdpbmRvdyl7XHJcbiAgdmFyIGF1dGhUb2tlbkZhY3RvcnkgPSB7fTtcclxuXHJcbiAgLy8gQXV0aFRva2VuLnNldFRva2VuKHRva2VuKTtcclxuICBhdXRoVG9rZW5GYWN0b3J5LnNldFRva2VuID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgaWYodG9rZW4pe1xyXG4gICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHRva2VuKTtcclxuICAgIH1lbHNlIHtcclxuICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nLCB0b2tlbik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbi8vIEF1dGhUb2tlbi5nZXRUb2tlbigpO1xyXG4gIGF1dGhUb2tlbkZhY3RvcnkuZ2V0VG9rZW4gPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcbiAgfTtcclxuICByZXR1cm4gYXV0aFRva2VuRmFjdG9yeTtcclxufSlcclxuXHJcbi5mYWN0b3J5KCdBdXRoSW50ZXJjZXB0b3JzJywgZnVuY3Rpb24oQXV0aFRva2VuKXtcclxuICB2YXIgYXV0aEludGVyY2VwdG9yc0ZhY3RvcnkgPSB7fTtcclxuXHJcbiAgYXV0aEludGVyY2VwdG9yc0ZhY3RvcnkucmVxdWVzdCA9IGZ1bmN0aW9uKGNvbmZpZyl7XHJcbiAgICB2YXIgdG9rZW4gPSBBdXRoVG9rZW4uZ2V0VG9rZW4oKTtcclxuXHJcbiAgICBpZih0b2tlbikgY29uZmlnLmhlYWRlcnNbJ3gtYWNjZXNzLXRva2VuJ10gPSB0b2tlbjtcclxuXHJcbiAgICByZXR1cm4gY29uZmlnO1xyXG4gIH07XHJcbiAgcmV0dXJuIGF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2JvYXJkU2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnQm9hcmQnLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgYm9hcmRGYWN0b3J5ID0ge307XHJcblxyXG4gIGJvYXJkRmFjdG9yeS5yZWFkQm9hcmRUYXAgPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9ib2FyZE1lbnUnKTtcclxuICB9O1xyXG5cclxuICBib2FyZEZhY3RvcnkucmVhZEJvYXJkcyA9IGZ1bmN0aW9uKGJvYXJkX3R5cGUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9ib2FyZE1lbnUvJytib2FyZF90eXBlKTtcclxuICB9O1xyXG5cclxuICBib2FyZEZhY3RvcnkucmVhZEJvYXJkID0gZnVuY3Rpb24oYm9hcmRfaWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnYXBpL2JvYXJkLycrYm9hcmRfaWQpO1xyXG4gIH07XHJcblxyXG4gIGJvYXJkRmFjdG9yeS5jcmVhdGVCb2FyZCA9IGZ1bmN0aW9uKGJvYXJkRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9ib2FyZE1lbnUnLGJvYXJkRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGJvYXJkRmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdjb21tZW50U2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnQ29tbWVudCcsIGZ1bmN0aW9uKCRodHRwKXtcclxuICBjb21tZW50RmFjdG9yeSA9IHt9O1xyXG5cclxuLy8gR2FsbGVyeS5yZWFkUGhvdG9EYXRhKHVzZXJfaWQpXHJcbiAgY29tbWVudEZhY3RvcnkuY3JlYXRlQ29tbWVudCA9IGZ1bmN0aW9uKGNvbW1lbnREYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2NvbW1lbnQnLGNvbW1lbnREYXRhKTtcclxuICB9O1xyXG5cclxuICBjb21tZW50RmFjdG9yeS5yZWFkQ29tbWVudCA9IGZ1bmN0aW9uKHBob3RvX2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29tbWVudC8nK3Bob3RvX2lkKTtcclxuICB9O1xyXG5cclxuICBjb21tZW50RmFjdG9yeS5yZWFkQm9hcmRDb21tZW50ID0gZnVuY3Rpb24oYm9hcmRfaWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9jb21tZW50Qm9hcmQvJytib2FyZF9pZCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGNvbW1lbnRGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2dhbGxlcnlTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdHYWxsZXJ5JywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIGdhbGxlcnlGYWN0b3J5ID0ge307XHJcblxyXG4vLyBHYWxsZXJ5LnJlYWRHYWxsZXJ5VGFwKClcclxuICBnYWxsZXJ5RmFjdG9yeS5yZWFkR2FsbGVyeVRhcCA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gICRodHRwLmdldCgnL2FwaS9nYWxsZXJ5TWVudScpO1xyXG4gIH07XHJcblxyXG4vLyBHYWxsZXJ5LnJlYWRQaG90b3MocGhvdG9fdHlwZSk7XHJcbiAgZ2FsbGVyeUZhY3RvcnkucmVhZFBob3RvcyA9IGZ1bmN0aW9uKHBob3RvX3R5cGUpe1xyXG4gICAgcmV0dXJuICAkaHR0cC5nZXQoJy9hcGkvZ2FsbGVyeU1lbnUvJytwaG90b190eXBlKTtcclxuXHJcbiAgfTtcclxuLy8gR2FsbGVyeS5yZWFkUGhvdG9EYXRhKHVzZXJfaWQpXHJcbiAgZ2FsbGVyeUZhY3RvcnkucmVhZFBob3RvRGF0YSA9IGZ1bmN0aW9uKHBob3RvX2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvZ2FsbGVyeS8nK3Bob3RvX2lkKTtcclxuICB9O1xyXG5cclxuICBnYWxsZXJ5RmFjdG9yeS5yZWFkTW9yZVBob3RvID0gZnVuY3Rpb24ocGhvdG9fdHlwZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2dhbGxlcnlNZW51LycrIHBob3RvX3R5cGUpO1xyXG4gIH07XHJcblxyXG5cclxuICByZXR1cm4gZ2FsbGVyeUZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgndXNlclNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ1VzZXInLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgdXNlckZhY3RvcnkgPSB7fTtcclxuXHJcbiAgdXNlckZhY3RvcnkuZ2V0UGVybWlzc2lvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Blcm1pc3Npb24nKTtcclxuICB9O1xyXG4vLyBVc2VyLmNyZWF0ZShyZWdEYXRhKVxyXG4gIHVzZXJGYWN0b3J5LmNyZWF0ZSA9IGZ1bmN0aW9uKHJlZ0RhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMnLCByZWdEYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5hY3RpdmVBY2NvdW50KHRva2VuKTtcclxuICB1c2VyRmFjdG9yeS5hY3RpdmVBY2NvdW50ID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9hY3RpdmF0ZS8nK3Rva2VuKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5jaGVja0NyZWRlbnRpYWxzKGxvZ2luRGF0YSk7XHJcbiAgdXNlckZhY3RvcnkuY2hlY2tDcmVkZW50aWFscyA9IGZ1bmN0aW9uKGxvZ2luRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9yZXNlbmQnLCBsb2dpbkRhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLnJlc2VuZExpbmsodXNlcm5hbWUpXHJcbiAgdXNlckZhY3RvcnkucmVzZW5kTGluayA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvcmVzZW5kJywgdXNlcm5hbWUpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLnNlbmRVc2VybmFtZSh1c2VyRGF0YSk7XHJcbiAgdXNlckZhY3Rvcnkuc2VuZFVzZXJuYW1lID0gZnVuY3Rpb24odXNlckRhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9yZXNldHVzZXJuYW1lLycrdXNlckRhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLnNlbmRQYXNzd29yZChyZXNldERhdGEpO1xyXG4gIHVzZXJGYWN0b3J5LnNlbmRQYXNzd29yZCA9IGZ1bmN0aW9uKHJlc2V0RGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3Jlc2V0cGFzc3dvcmQnLCByZXNldERhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLnJlc2V0UGFzc3dvcmQodG9rZW4pO1xyXG4gIHVzZXJGYWN0b3J5LnJlc2V0UGFzc3dvcmQgPSBmdW5jdGlvbih0b2tlbil7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Jlc2V0cGFzc3dvcmQvJyt0b2tlbik7XHJcbiAgfTtcclxuXHJcblxyXG4vLyBVc2VyLnNhdmVQYXNzd29yZChyZWdEYXRhKVxyXG4gIHVzZXJGYWN0b3J5LnNhdmVQYXNzd29yZCA9IGZ1bmN0aW9uKHJlZ0RhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9zYXZlcGFzc3dvcmQnLCByZWdEYXRhKTtcclxuICB9O1xyXG5cclxuLy8gIFVzZXIucmVuZXdTZXNzaW9uKHVzZXJuYW1lKVxyXG4gIHVzZXJGYWN0b3J5LnJlbmV3U2Vzc2lvbiA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcmVuZXdUb2tlbi8nKyB1c2VybmFtZSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIucmVzZXRQZXJtaXNzaW9uKHVzZXJEYXRhKVxyXG4gIHVzZXJGYWN0b3J5LnJlc2V0UGVybWlzc2lvbiA9IGZ1bmN0aW9uKHVzZXJEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvdXNlcnMvJywgdXNlckRhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLmNoZWNrUGVybWlzc2lvbih1c2VyRGF0YSlcclxuICB1c2VyRmFjdG9yeS5jaGVja1Blcm1pc3Npb24gPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzLycrdXNlcm5hbWUpO1xyXG4gIH07XHJcblxyXG5cclxuLy8gcmVzZXQgLyBjaGVjayAvIHJlbmV3IC8gc2F2ZSAvIHNlbmQgLy8gcmVzZW5kXHJcblxyXG4vLyBDcmVhdGUgLy8gcmVhZCAvLyB1cGRhdGUgLy8gZGVsZXRlIC8vXHJcblxyXG4vLyBVc2VyLnJlYWRQcm9maWxlcyh1c2VybmFtZSlcclxuICB1c2VyRmFjdG9yeS5yZWFkUHJvZmlsZXMgPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJQcm9maWxlcy8nK3VzZXJuYW1lKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci51cGRhdGVQcm9maWxlcyh1cGRhdGVEYXRhKVxyXG4gIHVzZXJGYWN0b3J5LnVwZGF0ZVByb2ZpbGVzID0gZnVuY3Rpb24odXBkYXRlRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3VzZXJQcm9maWxlcycsIHVwZGF0ZURhdGEpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB1c2VyRmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdtYWluQ29udHJvbGxlcnMnLFsnYXV0aFNlcnZpY2VzJywgJ3VzZXJTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignbWFpbkN0cmwnLCBmdW5jdGlvbihBdXRoLCAkdGltZW91dCwgJGxvY2F0aW9uLCAkc3RhdGUsICRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdywgJGludGVydmFsLCBVc2VyLCBBdXRoVG9rZW4pe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICBhcHAubG9hZG1lID0gZmFsc2U7XHJcblxyXG4gICRzY29wZS4kb24oJ0xPQUQnLCBmdW5jdGlvbigpe1xyXG4gICAgJHNjb3BlLmxvYWRpbmcgPSB0cnVlO1xyXG4gIH0pO1xyXG5cclxuICAkc2NvcGUuJG9uKCdVTkxPQUQnLCBmdW5jdGlvbigpe1xyXG4gICAgJHNjb3BlLmxvYWRpbmcgPSBmYWxzZTtcclxuICB9KTtcclxuXHJcbiAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oKXtcclxuICAgIGlmKCFjaGVja1Nlc3Npb24pIHtcclxuICAgICAgY2hlY2tTZXNzaW9uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZihBdXRoLmlzTG9nZ2VkSW4oKSl7XHJcbiAgICAgICAgYXBwLmlzTG9nZ2VkSW4gPSB0cnVlO1xyXG4gICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgIEF1dGguZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICBhcHAudXNlciA9IGRhdGEuZGF0YTtcclxuICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgICAgVXNlci5nZXRQZXJtaXNzaW9uKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5wZXJtaXNzaW9uID09PSAnYWRtaW4nKXtcclxuICAgICAgICAgICAgICAgIGFwcC5hdXRob3JpemVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZihkYXRhLmRhdGEucGVybWlzc2lvbiA9PT0gJ2FydGlzdCcpe1xyXG4gICAgICAgICAgICAgICAgYXBwLnBlcm1pc3Npb24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFwcC5wZXJtaXNzaW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBhcHAuYXV0aG9yaXplZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGFwcC5wZXJtaXNzaW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgYXBwLmF1dGhvcml6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLnVzZXIgPSBmYWxzZTtcclxuICAgICAgICBhcHAuaXNMb2dnZWRJbiA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHZhciBjaGVja1Nlc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgaWYoQXV0aC5pc0xvZ2dlZEluKCkpe1xyXG4gICAgICBhcHAuY2hlY2tTZXNzaW9uID0gdHJ1ZTtcclxuICAgICAgdmFyIGludGVydmFsID0gJGludGVydmFsKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIHRva2VuID0gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcclxuICAgICAgICBpZih0b2tlbiA9PT0gbnVsbCl7XHJcbiAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKGludGVydmFsKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VsZi5wYXJzZUp3dCA9IGZ1bmN0aW9uKHRva2VuKXtcclxuICAgICAgICAgICAgdmFyIGJhc2U2NFVybCA9IHRva2VuLnNwbGl0KCcuJylbMV07XHJcbiAgICAgICAgICAgIHZhciBiYXNlNjQgPSBiYXNlNjRVcmwucmVwbGFjZSgnLScsJysnKS5yZXBsYWNlKCdfJywgJy8nKTtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoJHdpbmRvdy5hdG9iKGJhc2U2NCkpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHZhciBleHBpcmVUaW1lID0gc2VsZi5wYXJzZUp3dCh0b2tlbik7XHJcbiAgICAgICAgICB2YXIgdGltZVN0YW1wID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XHJcbiAgICAgICAgICB2YXIgdGltZUNoZWNrID0gZXhwaXJlVGltZS5leHAgLSB0aW1lU3RhbXA7XHJcblxyXG4gICAgICAgICAgaWYodGltZUNoZWNrIDw9IDUpe1xyXG4gICAgICAgICAgICBzaG93TW9kYWwoJ2V4cGlyZWQnKTtcclxuICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChpbnRlcnZhbCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSwgMjAwMCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY2hlY2tTZXNzaW9uKCk7XHJcblxyXG5cclxuICAgIGFwcC5yZW5ld1Nlc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgICBhcHAuY2hvaWNlTWFkZSA9IHRydWU7XHJcbiAgICAgIFVzZXIucmVuZXdTZXNzaW9uKGFwcC51c2VyLnVzZXJuYW1lKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIEF1dGhUb2tlbi5zZXRUb2tlbihkYXRhLmRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgY2hlY2tTZXNzaW9uKCk7XHJcbiAgICAgICAgICBoaWRlTW9kYWwoJ2V4cGlyZWQnKTtcclxuICAgICAgICB9IGVsc2V7XHJcbiAgICAgICAgICBhcHAuTW9kYWxCb2R5ID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICBoaWRlTW9kYWwoJ2V4cGlyZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBhcHAuZW5kU2Vzc2lvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGFwcC5jaG9pY2VNYWRlID0gdHJ1ZTtcclxuICAgICAgaGlkZU1vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2hvd01vZGFsKCdsb2dvdXQnKTtcclxuICAgICAgfSw1MDApO1xyXG4gICAgfTtcclxuXHJcblxyXG4gIHZhciBzaG93TW9kYWwgPSBmdW5jdGlvbihvcHRpb24pe1xyXG4gICAgYXBwLmNob2ljZU1hZGUgPSBmYWxzZTtcclxuICAgIGFwcC5tb2RhbEhlYWRlciA9IHVuZGVmaW5lZDtcclxuICAgIGFwcC5tb2RhbEJvZHkgPSB1bmRlZmluZWQ7XHJcbiAgICBhcHAuaGlkZUJ1dHRvbiA9IGZhbHNlO1xyXG4vLyBjaGVjayB0b2tlbiBleHBpcmVkXHJcbiAgICBpZihvcHRpb24gPT09ICAnZXhwaXJlZCcgKXtcclxuICAgICAgYXBwLm1vZGFsSGVhZGVyID0gJ1RpbWVvdXQgV2FybmluZyc7XHJcbiAgICAgIGFwcC5tb2RhbEJvZHkgPSAnWW91ciBzZXNzaW9uIHdpbGwgZXhwaXJlZCBpbiA1IG1pbnV0ZXMuIFdvdWxkIHlvdSBsaWtlIHRvIHJlbmV3IHlvdXIgc2Vzc2lvbj8nO1xyXG4gICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoe2JhY2tkcm9wOlwic3RhdGljXCJ9KTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICdsb2dvdXQnKXtcclxuLy8gbG9nb3V0XHJcbiAgICAgIGFwcC5oaWRlQnV0dG9uID0gdHJ1ZTtcclxuICAgICAgYXBwLm1vZGFsSGVhZGVyID0gJ+uhnOq3uOyVhOybgyc7XHJcbiAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCh7YmFja2Ryb3A6XCJzdGF0aWNcIn0pO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIEF1dGgubG9nb3V0KCk7XHJcbiAgICAgICAgYXBwLmlzTG9nZ2VkSW4gPSBmYWxzZTtcclxuICAgICAgICBoaWRlTW9kYWwoJ2xvZ291dCcpO1xuICAgICAgICAkc3RhdGUucmVsb2FkKCk7XG4gICAgICB9LCAyMDAwKTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICdsb2dpbicpe1xyXG4vLyBMb2dpblxyXG4gICAgICAkKFwiI2xvZ2luXCIpLm1vZGFsKHtiYWNrZHJvcDpcInN0YXRpY1wifSk7XHJcbiAgICB9ICBlbHNlIGlmKG9wdGlvbiA9PT0ndXBsb2FkJyl7XHJcbi8vIGVucm9sbEFydGlzdFxyXG4gICAgICAkKFwiI3VwbG9hZFwiKS5tb2RhbCh7YmFja2Ryb3A6XCJzdGF0aWNcIn0pO1xyXG4gICAgfVxyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKCFhcHAuY2hvaWNlTWFkZSl7XHJcbiAgICAgICAgICBoaWRlTW9kYWwoJ2xvZ291dCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgNDAwMCk7XHJcblxyXG4gIH07XHJcblxyXG4gIHZhciBoaWRlTW9kYWwgPSBmdW5jdGlvbihvcHRpb24pe1xyXG5cclxuICAgIGlmKG9wdGlvbiA9PT0gJ2V4cGlyZWQnKXtcclxuICAgICAgJChcIiNteU1vZGFsXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAnbG9nb3V0Jyl7XHJcbiAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ2xvZ2luJyl7XHJcbiAgICAgICQoXCIjbG9naW5cIikubW9kYWwoJ2hpZGUnKTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICd1cGxvYWQnKXtcclxuICAgICAgJChcIiN1cGxvYWRcIikubW9kYWwoJ2hpZGUnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuXHJcbi8vIOuhnOq3uOyduFxyXG4gIHRoaXMuZG9Mb2dpbiA9IGZ1bmN0aW9uKGxvZ2luRGF0YSwgdmFsaWQpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXhwaXJlZCA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICBpZih2YWxpZCl7XHJcbiAgICAgIEF1dGgubG9naW4oYXBwLmxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGhpZGVNb2RhbCgnbG9naW4nKTtcclxuICAgICAgICAgICAgYXBwLmxvZ2luRGF0YSA9IG51bGw7XHJcbiAgICAgICAgICAgIGFwcC5pc0xvZ2dlZEluID0gdHJ1ZTtcclxuICAgICAgICAgICAgY2hlY2tTZXNzaW9uKCk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgIH0sMjAwMCk7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgaWYoZGF0YS5kYXRhLmV4cGlyZWQpe1xyXG4gICAgICAgICAgICBhcHAuZXhwaXJlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTsgLy8gSWYgZXJyb3Igb2NjdXJzLCByZW1vdmUgZGlzYWJsZSBsb2NrIGZyb20gZm9ybVxyXG4gICAgICBhcHAubG9hZGluZyA9IGZhbHNlOyAvLyBTdG9wIGJvb3RzdHJhcCBsb2FkaW5nIGljb25cclxuICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsoJXrs7Trpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIERpc3BsYXkgZXJyb3IgaWYgdmFsaWQgcmV0dXJucyBmYWxzZVxyXG4gICAgfVxyXG5cclxuICB9O1xyXG5cclxuXHJcblxyXG4vLyDsgqzsmqnsnpDsnZgg6raM7ZWcIOyXrOu2gCDtmZXsnbhcclxuICB0aGlzLnVwbG9hZCA9IGZ1bmN0aW9uKCl7XHJcbiAgYXBwLmNob2ljZU1hZGUgPSB0cnVlO1xyXG4gICAgaWYoYXBwLmF1dGhvcml6ZWQgPT09IHRydWUgfHwgYXBwLnBlcm1pc3Npb24gPT09IHRydWUpIHtcclxuICAgICAgJHN0YXRlLmdvKCdhcHAuYXJ0aXN0UHJvZmlsZXMnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIFVzZXIuY2hlY2tQZXJtaXNzaW9uKGFwcC51c2VyLnVzZXJuYW1lKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwLmFydGlzdFByb2ZpbGVzJyk7XHJcbiAgICAgICAgICAgYXBwLnBlcm1pc3Npb24gPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzaG93TW9kYWwoJ3VwbG9hZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH07XHJcblxyXG4gIC8vIOyCrOyaqeyekOyXkOqyjCDqtoztlZwg67aA7JesXHJcbiAgICB0aGlzLmRvUGVybWlzc2lvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGFwcC5jaG9pY2VNYWRlID0gdHJ1ZTtcclxuICAgICAgYXBwLnVwbG9hZERpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgYXBwLnVwbG9hZGVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgIFVzZXIucmVzZXRQZXJtaXNzaW9uKGFwcC51c2VyKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC51cGxvYWREaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICBhcHAudXBsb2FkU3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaGlkZU1vZGFsKCd1cGxvYWQnKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAuYXJ0aXN0UHJvZmlsZXMnKTtcclxuICAgICAgICAgIH0sMjAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC51cGxvYWREaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLnVwbG9hZGVycm9yTXNnID0gJ+yemOuqu+uQnCDsoJXrs7TqsIAg7J6F66Cl65CY7JeI7Iq164uI64ukLic7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG5cclxuICBhcHAubG9naW4gPSBmdW5jdGlvbigpe1xyXG4gICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICBzaG93TW9kYWwoJ2xvZ2luJyk7XHJcbiAgfTtcclxuXHJcbiAgYXBwLmxvZ291dCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBzaG93TW9kYWwoJ2xvZ291dCcpO1xyXG4gIH07XHJcblxyXG4gIGFwcC5yZXNlbmQgPSBmdW5jdGlvbigpe1xyXG4gICAgaGlkZU1vZGFsKCdsb2dpbicpO1xyXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgJHN0YXRlLmdvKCdyZXNlbmQnKTtcclxuICAgICAgYXBwLmV4cGlyZWQgPSBmYWxzZTtcclxuICAgIH0sNTAwKTtcclxuICB9O1xyXG5cclxuICBhcHAucmVzZXR1c2VybmFtZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAkc3RhdGUuZ28oJ3Jlc2V0dXNlcm5hbWUnKTtcclxuICAgIH0sNTAwKTtcclxuICB9O1xyXG5cclxuICBhcHAucmVzZXRwYXNzd29yZCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAkc3RhdGUuZ28oJ3Jlc2V0cGFzc3dvcmQnKTtcclxuICAgIH0sNTAwKTtcclxuXHJcbiAgfTtcclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ21haW5NZW51Q29udHJvbGxlcicsIGZ1bmN0aW9uICgkaHR0cCwgJHNjb3BlKSB7XHJcbiAgJGh0dHAuZ2V0KCcvYXBpL2hlYWRlcicpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgJHNjb3BlLmhlYWRlcnMgPSByZXNwb25zZS5kYXRhO1xyXG4gIH0pO1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2VtYWlsQ29udHJvbGxlcnMnLFsndXNlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdlbWFpbEN0cmwnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIFVzZXIuYWN0aXZlQWNjb3VudCgkc3RhdGVQYXJhbXMudG9rZW4pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICB9LDIwMDApO1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgIH0sMjAwMCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncmVzZW5kQ3RybCcsIGZ1bmN0aW9uKFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIGFwcCA9IHRoaXM7XHJcbiAgdGhpcy5jaGVja0NyZWRlbnRpYWxzID0gZnVuY3Rpb24obG9naW5EYXRhKXtcclxuICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgVXNlci5jaGVja0NyZWRlbnRpYWxzKHRoaXMubG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgVXNlci5yZXNlbmRMaW5rKGFwcC5sb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICB9LDIwMDApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9ZWxzZSB7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigndXNlcm5hbWVDdHJsJywgZnVuY3Rpb24oVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdGhpcy5zZW5kVXNlcm5hbWUgPSBmdW5jdGlvbih1c2VyRGF0YSwgdmFsaWQpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgaWYodmFsaWQpe1xyXG4gICAgICBVc2VyLnNlbmRVc2VybmFtZShhcHAudXNlckRhdGEuZW1haWwpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOydtOuplOydvCDso7zshozqsIAg7JWE64uZ64uI64ukLic7XHJcbiAgICB9XHJcbiAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdwYXNzd29yZEN0cmwnLCBmdW5jdGlvbihVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBhcHAuc2VuZFBhc3N3b3JkID0gZnVuY3Rpb24ocmVzZXREYXRhLCB2YWxpZCl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBpZih2YWxpZCl7XHJcbiAgICAgIFVzZXIuc2VuZFBhc3N3b3JkKGFwcC5yZXNldERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOyVhOydtOuUlOqwgCDslYTri5nri4jri6QuJztcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Jlc2V0Q3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgJHNjb3BlLCBVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgICBhcHAuaGlkZSA9IHRydWU7IC8vIEhpZGUgZm9ybSB1bnRpbCB0b2tlbiBjYW4gYmUgdmVyaWZpZWQgdG8gYmUgdmFsaWRcclxuXHJcbiAgICAvLyBGdW5jdGlvbiB0byBjaGVjayBpZiB0b2tlbiBpcyB2YWxpZCBhbmQgZ2V0IHRoZSB1c2VyJ3MgaW5mbyBmcm9tIGRhdGFiYXNlIChydW5zIG9uIHBhZ2UgbG9hZClcclxuICAgIFVzZXIucmVzZXRQYXNzd29yZCgkc3RhdGVQYXJhbXMudG9rZW4pLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHVzZXIgd2FzIHJldHJpZXZlZFxyXG4gICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICBhcHAuaGlkZSA9IGZhbHNlOyAvLyBTaG93IGZvcm1cclxuICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LXN1Y2Nlc3MnOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gJ+yDiOuhnOyatCDruYTrsIDrsojtmLjrpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIExldCB1c2VyIGtub3cgdGhleSBjYW4gZW50ZXIgbmV3IHBhc3N3b3JkXHJcbiAgICAgICAgICAgICRzY29wZS51c2VybmFtZSA9IGRhdGEuZGF0YS51c2VyWzBdLnVzZXJuYW1lOyAvLyBTYXZlIHVzZXJuYW1lIGluIHNjb3BlIGZvciB1c2UgaW4gc2F2ZVBhc3N3b3JkKCkgZnVuY3Rpb25cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtZGFuZ2VyJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTsgLy8gR3JhYiBlcnJvciBtZXNzYWdlIGZyb20gSlNPTiBvYmplY3RcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBGdW5jdGlvbiB0byBzYXZlIHVzZXIncyBuZXcgcGFzc3dvcmQgdG8gZGF0YWJhc2VcclxuICAgIGFwcC5zYXZlUGFzc3dvcmQgPSBmdW5jdGlvbihyZWdEYXRhLCB2YWxpZCwgY29uZmlybWVkKSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7IC8vIENsZWFyIGVycm9yTXNnIHdoZW4gdXNlciBzdWJtaXRzXHJcbiAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlOyAvLyBEaXNhYmxlIGZvcm0gd2hpbGUgcHJvY2Vzc2luZ1xyXG4gICAgICAgIGFwcC5sb2FkaW5nID0gdHJ1ZTsgLy8gRW5hYmxlIGxvYWRpbmcgaWNvblxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiBmb3JtIGlzIHZhbGlkIGFuZCBwYXNzd29yZHMgbWF0Y2hcclxuICAgICAgICBpZiAodmFsaWQgJiYgY29uZmlybWVkKSB7XHJcbiAgICAgICAgICAgIGFwcC5yZWdEYXRhLnVzZXJuYW1lID0gJHNjb3BlLnVzZXJuYW1lOyAvLyBHcmFiIHVzZXJuYW1lIGZyb20gJHNjb3BlXHJcblxyXG4gICAgICAgICAgICAvLyBSdW4gZnVuY3Rpb24gdG8gc2F2ZSB1c2VyJ3MgbmV3IHBhc3N3b3JkIHRvIGRhdGFiYXNlXHJcbiAgICAgICAgICAgIFVzZXIuc2F2ZVBhc3N3b3JkKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgbG9hZGluZyBpY29uXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBwYXNzd29yZCB3YXMgc2F2ZWQgdG8gZGF0YWJhc2VcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1zdWNjZXNzJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2ZlOuptOycvOuhnCDsnbTrj5ntlanri4jri6QuJzsgLy8gR3JhYiBzdWNjZXNzIG1lc3NhZ2UgZnJvbSBKU09OIG9iamVjdCBhbmQgcmVkaXJlY3RcclxuICAgICAgICAgICAgICAgICAgICAvLyBSZWRpcmVjdCB0byBsb2dpbiBwYWdlIGFmdGVyIDIwMDAgbWlsbGlzZWNvbmRzICgyIHNlY29uZHMpXHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtZGFuZ2VyJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBFbmFibGUgZm9ybSB0byBhbGxvdyB1c2VyIHRvIHJlc3VibWl0XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7IC8vIEdyYWIgZXJyb3IgbWVzc2FnZSBmcm9tIEpTT04gb2JqZWN0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1kYW5nZXInOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgbG9hZGluZyBpY29uXHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBFbmFibGUgZm9ybSB0byBhbGxvdyB1c2VyIHRvIHJlc3VibWl0XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBMZXQgdXNlciBrbm93IGZvcm0gaXMgbm90IHZhbGlkXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCd1c2VyQ29udHJvbGxlcnMnLFsndXNlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdyZWdDdHJsJywgZnVuY3Rpb24gKCAkaHR0cCwgJGxvY2F0aW9uLCAkdGltZW91dCwgVXNlciwgQXV0aCwgJHN0YXRlKSB7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgICAgIHRoaXMucmVnU3RlcDEgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICBpZighcmVnRGF0YSl7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7JW96rSA7JeQIOuPmeydmO2VtOyVvOunjCDtmozsm5DqsIDsnoXsnYQg7KeE7ZaJ7ZWgIOyImCDsnojsirXri4jri6QuJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYoKHJlZ0RhdGEudGVybXMpICYmIChyZWdEYXRhLnByaXZhY3kpKSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9ICfslb3qtIDsl5Ag7ISx6rO17KCB7Jy866GcIOuPmeydmO2VmOyFqOyKteuLiOuLpC4nO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygncmVnaXN0ZXJTdGVwMicpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfslb3qtIDsl5Ag64+Z7J2Y7ZW07JW866eMIO2ajOybkOqwgOyeheydhCDsp4TtlontlaAg7IiYIOyeiOyKteuLiOuLpC4nO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfTtcclxuXHJcbiAgICAvLyDtmozsm5DqsIDsnoVcclxuICAgICAgdGhpcy5yZWdTdGVwMiA9IGZ1bmN0aW9uKHJlZ0RhdGEsIHZhbGlkLCBjb25maXJtZWQpe1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmKHZhbGlkICYmIGNvbmZpcm1lZCl7XHJcbiAgICAgICAgICBVc2VyLmNyZWF0ZShhcHAucmVnRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICBBdXRoLmxvZ2luKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICAgICAgICB9LDEwMDApO1xyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuZXhwaXJlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBJZiBlcnJvciBvY2N1cnMsIHJlbW92ZSBkaXNhYmxlIGxvY2sgZnJvbSBmb3JtXHJcbiAgICAgICAgICAgICBhcHAubG9hZGluZyA9IGZhbHNlOyAvLyBTdG9wIGJvb3RzdHJhcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBEaXNwbGF5IGVycm9yIGlmIHZhbGlkIHJldHVybnMgZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Byb2ZpbGVDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyLCAkdGltZW91dCwgJHN0YXRlLCAkaHR0cCl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4vLyDquLDrs7gg7IKs7Jqp7J6QIOygleuztCDqsIDsoLjsmKTripQg7ZWo7IiYXHJcbiAgdmFyIHVzZXJuYW1lID0gJHNjb3BlLm1haW4udXNlci51c2VybmFtZTtcclxuICBVc2VyLnJlYWRQcm9maWxlcyh1c2VybmFtZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLnJlYWREYXRhID0gZGF0YS5kYXRhLnByb2ZpbGVzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG5cclxuLy8g7Jyg7KCAIO2UhOuhnO2VhCDsgqzsp4Qg67OA6rK9IO2VqOyImFxyXG4gICAgdGhpcy5maWxlID0ge307XHJcbiAgICB0aGlzLnBob3RvQ2hhbmdlZCA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCAmJiBmaWxlc1swXS5uYW1lLm1hdGNoKC9cXC4ocG5nfGpwZWd8anBnKSQvKSkge1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAudGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAudGh1bWJuYWlsLmRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAudXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAubWVzc2FnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhcHAudGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgYXBwLm1lc3NhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbi8vIO2UhOuhnO2VhCDsnbTrr7jsp4Drpbwg7JeF642w7J207Yq47ZWY64qUIO2VqOyImFxyXG4gICAgdGhpcy51cGRhdGVQcm9maWxlSW1hZ2UgPSBmdW5jdGlvbigpe1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICB2YXIgdXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuICAgICAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgICAgICRodHRwLnB1dCgnL2FwaS91cGxvYWRUZW1wLycrdXNlcl9pZCwgIGZkLCB7XHJcbiAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZH1cclxuICAgICAgfSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfTtcclxuXHJcbi8vIO2UhOuhnO2VhCDsoJXrs7Qg67OA6rK9XHJcbiAgdGhpcy51cGRhdGVQcm9maWxlID0gZnVuY3Rpb24oKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGFwcC5yZWFkRGF0YS51c2VyX2lkID0gJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xyXG4gICAgVXNlci51cGRhdGVQcm9maWxlcyhhcHAucmVhZERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgfSwyMDAwKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXJ0aXN0Q29udHJvbGxlcnMnLFsndXNlclNlcnZpY2VzJywgJ2FydGlzdFNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdhcnRpc3RUYXBDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBBcnRpc3Qpe1xyXG4gIC8vIOyghOyytCDrqZTribQg6rCA7KC47Jik6riwXHJcbiAgQXJ0aXN0LnJlYWRBcnRpc3RUYXAoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAkc2NvcGUuaGVhZGVycyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdhcnRpc3RzQ3RybCcsIGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMsIEFydGlzdCkge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICB2YXIgdXNlcl90eXBlID0gJHN0YXRlUGFyYW1zLmNvZGU7XHJcblxyXG4gICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfVxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246ICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgfTtcclxuXHJcbiAgICBBcnRpc3QucmVhZEFydGlzdHModXNlcl90eXBlKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLmFydGlzdERhdGFzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigndXBsb2FkUGhvdG9DdHJsJywgZnVuY3Rpb24gKCRodHRwLCAkdGltZW91dCwgJHNjb3BlLCBBcnRpc3QsICRzdGF0ZSkge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAge2lkOiAnMScsIG5hbWU6ICfrtpMg6riA7JSoJ30sXHJcbiAgICAgICB7aWQ6ICcyJywgbmFtZTogJ+2OnCDquIDslKgnfSxcclxuICAgICAgIHtpZDogJzMnLCBuYW1lOiAn66+467aE66WYJ31cclxuICAgICBdLFxyXG4gICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICB9O1xyXG5cclxuLy8g7YyM7J287J2YIOqyveuhnOunjCDsoIDsnqXtlZjquLAg66mU7J24IOydtOuvuOyngCDrp4zrk6TquLBcclxuICAgIHRoaXMuZmlsZSA9IHt9O1xyXG5cclxuICAgIHRoaXMubWFpblBob3RvQ2hhbmdlZCA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCAmJiBmaWxlc1swXS5uYW1lLm1hdGNoKC9cXC4ocG5nfGpwZWd8anBnKSQvKSkge1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLm1haW5UaHVtYm5haWwuZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXBwLm1haW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICB0aGlzLnJlYWRQaG90byA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgIGZkLmFwcGVuZCgnbXlmaWxlJywgYXBwLmZpbGUudXBsb2FkKTtcclxuICAgICAgICAkaHR0cC5wb3N0KCcvYXBpL3VwbG9hZFRlbXAvJywgZmQse1xyXG4gICAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHksXHJcbiAgICAgICAgaGVhZGVyczogeydDb250ZW50LVR5cGUnOiB1bmRlZmluZWR9XHJcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIGFwcC5tYWluSW1hZ2VQYXRoID0gZGF0YS5kYXRhLnBob3RvX3BhdGg7XHJcbiAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG5cclxuLy8g7I2464Sk7J28IOydtOuvuOyngCDrp4zrk6TquLBcclxuICAgICAgYXBwLm15SW1hZ2U9Jyc7XHJcbiAgICAgIGFwcC5teUNyb3BwZWRJbWFnZT0nJztcclxuXHJcbiAgICAgIHZhciBoYW5kbGVGaWxlU2VsZWN0PWZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICRzY29wZS5pbWFnZXVwbG9hZGVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGZpbGU9ZXZ0LmN1cnJlbnRUYXJnZXQuZmlsZXNbMF07XHJcbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oJHNjb3BlKXtcclxuICAgICAgICAgICAgYXBwLm15SW1hZ2U9ZXZ0LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICB9O1xyXG4gICAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsZUlucHV0JykpLm9uKCdjaGFuZ2UnLGhhbmRsZUZpbGVTZWxlY3QpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBkZWNvZGVCYXNlNjRJbWFnZShkYXRhU3RyaW5nKSB7XHJcbiAgICAgICAgICB2YXIgbWF0Y2hlcyA9IGRhdGFTdHJpbmcubWF0Y2goL15kYXRhOihbQS1aYS16LStcXC9dKyk7YmFzZTY0LCguKykkLyk7XHJcblxyXG4gICAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoICE9PSAzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0ludmFsaWQgaW5wdXQgc3RyaW5nJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgZmlsZSA9IHtcclxuICAgICAgICAgICAgICB0eXBlIDogbWF0Y2hlc1sxXSxcclxuICAgICAgICAgICAgICBkYXRhIDogbWF0Y2hlc1syXVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gZmlsZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFwcC5yZWFkQ3JvcEltYWdlID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgICAgICBpZihkYXRhLmJhc2U2NFVybCA9PT0gJycgfHwgZGF0YS5iYXNlNjRVcmwgPT09IG51bGwgfHwgZGF0YS5iYXNlNjRVcmwgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn7J2066+47KeA66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBibG9iID0gZGVjb2RlQmFzZTY0SW1hZ2UoJHNjb3BlLm15Q3JvcHBlZEltYWdlKTtcclxuICAgICAgICAgICAgJGh0dHAucG9zdCgnL3VwbG9hZEltYWdlJywgYmxvYikudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgYXBwLnRodW1ibmFpbFBhdGggPSBkYXRhLmRhdGEuZmlsZVBhdGg7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW1hZ2V1cGxvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG5cclxuLy8g7J6R6rCAIOyeke2SiCDsl4XroZzrk5xcclxuICAgICAgdGhpcy5jcmVhdGVQaG90byA9IGZ1bmN0aW9uKHVwbG9hZERhdGEpe1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgIGlmKCF1cGxvYWREYXRhKXtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfruYjsubjsnYQg66qo65GQIOyeheugpe2VtOyjvOyEuOyalC4nO1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYoYXBwLnVwbG9hZERhdGEudGl0bGUgPT09IHVuZGVmaW5lZCB8fCBhcHAudXBsb2FkRGF0YS50aXRsZSA9PT0gbnVsbCB8fCBhcHAudXBsb2FkRGF0YS50aXRsZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yeke2SiOydmCDsoJzrqqnsnYQg7J6F66Cl7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICB9IGVsc2UgaWYoYXBwLnVwbG9hZERhdGEuZGV0YWlsID09PSB1bmRlZmluZWQgfHwgYXBwLnVwbG9hZERhdGEuZGV0YWlsID09PSBudWxsIHx8IGFwcC51cGxvYWREYXRhLmRldGFpbCA9PT0gJycpIHtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yeke2SiOydmCDshKTrqoXsnYQg7J6F66Cl7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICB9IGVsc2UgaWYoYXBwLm1haW5JbWFnZVBhdGggPT09IHVuZGVmaW5lZCB8fCBhcHAubWFpbkltYWdlUGF0aCA9PT0gIG51bGwgfHwgYXBwLm1haW5JbWFnZVBhdGggPT09ICcnKXtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yeke2SiCDsnbTrr7jsp4Drpbwg7ISg7YOd7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICB9IGVsc2UgaWYoYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQgPT09ICcwJyl7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsnpHtkojsnZgg7KKF66WY66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nO1xyXG4gICAgICAgICAgfSBlbHNlIGlmKGFwcC50aHVtYm5haWxQYXRoID09PSB1bmRlZmluZWQgfHwgYXBwLnRodW1ibmFpbFBhdGggPT09IG51bGwgfHwgYXBwLnRodW1ibmFpbFBhdGggPT09ICcnKSB7XG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7I2464Sk7J28IOydtOuvuOyngOulvCDshKDtg53tlbTso7zshLjsmpQuJztcbiAgICAgICAgICB9IGVsc2Uge1xuXHJcbiAgICAgICAgICAgIGFwcC51cGxvYWREYXRhID0gdXBsb2FkRGF0YTtcclxuICAgICAgICAgICAgYXBwLnVwbG9hZERhdGEudXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuICAgICAgICAgICAgYXBwLnVwbG9hZERhdGEucGhvdG9fdHlwZSA9IGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkO1xyXG4gICAgICAgICAgICBhcHAudXBsb2FkRGF0YS5waG90b19wYXRoID0gYXBwLm1haW5JbWFnZVBhdGg7XHJcbiAgICAgICAgICAgIGFwcC51cGxvYWREYXRhLnBob3RvX3RodW1ibmFpbCA9IGFwcC50aHVtYm5haWxQYXRoO1xyXG5cclxuICAgICAgICAgICAgQXJ0aXN0LmNyZWF0ZUFyaXN0UGhvdG8oYXBwLnVwbG9hZERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdhcnRpc3RQcm9maWxlQ3RybCcsIGZ1bmN0aW9uICgkdGltZW91dCwgQXJ0aXN0LCAkc3RhdGUsICRzY29wZSkge1xyXG5cclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgdmFyIHVzZXJfaWQgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XHJcblxyXG4gICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAge2lkOiAnMScsIG5hbWU6ICfrtpMg6riA7JSoJ30sXHJcbiAgICAgICB7aWQ6ICcyJywgbmFtZTogJ+2OnCDquIDslKgnfSxcclxuICAgICAgIHtpZDogJzMnLCBuYW1lOiAn66+467aE66WYJ31cclxuICAgICBdLFxyXG4gICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICB9O1xyXG5cclxuXHJcbiAgICAgQXJ0aXN0LnJlYWRBcnRpc3RQcm9maWxlKHVzZXJfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgIGFwcC5hcnRpc3REYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgfVxyXG4gICAgIH0pO1xyXG5cclxuXHJcbiAgLy8g7J6R6rCAIO2UhOuhnO2VhCDsg53shLFcclxuICAgICAgdGhpcy51cGRhdGVBcmlzdFByb2ZpbGUgPSBmdW5jdGlvbihhcnRpc3REYXRhKXtcbiAgICAgICAgY29uc29sZS5sb2coXCLsnpHrj5kg7KSRXCIpO1xuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcbiAgICAgICAgaWYoIWFydGlzdERhdGEpe1xuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICftlYTsiJjquLDsnqzsgqztla3snYQg7J6F66Cl7ZW07KO87IS47JqULic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYoYXBwLmFydGlzdERhdGEuc2hvcnRfaW5mbyA9PT0gdW5kZWZpbmVkIHx8IGFwcC5hcnRpc3REYXRhLnNob3J0X2luZm8gPT09IG51bGwgfHwgYXBwLmFydGlzdERhdGEuc2hvcnRfaW5mbyA9PT0gJycpIHtcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICftlZwg7KSEIOyGjOqwnOulvCDsnoXroKXtlbTso7zshLjsmpQuJztcbiAgICAgICAgICB9IGVsc2UgaWYoYXBwLmFydGlzdERhdGEuZGV0YWlsX2luZm8gPT09IHVuZGVmaW5lZCB8fCBhcHAuYXJ0aXN0RGF0YS5kZXRhaWxfaW5mbyA9PT0gbnVsbCB8fCBhcHAuYXJ0aXN0RGF0YS5kZXRhaWxfaW5mbyA9PT0gJycpIHtcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsg4HshLgg7IaM6rCc66W8IOyeheugpe2VtOyjvOyEuOyalC4nO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcHAuYXJ0aXN0RGF0YSA9IGFydGlzdERhdGE7XG4gICAgICAgICAgICBhcHAuYXJ0aXN0RGF0YS51c2VyX2lkID0gICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcbiAgICAgICAgICAgIC8vIGFwcC5hcnRpc3REYXRhLnVzZXJfdHlwZSA9ICBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZDtcblxuICAgICAgICAgICAgQXJ0aXN0LnVwZGF0ZUFyaXN0UHJvZmlsZShhcHAuYXJ0aXN0RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W07KeAIOyViuydgCDqsJLsnbQg7J6F66Cl65CY7JeI7Iq164uI64ukLic7XG5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XHJcblxyXG59KVxyXG5cclxuLy8g7J6R6rCAIOyekOyLoOydmCDtlITroZztlYRcclxuLmNvbnRyb2xsZXIoJ2FuQXJ0aXN0UGhvdG9DdHJsJywgZnVuY3Rpb24gKEFydGlzdCwgJHN0YXRlUGFyYW1zLCAgJHNjb3BlKSB7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuICAgIHZhciB1c2VyX2lkID0gJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xyXG5cclxuICAgICAgQXJ0aXN0LnJlYWRBcnRpc3RQcm9maWxlKHVzZXJfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLmFydGlzdERhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgQXJ0aXN0LnJlYWRBcmlzdFBob3RvKHVzZXJfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLmFydGlzdFBob3RvcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbn0pXHJcblxyXG5cclxuLy8g7Jes65+sIOyekeqwgOuTpOydmCDtlITroZztlYRcclxuLmNvbnRyb2xsZXIoJ2FydGlzdFBob3RvQ3RybCcsIGZ1bmN0aW9uIChBcnRpc3QsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICB2YXIgYXJ0aXN0X2lkID0gJHN0YXRlUGFyYW1zLmFydGlzdF9pZDtcclxuXHJcbiAgICAgIEFydGlzdC5yZWFkQXJ0aXN0UHJvZmlsZShhcnRpc3RfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLmFydGlzdERhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgQXJ0aXN0LnJlYWRBcmlzdFBob3RvKGFydGlzdF9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuYXJ0aXN0UGhvdG9zID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdib2FyZENvbnRyb2xsZXJzJyxbJ2JvYXJkU2VydmljZXMnXSlcbi5maWx0ZXIoJ3RvX3RydXN0ZWQnLCBbJyRzY2UnLCBmdW5jdGlvbigkc2NlKXtcclxuICAgIHJldHVybiBmdW5jdGlvbih0ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuICRzY2UudHJ1c3RBc0h0bWwodGV4dCk7XHJcbiAgICB9O1xyXG59XSlcblxyXG4uY29udHJvbGxlcignYm9hcmRUYXBDdHJsJywgZnVuY3Rpb24oQm9hcmQsICRzY29wZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgQm9hcmQucmVhZEJvYXJkVGFwKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICRzY29wZS5oZWFkZXJzID0gZGF0YS5kYXRhO1xyXG4gIH0pO1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ2JvYXJkc0N0cmwnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIEJvYXJkLCAkc2NvcGUsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdmFyIGJvYXJkX3R5cGUgPSAkc3RhdGVQYXJhbXMuY29kZTtcclxuXHJcbiAgYXBwLmRhdGEgPSB7XHJcbiAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9LFxyXG4gICAgIHtzb3J0OiAnLXZpZXcnLCBuYW1lOiAn7KGw7ZqM7IicJ30sXHJcbiAgICAge3NvcnQ6ICctY29tbWVudF9jb3VudCcsIG5hbWU6J+uMk+q4gOyInCd9XHJcbiAgIF0sXHJcbiAgIHNlbGVjdGVkT3B0aW9uOiAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICB9O1xyXG5cclxuICAgQm9hcmQucmVhZEJvYXJkcyhib2FyZF90eXBlKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGFwcC5ib2FyZERhdGFzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgfSk7XHJcblxyXG4gICB0aGlzLmNyZWF0ZUJvYXJkID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICBpZighJHNjb3BlLm1haW4udXNlci51c2VyX2lkKXtcclxuICAgICAgICAgJHNjb3BlLm1haW4ubG9naW4oKTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICRzdGF0ZS5nbyhcImFwcC5ib2FyZC5jcmVhdGVcIik7XHJcbiAgICAgICB9XHJcbiAgfTtcclxuXHJcblxyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ2JvYXJkQ3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgQm9hcmQsICRzY29wZSwgJGh0dHAsICRzdGF0ZSwgJHRpbWVvdXQsIENvbW1lbnQsICR3aW5kb3cpe1xyXG4gICAgLy8g67O065OcIOyVhOydtOuUlCDsoITshqFcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgdmFyIGJvYXJkX2lkID0gJHN0YXRlUGFyYW1zLmJvYXJkX2lkO1xyXG5cclxuICAgIGFwcC5kYXRhID0ge1xyXG4gICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgIHtpZDogJzEnLCBuYW1lOiAn6rO17KeA7IKs7ZWtJ30sXHJcbiAgICAgICB7aWQ6ICcyJywgbmFtZTogJ+yeoe2VmeyCrOyghCd9LFxyXG4gICAgICAge2lkOiAnMycsIG5hbWU6ICfsp4jrrLjsgqztla0nfVxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgIH07XHJcblxyXG4gICAgQ29tbWVudC5yZWFkQm9hcmRDb21tZW50KGJvYXJkX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLmNvbW1lbnREYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgIHRoaXMuY3JlYXRlQ29tbWVudCA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICBpZighJHNjb3BlLm1haW4udXNlci51c2VyX2lkKXtcclxuICAgICAgICAgICAkc2NvcGUubWFpbi5sb2dpbigpO1xyXG4gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgIGlmKCFkYXRhKXtcclxuICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+uMk+q4gOydhCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgIHZhciBjb21tZW50RGF0YSA9IHtcclxuICAgICAgICAgICAgICAgY29tbWVudCA6IGRhdGEsXHJcbiAgICAgICAgICAgICAgIHVzZXJfaWQgOiAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQsXHJcbiAgICAgICAgICAgICAgIGJvYXJkX2lkIDogYm9hcmRfaWRcclxuICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgQ29tbWVudC5jcmVhdGVDb21tZW50KGNvbW1lbnREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICQoJyNzdW1tZXJub3RlJykuc3VtbWVybm90ZSh7XHJcbiAgICAgICAgaGVpZ2h0IDogMzUwLFxyXG4gICAgICAgIGNhbGxiYWNrczoge1xyXG4gICAgICAgICAgICBvbkltYWdlVXBsb2FkOiBmdW5jdGlvbihmaWxlcykge1xyXG4gICAgICAgICAgICAgICAgc2VuZEZpbGUoZmlsZXNbMF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsYW5nIDogJ2tvLUtSJyxcclxuICAgICAgICBwbGFjZWhvbGRlcjogJ+uMk+q4gOydgCAxLDAwMOyekOq5jOyngCDsnpHshLHtlaAg7IiYIOyeiOycvOupsCDso7zsoJzsmYAg66y06rSA7ZWcIOuMk+q4gCwg7JWF7ISxIOuMk+q4gOydgCDsgq3soJzrkKAg7IiYIOyeiOyKteuLiOuLpC4nLFxyXG5cclxuICAgICAgfSk7XHJcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHNlbmRGaWxlKGZpbGUpIHtcclxuICAgICAgICAgICAgZGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICBkYXRhLmFwcGVuZChcImZpbGVcIiwgZmlsZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpbGUpO1xyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL3VwbG9hZEltYWdlJyxcclxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgICAgICAgICAgICBjYWNoZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NEYXRhOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNzdW1tZXJub3RlJykuc3VtbWVybm90ZSgnaW5zZXJ0SW1hZ2UnLCB1cmwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgdGhpcy5jcmVhdGVCb2FyZCA9IGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgaWYoYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQgPT09ICcwJyl7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn6rKM7Iuc6riA7J2YIOyiheulmOulvCDshKDtg53tlbTso7zshLjsmpQnO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIGlmKHJlc3BvbnNlID09PSB1bmRlZmluZWQgfHwgcmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09ICcnKXtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsoJzrqqnsnYQg7J6F66Cl7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2UgaWYoJCgnI3N1bW1lcm5vdGUnKS5zdW1tZXJub3RlKCdjb2RlJykgPT09ICc8cD48YnI+PC9wPicgfHwgJCgnI3N1bW1lcm5vdGUnKS5zdW1tZXJub3RlKCdjb2RlJykgPT09IG51bGwgfHwgJCgnI3N1bW1lcm5vdGUnKS5zdW1tZXJub3RlKCdjb2RlJykgPT09IHVuZGVmaW5lZCB8fCAkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoJ2NvZGUnKSA9PT0gJycpIHtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfrgrTsmqnsnYQg7J6F66Cl7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFyIGNvbnRlbnQgPSAkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoJ2NvZGUnKTtcclxuICAgICAgICAgIHZhciBib2FyZF90eXBlID0gYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQ7XHJcbiAgICAgICAgICB2YXIgdGl0bGUgPSByZXNwb25zZS50aXRsZTtcclxuICAgICAgICAgIHZhciBib2FyZERhdGEgPSB7XHJcbiAgICAgICAgICAgIHRpdGxlIDogdGl0bGUsXHJcbiAgICAgICAgICAgIGNvbnRlbnQgOiBjb250ZW50LFxyXG4gICAgICAgICAgICBib2FyZF90eXBlIDogYm9hcmRfdHlwZSxcclxuICAgICAgICAgICAgdXNlcl9pZCA6ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIEJvYXJkLmNyZWF0ZUJvYXJkKGJvYXJkRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwLmJvYXJkJyk7XHJcbiAgICAgICAgICAgICAgfSw1MDApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgQm9hcmQucmVhZEJvYXJkKGJvYXJkX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4vLyDsmKTrpZjrpbwg7J6h7JWE7JW87ZWY64qU642wIOyWtOuWpOyLneycvOuhnCDsnqHslYTslbztlZjsp4A/XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAuYm9hcmREYXRhcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XG4gICAgICAgIGFwcC5odG1sY29udGVudCA9IGRhdGEuZGF0YS5yZXN1bHQuY29udGVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4vL1xyXG4vLyAgICRzY29wZS5kYXRhID0ge1xyXG4vLyAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbi8vICAgICAge2lkOiAnLTEnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuLy8gICAgICB7aWQ6ICcwJywgbmFtZTogJ+qzteyngOyCrO2VrSd9LFxyXG4vLyAgICAgIHtpZDogJzEnLCBuYW1lOiAn7ZWZ7JuQL+2ZjeuztCd9LFxyXG4vLyAgICAgIHtpZDogJzInLCBuYW1lOiAn66qo7J6EL+yKpO2EsOuUlCd9XHJcbi8vICAgIF0sXHJcbi8vICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICctMScsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbi8vICAgIH07XHJcbi8vXHJcbi8vICAgLy8gaWTsl5Ag7ZW064u57ZWY64qUIOqwkuydhCDrs7Tsl6zso7zripQg7ZWo7IiYXHJcbi8vICAgJHNjb3BlLnVzZXJBcnRpY2xlID0gZmFsc2U7XHJcbi8vXHJcbi8vIC8vIOqwkuydhCDsoIDsnqXtlZjripQg7ZWo7IiYXHJcbi8vICAgJHNjb3BlLmFkZEJvYXJkID0gZnVuY3Rpb24odGl0bGUsIGNvbnRlbnQpe1xyXG4vLyAvLyBlbXBsb3llc3Mg7KCc64yA66GcIOuPmeyeke2VmOuKlOyngCDtmZXsnbgg7ZWE7JqUXHJcbi8vICAgICAgIHZhciBib2FyZF90eXBlID0gJHNjb3BlLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQ7XHJcbi8vICAgICAgICRodHRwLnBvc3QoJ2FwaS9ib2FyZE1lbnUnLFxyXG4vLyAgICAgICB7IHRpdGxlOnRpdGxlLCBjb250ZW50OiBjb250ZW50LCBib2FyZF90eXBlOiBib2FyZF90eXBlfSlcclxuLy8gICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpeyAgICAgICAgICAvLyDsoJXsg4Eg7J6R64+Z7ZWY7JiA7Iq164uI64ukLlxyXG4vLyAgICAgICB9KTtcclxuLy8gICB9O1xyXG4vL1xyXG4vLyBcdCRzY29wZS5zaG93Qm9hcmQgPSBmdW5jdGlvbigpe1xyXG4vLyAgIC8vIOuztOuTnCDslYTsnbTrlJQg7KCE7IahXHJcbi8vICAgdmFyIGlkID0gJHN0YXRlUGFyYW1zLmJvYXJkX2lkO1xyXG4vLyAgICAgJGh0dHAuZ2V0KCdhcGkvYm9hcmQvJytpZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbi8vIC8vIOyCrOyaqeyekOqwgCDsnpHshLHtlZwg6rKM7Iuc66y87J6F64uI64ukLlxyXG4vLyAgICAgaWYocmVzcG9uc2UuZGF0YVsxXS5zdWNjZXNzKXtcclxuLy8gICAgICAgJHNjb3BlLnVzZXJBcnRpY2xlID0gdHJ1ZTtcclxuLy8gICAgICAgJHNjb3BlLmJvYXJkID0gcmVzcG9uc2UuZGF0YVswXVswXTtcclxuLy8gICAgIH1cclxuLy8gLy8g7IKs7Jqp7J6Q6rCAIOyekeyEse2VnCDqsozsi5zrrLzsnbQg7JWE64uZ64uI64ukLlxyXG4vLyAgICAgZWxzZSB7XHJcbi8vICAgICAgICRzY29wZS51c2VyQXJ0aWNsZSA9IGZhbHNlO1xyXG4vLyAgICAgICAkc2NvcGUuYm9hcmQgPSByZXNwb25zZS5kYXRhWzBdWzBdO1xyXG4vLyAgICAgfVxyXG4vLyAgIH0pO1xyXG4vLyB9O1xyXG4vL1xyXG4vL1xyXG4vLyAgIC8vIOqwkuydhCDsgq3soJztlZjripQg7ZWo7IiYXHJcbi8vIFx0JHNjb3BlLmRlbGV0ZUJvYXJkID0gZnVuY3Rpb24oKXtcclxuLy8gICAgIHZhciBpZCA9ICRzdGF0ZVBhcmFtcy5ib2FyZF9pZDtcclxuLy8gXHRcdCRodHRwLmRlbGV0ZSgnYXBpL2JvYXJkLycraWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4vLyAgICAgICAgICRsb2NhdGlvbi5wYXRoKCdhcHAuYm9hcmQuY2F0ZWdvcnkoe2NvZGU6IDB9KScpO1xyXG4vLyBcdFx0fSk7XHJcbi8vIFx0fTtcclxuLy9cclxuLy8gICBcdC8vIOqwkuydhCDsiJjsoJXtlZjripQg7ZWo7IiYXHJcbi8vICAgXHQkc2NvcGUudXBkYXRlQm9hcmQgPSBmdW5jdGlvbigpe1xyXG4vLyAgIFx0XHR2YXIgaWQgPSAkc3RhdGVQYXJhbXMuYm9hcmRfaWQ7XHJcbi8vICAgXHRcdCRodHRwLnB1dCgnYXBpL2JvYXJkLycraWQgLCAkc2NvcGUuYm9hcmQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4vLyAgIFx0XHRcdCRzY29wZS5ib2FyZCA9IHJlc3BvbnNlLmRhdGE7XHJcbi8vICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJ2JvYXJkJyk7XHJcbi8vICAgXHRcdH0pO1xyXG4vLyAgIFx0fTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdnYWxsZXJ0Q29udHJvbGxlcnMnLFsnZ2FsbGVyeVNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdnYWxsZXJ5VGFwQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgR2FsbGVyeSl7XHJcbiAgLy8g7KCE7LK0IOuplOuJtCDqsIDsoLjsmKTquLBcclxuICBHYWxsZXJ5LnJlYWRHYWxsZXJ5VGFwKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgJHNjb3BlLmhlYWRlcnMgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignZ2FsbGVyeVBob3Rvc0N0cmwnLCBmdW5jdGlvbihHYWxsZXJ5LCAkc3RhdGVQYXJhbXMpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHZhciBwaG90b190eXBlID0gJHN0YXRlUGFyYW1zLmNvZGU7XHJcbiAgYXBwLmRhdGEgPSB7XHJcbiAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9LFxyXG4gICAgIHtzb3J0OiAnLXZpZXcnLCBuYW1lOiAn7KGw7ZqM7IicJ30sXHJcbiAgICAge3NvcnQ6ICctY29tbWVudF9jb3VudCcsIG5hbWU6J+uMk+q4gOyInCd9XHJcbiAgIF0sXHJcbiAgIHNlbGVjdGVkT3B0aW9uOiAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICB9O1xyXG5cclxuICAgIEdhbGxlcnkucmVhZFBob3RvcyhwaG90b190eXBlKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLnBob3RvRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgY29uc29sZS5sb2coYXBwLnBob3RvRGF0YSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ2dhbGxlcnlQaG90b0N0cmwnLCBmdW5jdGlvbiAoJHN0YXRlUGFyYW1zLCBHYWxsZXJ5LCBDb21tZW50LCAkc2NvcGUsICR3aW5kb3csICRzdGF0ZSkge1xyXG5cclxuICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgIHZhciBwaG90b19pZCA9ICRzdGF0ZVBhcmFtcy5waG90b19pZDtcclxuICAgdmFyIHBob3RvX3R5cGUgPSAkc3RhdGVQYXJhbXMucGhvdG9fdHlwZTtcclxuICAgdmFyIHVzZXJfaWQgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XHJcblxyXG4gICBHYWxsZXJ5LnJlYWRQaG90b0RhdGEocGhvdG9faWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgYXBwLnBob3RvRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgfSBlbHNlIHtcclxuICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgIH1cclxuICAgfSk7XHJcblxyXG4gICBHYWxsZXJ5LnJlYWRQaG90b3MocGhvdG9fdHlwZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICBhcHAucGhvdG9zRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgfSBlbHNlIHtcclxuICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgIH1cclxuICAgfSk7XHJcblxyXG4gICBDb21tZW50LnJlYWRDb21tZW50KHBob3RvX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgIGFwcC5jb21tZW50RGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICBjb25zb2xlLmxvZyhhcHAuY29tbWVudERhdGEpO1xyXG4gICAgIH0gZWxzZSB7XHJcbiAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICB9XHJcbiAgIH0pO1xyXG5cclxuICAgdGhpcy5jcmVhdGVDb21tZW50ID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICBpZighJHNjb3BlLm1haW4udXNlci51c2VyX2lkKXtcclxuICAgICAgICAgJHNjb3BlLm1haW4ubG9naW4oKTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGlmKCFkYXRhKXtcclxuICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfrjJPquIDsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgIHZhciBjb21tZW50RGF0YSA9IHtcclxuICAgICAgICAgICAgIGNvbW1lbnQgOiBkYXRhLFxyXG4gICAgICAgICAgICAgdXNlcl9pZCA6ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZCxcclxuICAgICAgICAgICAgIHBob3RvX2lkIDogcGhvdG9faWRcclxuICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICBDb21tZW50LmNyZWF0ZUNvbW1lbnQoY29tbWVudERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH0pO1xyXG4gICAgICAgICB9XHJcbiAgICAgICB9XHJcbiAgfTtcclxufSk7XHJcblxyXG5cclxuXHJcblxyXG4vLyAvLyDqsJLsnYQg7IKt7KCc7ZWY64qUIO2VqOyImFxyXG4vLyAgICRzY29wZS5kZWxldGVQaG90byA9IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgdmFyIGlkID0gJHN0YXRlUGFyYW1zLnBob3RvX2lkO1xyXG4vLyAgICAgJGh0dHAuZGVsZXRlKCcvYXBpL2dhbGxlcnkvJytpZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbi8vICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCdhcHAuZ2FsbGVyeS5jYXRlZ29yeSh7Y29kZTogMH0pJyk7XHJcbi8vICAgICB9KTtcclxuLy8gICB9O1xyXG4vL1xyXG4vL1xyXG4vLyAvLyDqsJzrs4Qg7IKs7KeEIOq0gOugqOuQnCDsnbTrr7jsp4Ag6rCA7KC47Jik6riwIHx8IOyEoO2Dne2VnCDsnbTrr7jsp4DsmYAg6rCZ7J2AIOu2hOulmOydmCDsnbTrr7jsp4Ag6rCA7KC47Jik6riwXHJcbi8vICAgJHNjb3BlLmdldFJlbGF0ZWRQaWMgPSBmdW5jdGlvbigpe1xyXG4vLyAgICAgdmFyIGNvZGUgPSAkc3RhdGVQYXJhbXMucGhvdG9fdHlwZTtcclxuLy8gICAgICRodHRwLmdldCgnL2FwaS9nYWxsZXJ5TWVudS8nK2NvZGUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4vLyAgICAgICAkc2NvcGUucGhvdG9zID0gcmVzcG9uc2UuZGF0YTtcclxuLy8gICAgIH0pO1xyXG4vLyAgIH07XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignSG9tZUN0cmwnLCBmdW5jdGlvbiAoICRodHRwLCAkc2NvcGUpIHtcclxuXHJcbiAgJHNjb3BlLmdldENvbnRlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgJGh0dHAuZ2V0KCcvYXBpL2hvbWUnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgJHNjb3BlLnBob3RvcyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxufSk7XHJcbiJdfQ==

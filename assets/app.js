angular.module("app",["ui.router","ui.bootstrap","userControllers","mainControllers","emailControllers","artistControllers","gallertControllers","commentControllers","boardControllers","managementControllers","uiCropper"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptors")}]);var app=angular.module("app");app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,a){t.otherwise("/"),e.state("app",{url:"/",views:{header:{templateUrl:"/menues/mainMenu.html",controller:"mainMenuController"},content:{templateUrl:"/main/home.html"},footer:{templateUrl:"/company/footer.html"}}}).state("management",{url:"/management",templateUrl:"/management/management.html",controller:"managementCtrl",controllerAs:"management",permission:"admin"}).state("registerStep1",{url:"/register/step1",controller:"regCtrl",controllerAs:"register",templateUrl:"/isLoggedOut/registerStep1.html",authenticated:!1}).state("registerStep2",{url:"/register/step2",controller:"regCtrl",controllerAs:"register",templateUrl:"/isLoggedOut/registerStep2.html",authenticated:!1}).state("resetusername",{url:"/resetusername",templateUrl:"/users/reset/username.html",controller:"usernameCtrl",controllerAs:"username"}).state("resetpassword",{url:"/resetpassword",templateUrl:"/users/reset/password.html",controller:"passwordCtrl",controllerAs:"password"}).state("reset",{url:"/reset/:token",templateUrl:"/users/reset/newpassword.html",controller:"resetCtrl",controllerAs:"reset"}).state("activate",{url:"/activate/:token",templateUrl:"/users/activation/activate.html",controller:"emailCtrl",controllerAs:"email"}).state("resend",{url:"/resend",templateUrl:"/users/activation/resend.html",controller:"resendCtrl",controllerAs:"resend"}).state("app.profiles",{url:"profiles",views:{"content@":{templateUrl:"isLoggedIn/userProfiles.html",controller:"profileCtrl",controllerAs:"profile",authenticated:!1}}}).state("app.photos",{url:"photos",views:{"content@":{templateUrl:"isLoggedIn/artistPhotos.html",controller:"anArtistPhotoCtrl",controllerAs:"anArtistPhoto",authenticated:!1}}}).state("app.artistProfiles",{url:"artist",views:{"content@":{templateUrl:"isLoggedIn/artistProfiles.html",controller:"artistProfileCtrl",controllerAs:"artistProfile",authenticated:!0}}}).state("app.intro",{url:"intro",views:{"content@":{templateUrl:"/company/intro.html",authenticated:!1}}}).state("app.terms",{url:"terms",views:{"content@":{templateUrl:"/company/terms.html",authenticated:!1}}}).state("app.privacy",{url:"privacy",views:{"content@":{templateUrl:"/company/privacy.html",authenticated:!1}}}).state("app.artist",{url:"artist/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.artist":{templateUrl:"/partialArtist/artistTap.html",controller:"artistTapCtrl",controllerAs:"artistTap",authenticated:!1},"contents@app.artist":{templateUrl:"/partialArtist/artists.html",controller:"artistsCtrl",controllerAs:"artists",authenticated:!1}}}).state("app.gallery",{url:"gallery/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.gallery":{templateUrl:"/partialGallery/galleryTap.html",controller:"galleryTapCtrl",controllerAs:"galleryTap"},"contents@app.gallery":{templateUrl:"/partialGallery/photos.html",controller:"galleryPhotosCtrl",controllerAs:"galleryPhotos",authenticated:!1}}}).state("app.board",{url:"board/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.board":{templateUrl:"/partialBoard/boardTap.html",controller:"boardTapCtrl",authenticated:!1},"contents@app.board":{templateUrl:"/partialBoard/boards.html",controller:"boardsCtrl",controllerAs:"boards",authenticated:!1}}}).state("app.display",{url:"display/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.display":{templateUrl:"/partialDisplay/displayTap.html",controller:"displayMenuController",authenticated:!1},"contents@app.display":{templateUrl:"/partialDisplay/content.html",controller:"displayMenuController",authenticated:!1}}}).state("app.artist.show",{url:"/artist:artist_id",views:{"contents@app.artist":{templateUrl:"/partialArtist/artist.html",controller:"artistPhotoCtrl",controllerAs:"artistPhoto",authenticated:!1}}}).state("app.gallery.show",{url:"/photo_type=:photo_type/photo:photo_id",views:{"contents@app.gallery":{templateUrl:"/partialGallery/photo.html",controller:"galleryPhotoCtrl",controllerAs:"galleryphoto"}}}).state("app.board.show",{url:"/board:board_id",views:{"contents@app.board":{templateUrl:"partialBoard/board.html",controller:"boardCtrl",controllerAs:"board"}}}).state("app.board.create",{url:"/create",views:{"contents@app.board":{templateUrl:"/partialBoard/boardCreate.html",controller:"boardCtrl",controllerAs:"board",authenticated:!0}}}).state("app.board.edit",{url:"/edit/:board_id",views:{"contents@app.board":{templateUrl:"partialBoard/boardUpdate.html",controller:"boardCtrl",controllerAs:"board",authenticated:!0}}}).state("app.gallery.edit",{url:"/edit/:photo_id",views:{"content@":{templateUrl:"/partialGallery/photoEdit.html",controller:"galleryPhotoCtrl",controllerAs:"galleryphoto"}}})}]),app.run(["$rootScope","User","$state",function(e,t,a){e.$on("$stateChangeStart",function(e,a,r,o,s,n){"admin"===a.permission&&t.getPermission().then(function(e){})}),e.$on("$stateChangeError",function(e,t,r,o,s,n){a.go("app")})}]),angular.module("commentControllers",["commentServices"]).controller("commentCtrl",["$scope","$http","$stateParams","$state","$window","Comment",function(e,t,a,r,o,s){var n=a.photo_id;this.createComment=function(t){if(e.main.user.user_id)if(t){var a={comment:t,user_id:e.main.user.user_id,photo_id:n};s.createComment(a).then(function(e){e.data.success&&r.reload()})}else o.alert("댓글을 입력해주세요.");else e.main.login()},e.deleteComment=function(e){var a=e.comment_id;t.delete("/api/comment/"+a).then(function(e){r.reload()})}}]),angular.module("app").controller("ImageCropCtrl",["$scope",function(e){e.myCroppedImage="",e.myImage=void 0,e.crobject={};var t=function(t){var a=t.currentTarget.files[0],r=new FileReader;r.onload=function(t){e.$apply(function(e){e.myImage=t.target.result})},r.readAsDataURL(a)};angular.element(document.querySelector("#fileInput")).on("change",t),this.imageCrop=function(){var t=e.myImage;console.log(t)}}]),angular.module("managementControllers",[]).controller("managementCtrl",function(){console.log("작동 중")}),angular.module("app").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,a,r){var o=e(r.fileModel),s=o.assign;a.bind("change",function(){t.$apply(function(){s(t,a[0].files[0])})})}}}]),angular.module("app").directive("match",function(){return{restrict:"A",controller:["$scope",function(e){e.doConfirm=function(t){e.confirmed=!1,t.forEach(function(t){e.confirm==t?e.confirmed=!0:e.confirmed=!1})}}],link:function(e,t,a){a.$observe("match",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)}),e.$watch("confirm",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)})}}}),angular.module("artistServices",[]).factory("Artist",["$http",function(e){return artistFactory={},artistFactory.readArtistTap=function(){return e.get("/api/artistMenu")},artistFactory.readArtists=function(t){return e.get("/api/artistMenu/"+t)},artistFactory.readArtist=function(t){return e.get("/api/artist/"+t)},artistFactory.createAristPhoto=function(t){return e.post("/api/artistProfiles",t)},artistFactory.updateAristProfile=function(t){return e.put("/api/artistProfiles",t)},artistFactory.readArtistProfile=function(t){return e.get("/api/artistProfiles/"+t)},artistFactory.readAristPhoto=function(t){return e.get("/api/artistPhotos/"+t)},artistFactory}]),angular.module("authServices",[]).factory("Auth",["$http","AuthToken",function(e,t){var a={};return a.getUser=function(){if(t.getToken())return e.post("/api/me");$q.reject({message:"User has no token"})},a.login=function(a){return e.post("/api/authenticate",a).then(function(e){return t.setToken(e.data.token),e})},a.isLoggedIn=function(){return!!t.getToken()},a.logout=function(){t.setToken()},a}]).factory("AuthToken",["$window",function(e){var t={};return t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token",t)},t.getToken=function(){return e.localStorage.getItem("token")},t}]).factory("AuthInterceptors",["AuthToken",function(e){var t={};return t.request=function(t){var a=e.getToken();return a&&(t.headers["x-access-token"]=a),t},t}]),angular.module("boardServices",[]).factory("Board",["$http",function(e){return boardFactory={},boardFactory.readBoardTap=function(){return e.get("/api/boardMenu")},boardFactory.readBoards=function(t){return e.get("/api/boardMenu/"+t)},boardFactory.readBoard=function(t){return e.get("api/board/"+t)},boardFactory.createBoard=function(t){return e.post("/api/boardMenu",t)},boardFactory}]),angular.module("commentServices",[]).factory("Comment",["$http",function(e){return commentFactory={},commentFactory.createComment=function(t){return e.post("/api/comment",t)},commentFactory.readComment=function(t){return e.get("/api/comment/"+t)},commentFactory.readBoardComment=function(t){return e.get("/api/commentBoard/"+t)},commentFactory}]),angular.module("galleryServices",[]).factory("Gallery",["$http",function(e){return galleryFactory={},galleryFactory.readGalleryTap=function(){return e.get("/api/galleryMenu")},galleryFactory.readPhotos=function(t){return e.get("/api/galleryMenu/"+t)},galleryFactory.readPhotoData=function(t){return e.get("/api/gallery/"+t)},galleryFactory.readMorePhoto=function(t){return e.get("/api/galleryMenu/"+t)},galleryFactory}]),angular.module("userServices",[]).factory("User",["$http",function(e){return userFactory={},userFactory.getPermission=function(){return e.get("/api/permission")},userFactory.create=function(t){return e.post("/api/users",t)},userFactory.activeAccount=function(t){return e.put("/api/activate/"+t)},userFactory.checkCredentials=function(t){return e.post("/api/resend",t)},userFactory.resendLink=function(t){return e.put("/api/resend",t)},userFactory.sendUsername=function(t){return e.get("/api/resetusername/"+t)},userFactory.sendPassword=function(t){return e.put("/api/resetpassword",t)},userFactory.resetPassword=function(t){return e.get("/api/resetpassword/"+t)},userFactory.savePassword=function(t){return e.put("/api/savepassword",t)},userFactory.renewSession=function(t){return e.get("/api/renewToken/"+t)},userFactory.resetPermission=function(t){return e.put("/api/users/",t)},userFactory.checkPermission=function(t){return e.get("/api/users/"+t)},userFactory.readProfiles=function(t){return e.get("/api/userProfiles/"+t)},userFactory.updateProfiles=function(t){return e.put("/api/userProfiles",t)},userFactory}]),angular.module("artistControllers",["userServices","artistServices"]).controller("artistTapCtrl",["$scope","Artist",function(e,t){t.readArtistTap().then(function(t){t.data.success?e.headers=t.data.result:app.errorMsg=t.data.message})}]).controller("artistsCtrl",["$stateParams","Artist",function(e,t){var a=this,r=e.code;a.data={availableOptions:[{sort:"-created",name:"최신순"}],selectedOption:{sort:"-created",name:"최신순"}},t.readArtists(r).then(function(e){e.data.success?a.artistDatas=e.data.result:a.errorMsg=e.data.message})}]).controller("uploadCtrl",["$http","$timeout","$scope","Artist","$state",function(e,t,a,r,o){var s=this;s.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"붓 글씨"},{id:"2",name:"펜 글씨"},{id:"3",name:"미분류"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.file={},this.mainPhotoChanged=function(e){if(e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var a=e[0],r=new FileReader;r.readAsDataURL(a),r.onload=function(e){t(function(){s.mainThumbnail={},s.mainThumbnail.dataUrl=e.target.result})}}else s.mainThumbnail={}},this.readPhoto=function(){s.errorMsg=!1,s.disabled=!0,a.$emit("LOAD");var t=new FormData;t.append("myfile",s.file.upload),e.post("/api/uploadTemp/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.disabled=!1,s.successMsg=e.data.message,s.mainImagePath=e.data.photo_path,s.file={}):(a.$emit("UNLOAD"),s.disabled=!1,s.errorMsg=e.data.message,s.file={})})},this.createPhoto=function(e){s.disabled=!1,s.errorMsg=!1,e?void 0===s.uploadData.title||null===s.uploadData.title||""===s.uploadData.title?s.errorMsg="작품의 제목을 입력해주세요.":void 0===s.uploadData.detail||null===s.uploadData.detail||""===s.uploadData.detail?s.errorMsg="작품의 설명을 입력해주세요.":void 0===s.mainImagePath||null===s.mainImagePath||""===s.mainImagePath?s.errorMsg="작품 이미지를 선택해주세요.":"0"===s.data.selectedOption.id?s.errorMsg="작품의 종류를 선택해주세요.":(s.uploadData=e,s.uploadData.user_id=a.main.user.user_id,s.uploadData.photo_type=s.data.selectedOption.id,s.uploadData.photo_path=s.mainImagePath,r.createAristPhoto(s.uploadData).then(function(e){e.data.success?(s.successMsg=e.data.message,s.disabled=!0,t(function(){o.reload()},2e3)):(s.errorMsg=e.data.message,s.successMsg=!1,s.disabled=!1)})):(s.errorMsg="빈칸을 모두 입력해주세요.",s.successMsg=!1)}}]).controller("artistProfileCtrl",["$timeout","Artist","$state","$scope",function(e,t,a,r){var o=this,s=r.main.user.user_id;o.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"붓 글씨"},{id:"2",name:"펜 글씨"},{id:"3",name:"미분류"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},t.readArtistProfile(s).then(function(e){e.data.success?o.artistData=e.data.result:o.errorMsg=e.data.message}),this.updateAristProfile=function(s){console.log("작동 중"),o.errorMsg=!1,s?void 0===o.artistData.short_info||null===o.artistData.short_info||""===o.artistData.short_info?o.errorMsg="한 줄 소개를 입력해주세요.":void 0===o.artistData.detail_info||null===o.artistData.detail_info||""===o.artistData.detail_info?o.errorMsg="상세 소개를 입력해주세요.":(o.artistData=s,o.artistData.user_id=r.main.user.user_id,t.updateAristProfile(o.artistData).then(function(t){t.data.success?(o.errorMsg=!1,o.successMsg=t.data.message,o.disabled=!0,e(function(){a.reload()},2e3)):o.errorMsg="올바르지 않은 값이 입력되었습니다."})):o.errorMsg="필수기재사항을 입력해주세요."}}]).controller("anArtistPhotoCtrl",["Artist","$stateParams","$scope",function(e,t,a){var r=this,o=a.main.user.user_id;e.readArtistProfile(o).then(function(e){e.data.success?r.artistData=e.data.result:r.errorMsg=e.data.message}),e.readAristPhoto(o).then(function(e){e.data.success?r.artistPhotos=e.data.result:r.errorMsg=e.data.message})}]).controller("artistPhotoCtrl",["Artist","$stateParams",function(e,t){var a=this,r=t.artist_id;e.readArtistProfile(r).then(function(e){e.data.success?a.artistData=e.data.result:a.errorMsg=e.data.message}),e.readAristPhoto(r).then(function(e){e.data.success?a.artistPhotos=e.data.result:a.errorMsg=e.data.message})}]),angular.module("boardControllers",["boardServices"]).filter("to_trusted",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]).controller("boardTapCtrl",["Board","$scope",function(e,t){e.readBoardTap().then(function(e){t.headers=e.data})}]).controller("boardsCtrl",["$stateParams","Board","$scope","$state",function(e,t,a,r){var o=this,s=e.code;o.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},t.readBoards(s).then(function(e){o.boardDatas=e.data.result}),this.createBoard=function(e){a.main.user.user_id?r.go("app.board.create"):a.main.login()}}]).controller("boardCtrl",["$stateParams","Board","$scope","$http","$state","$timeout","Comment","$window",function(e,t,a,r,o,s,n,i){var l=this,c=e.board_id;l.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"공지사항"},{id:"2",name:"잡학사전"},{id:"3",name:"질문사항"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},n.readBoardComment(c).then(function(e){e.data.success?l.commentData=e.data.result:l.errorMsg=e.data.message}),this.createComment=function(e){if(a.main.user.user_id)if(e){var t={comment:e,user_id:a.main.user.user_id,board_id:c};n.createComment(t).then(function(e){e.data.success&&o.reload()})}else i.alert("댓글을 입력해주세요.");else a.main.login()},$(document).ready(function(){$("#summernote").summernote({lang:"ko-KR",height:100,minHeight:null,maxHeight:null,focus:!0,placeholder:"댓글은 1,000자까지 작성할 수 있으며 주제와 무관한 댓글, 악성 댓글은 삭제될 수 있습니다.",toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]]]})}),this.createBoard=function(e){if(l.disabled=!0,l.errorMsg=!1,"0"===l.data.selectedOption.id)l.errorMsg="게시글의 종류를 선택해주세요",l.disabled=!1;else if(void 0===e||null===e||""===e)l.errorMsg="제목을 입력해주세요.",l.disabled=!1;else if("<p><br></p>"===$("#summernote").summernote("code")||null===$("#summernote").summernote("code")||void 0===$("#summernote").summernote("code")||""===$("#summernote").summernote("code"))l.errorMsg="내용을 입력해주세요.",l.disabled=!1;else{var r=$("#summernote").summernote("code"),n=l.data.selectedOption.id,i=e.title,c={title:i,content:r,board_type:n,user_id:a.main.user.user_id};t.createBoard(c).then(function(e){e.data.success?(l.successMsg=e.data.message,s(function(){o.go("app.board")},500)):(l.disabled=!1,l.errorMsg=e.data.message)})}},t.readBoard(c).then(function(e){e.data.success?(l.boardDatas=e.data.result,l.htmlcontent=e.data.result.content):l.errorMsg=e.data.message})}]),angular.module("gallertControllers",["galleryServices"]).controller("galleryTapCtrl",["$scope","Gallery",function(e,t){t.readGalleryTap().then(function(t){t.data.success?e.headers=t.data.result:app.errorMsg=t.data.message})}]).controller("galleryPhotosCtrl",["Gallery","$stateParams",function(e,t){var a=this,r=t.code;a.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},e.readPhotos(r).then(function(e){e.data.success?a.photoData=e.data.result:a.errorMsg=e.data.message})}]).controller("galleryPhotoCtrl",["$stateParams","Gallery","Comment","$scope","$window","$state",function(e,t,a,r,o,s){var n=this,i=e.photo_id,l=e.photo_type;r.main.user.user_id;t.readPhotoData(i).then(function(e){e.data.success?n.photoData=e.data.result:n.errorMsg=e.data.message}),t.readPhotos(l).then(function(e){e.data.success?n.photosData=e.data.result:n.errorMsg=e.data.message}),a.readComment(i).then(function(e){e.data.success?(n.commentData=e.data.result,console.log(n.commentData)):n.errorMsg=e.data.message}),this.createComment=function(e){if(r.main.user.user_id)if(e){var t={comment:e,user_id:r.main.user.user_id,photo_id:i};a.createComment(t).then(function(e){e.data.success&&s.reload()})}else o.alert("댓글을 입력해주세요.");else r.main.login()}}]),angular.module("app").controller("HomeCtrl",["$http","$scope",function(e,t){t.getContent=function(){e.get("/api/home").then(function(e){t.photos=e.data})}}]),angular.module("mainControllers",["authServices","userServices"]).controller("mainCtrl",["Auth","$timeout","$location","$state","$rootScope","$scope","$window","$interval","User","AuthToken",function(e,t,a,r,o,s,n,i,l,c){var d=this;d.loadme=!1,s.$on("LOAD",function(){s.loading=!0}),s.$on("UNLOAD",function(){s.loading=!1}),o.$on("$stateChangeStart",function(){u||u(),e.isLoggedIn()?(d.isLoggedIn=!0,e.getUser().then(function(e){d.user=e.data,l.getPermission().then(function(e){e.data.success?"admin"===e.data.permission?(d.authorized=!0,d.loadme=!0):"artist"===e.data.permission?(d.permission=!0,d.loadme=!0):(d.permission=!1,d.authorized=!1,d.loadme=!0):(d.permission=!1,d.authorized=!1,d.loadme=!0)})})):(d.user=!1,d.isLoggedIn=!1,d.loadme=!0)});var u=function(){if(e.isLoggedIn()){d.checkSession=!0;var t=i(function(){var e=n.localStorage.getItem("token");if(null===e)i.cancel(t);else{self.parseJwt=function(e){var t=e.split(".")[1],a=t.replace("-","+").replace("_","/");return JSON.parse(n.atob(a))};var a=self.parseJwt(e),r=Math.floor(Date.now()/1e3);a.exp-r<=5&&(m("expired"),i.cancel(t))}},2e3)}};u(),d.renewSession=function(){d.choiceMade=!0,l.renewSession(d.user.username).then(function(e){e.data.success?(c.setToken(e.data.token),u(),p("expired")):(d.ModalBody=e.data.message,p("expired"))})},d.endSession=function(){d.choiceMade=!0,p("expired"),t(function(){m("logout")},500)};var m=function(a){d.choiceMade=!1,d.modalHeader=void 0,d.modalBody=void 0,d.hideButton=!1,"expired"===a?(d.modalHeader="Timeout Warning",d.modalBody="Your session will expired in 5 minutes. Would you like to renew your session?",$("#myModal").modal({backdrop:"static"})):"logout"===a?(d.hideButton=!0,d.modalHeader="로그아웃",$("#myModal").modal({backdrop:"static"}),t(function(){e.logout(),d.isLoggedIn=!1,p("logout"),r.reload()},2e3)):"login"===a?$("#login").modal({backdrop:"static"}):"upload"===a&&$("#upload").modal({backdrop:"static"}),t(function(){d.choiceMade||p("logout")},4e3)},p=function(e){"expired"===e?$("#myModal").modal("hide"):"logout"===e?$("#myModal").modal("hide"):"login"===e?$("#login").modal("hide"):"upload"===e&&$("#upload").modal("hide")};this.doLogin=function(a,o){d.errorMsg=!1,d.expired=!1,d.disabled=!0,o?e.login(d.loginData).then(function(e){e.data.success?(d.disabled=!0,d.successMsg=e.data.message,t(function(){p("login"),d.loginData=null,d.isLoggedIn=!0,u(),r.reload()},2e3)):e.data.expired?(d.expired=!0,d.disabled=!0,d.errorMsg=e.data.message):(d.disabled=!1,d.errorMsg=e.data.message)}):(d.disabled=!1,d.loading=!1,d.errorMsg="올바른 정보를 입력해주세요.")},this.upload=function(){d.choiceMade=!0,"artist"===d.user.permission?r.go("app.artistProfiles"):l.checkPermission(d.user.username).then(function(e){e.data.success?(r.go("app.artistProfiles"),d.permission=!0):m("upload")})},this.doPermission=function(){d.choiceMade=!0,d.uploadDisabled=!0,d.uploaderrorMsg=!1,l.resetPermission(d.user).then(function(e){e.data.success?(d.uploadDisabled=!0,d.uploadSuccessMsg=e.data.message,t(function(){p("upload"),r.go("app.artistProfiles")},2e3)):(d.uploadDisabled=!1,d.uploaderrorMsg="잘못된 정보가 입력되었습니다.")})},d.login=function(){d.successMsg=!1,d.errorMsg=!1,d.disabled=!1,m("login")},d.logout=function(){m("logout")},d.resend=function(){p("login"),t(function(){r.go("resend"),d.expired=!1},500)},d.resetusername=function(){p("login"),t(function(){r.go("resetusername")},500)},d.resetpassword=function(){p("login"),t(function(){r.go("resetpassword")},500)}}]),angular.module("app").controller("mainMenuController",["$http","$scope",function(e,t){e.get("/api/header").then(function(e){t.headers=e.data})}]),angular.module("emailControllers",["userServices"]).controller("emailCtrl",["$stateParams","User","$timeout","$state",function(e,t,a,r){var o=this;t.activeAccount(e.token).then(function(e){o.successMsg=!1,o.errorMsg=!1,e.data.success?(o.disabled=!0,o.successMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3)):(o.errorMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3))})}]).controller("resendCtrl",["User","$timeout","$state",function(e,t,a){app=this,this.checkCredentials=function(r){app.successMsg=!1,app.errorMsg=!1,app.disabled=!0,e.checkCredentials(this.loginData).then(function(r){r.data.success?e.resendLink(app.loginData).then(function(e){e.data.success&&(app.disabled=!0,app.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3))}):(app.disabled=!1,app.errorMsg=r.data.message)})}}]).controller("usernameCtrl",["User","$timeout","$state",function(e,t,a){var r=this;this.sendUsername=function(o,s){r.errorMsg=!1,r.disabled=!0,s?e.sendUsername(r.userData.email).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 이메일 주소가 아닙니다.")}}]).controller("passwordCtrl",["User","$timeout","$state",function(e,t,a){var r=this;r.sendPassword=function(o,s){r.errorMsg=!1,r.disabled=!0,s?e.sendPassword(r.resetData).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 아이디가 아닙니다.")}}]).controller("resetCtrl",["$stateParams","$scope","User","$timeout","$state",function(e,t,a,r,o){var s=this;s.hide=!0,a.resetPassword(e.token).then(function(e){e.data.success?(s.hide=!1,t.alert="alert alert-success",s.successMsg="새로운 비밀번호를 입력해주세요.",t.username=e.data.user[0].username):(t.alert="alert alert-danger",s.errorMsg=e.data.message)}),s.savePassword=function(e,n,i){s.errorMsg=!1,s.successMsg=!1,s.disabled=!0,s.loading=!0,n&&i?(s.regData.username=t.username,a.savePassword(s.regData).then(function(e){s.loading=!1,e.data.success?(t.alert="alert alert-success",s.successMsg=e.data.message+"...메인 화면으로 이동합니다.",r(function(){o.go("app")},2e3)):(t.alert="alert alert-danger",s.disabled=!1,s.errorMsg=e.data.message)})):(t.alert="alert alert-danger",s.loading=!1,s.disabled=!1,s.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("userControllers",["userServices"]).controller("regCtrl",["$http","$location","$timeout","User","Auth","$state",function(e,t,a,r,o,s){var n=this;this.regStep1=function(e){n.errorMsg=!1,e?e.terms&&e.privacy?(n.successMsg="약관에 성공적으로 동의하셨습니다.",n.disabled=!0,s.go("registerStep2")):(n.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다.",n.disabled=!1):n.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다."},this.regStep2=function(e,t,o){n.errorMsg=!1,n.disabled=!0,t&&o?r.create(n.regData).then(function(e){e.data.success?(n.disabled=!0,n.successMsg=e.data.message,a(function(){$("#register").modal("hide"),n.regData=null,n.isLoggedIn=!1,s.go("app")},3e3)):(n.disabled=!1,n.errorMsg=e.data.message)}):(n.disabled=!1,n.loading=!1,n.errorMsg="올바른 정보를 입력해주세요.")}}]).controller("profileCtrl",["$scope","User","$timeout","$state","$http",function(e,t,a,r,o){var s=this,n=e.main.user.username;t.readProfiles(n).then(function(e){e.data.success?s.readData=e.data.profiles:s.errorMsg=e.data.message}),this.file={},this.photoChanged=function(e){if(e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var t=e[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){a(function(){s.thumbnail={},s.thumbnail.dataUrl=e.target.result,s.uploading=!1,s.message=!1})}}else s.thumbnail={},s.message=!1},this.updateProfileImage=function(){s.errorMsg=!1,s.disabled=!0,e.$emit("LOAD");var t=new FormData,n=e.main.user.user_id;t.append("myfile",s.file.upload),o.put("/api/uploadTemp/"+n,t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(t){t.data.success?(e.$emit("UNLOAD"),s.successMsg=t.data.message,s.file={},a(function(){r.reload()},1e3)):(e.$emit("UNLOAD"),s.disabled=!1,s.errorMsg=t.data.message,s.file={})})},this.updateProfile=function(){s.errorMsg=!1,s.disabled=!0,s.readData.user_id=e.main.user.user_id,t.updateProfiles(s.readData).then(function(e){e.data.success?(s.successMsg=e.data.message,a(function(){r.reload()},2e3)):(s.errorMsg=e.data.message,s.disabled=!1)})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsInJvdXRlLmpzIiwiY29udG9yb2xsZXJzL2NvbW1lbnRDdHJsLmpzIiwiY29udG9yb2xsZXJzL2ltYWdlQ3JvcC5qcyIsImNvbnRvcm9sbGVycy9tYW5hZ2VtZW50Q3RybC5qcyIsImRpcmVjdGl2ZXMvZmlsZU1vZGVsLmpzIiwiZGlyZWN0aXZlcy9tYXRjaFBhc3N3b3JkLmpzIiwic2VydmljZXMvYXJ0aXN0U2VydmljZXMuanMiLCJzZXJ2aWNlcy9hdXRoU2VydmljZXMuanMiLCJzZXJ2aWNlcy9ib2FyZFNlcnZpY2VzLmpzIiwic2VydmljZXMvY29tbWVudFNlcnZpY2VzLmpzIiwic2VydmljZXMvZ2FsbGVyeVNlcnZpY2VzLmpzIiwic2VydmljZXMvdXNlclNlcnZpY2VzLmpzIiwiY29udG9yb2xsZXJzL2NhdGVnb3JpZXMvYXJ0aXN0Q3RybC5qcyIsImNvbnRvcm9sbGVycy9jYXRlZ29yaWVzL2JvYXJkQ3RybC5qcyIsImNvbnRvcm9sbGVycy9jYXRlZ29yaWVzL2dhbGxlcnlDdHJsLmpzIiwiY29udG9yb2xsZXJzL2NhdGVnb3JpZXMvaG9tZUN0cmwuanMiLCJjb250b3JvbGxlcnMvbWFpbi9tYWluQ3RybC5qcyIsImNvbnRvcm9sbGVycy9tYWluL21lbnVDdHJsLmpzIiwiY29udG9yb2xsZXJzL3VzZXIvZW1haWxDdHJsLmpzIiwiY29udG9yb2xsZXJzL3VzZXIvdXNlckN0cmwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwiYXBwIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIiwidXJsIiwidmlld3MiLCJoZWFkZXIiLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJjb250ZW50IiwiZm9vdGVyIiwiY29udHJvbGxlckFzIiwicGVybWlzc2lvbiIsImF1dGhlbnRpY2F0ZWQiLCJjb250ZW50QCIsIm1lbnVAYXBwLmFydGlzdCIsImNvbnRlbnRzQGFwcC5hcnRpc3QiLCJtZW51QGFwcC5nYWxsZXJ5IiwiY29udGVudHNAYXBwLmdhbGxlcnkiLCJtZW51QGFwcC5ib2FyZCIsImNvbnRlbnRzQGFwcC5ib2FyZCIsIm1lbnVAYXBwLmRpc3BsYXkiLCJjb250ZW50c0BhcHAuZGlzcGxheSIsInJ1biIsIiRyb290U2NvcGUiLCJVc2VyIiwiJHN0YXRlIiwiJG9uIiwiZXZlbnQiLCJ0b1N0YXRlIiwidG9QYXJhbXMiLCJmcm9tU3RhdGUiLCJmcm9tUGFyYW1zIiwib3B0aW9ucyIsImdldFBlcm1pc3Npb24iLCJ0aGVuIiwiZGF0YSIsImVycm9yIiwiZ28iLCIkc2NvcGUiLCIkaHR0cCIsIiRzdGF0ZVBhcmFtcyIsIiR3aW5kb3ciLCJDb21tZW50IiwicGhvdG9faWQiLCJ0aGlzIiwiY3JlYXRlQ29tbWVudCIsIm1haW4iLCJ1c2VyIiwidXNlcl9pZCIsImNvbW1lbnREYXRhIiwiY29tbWVudCIsInN1Y2Nlc3MiLCJyZWxvYWQiLCJhbGVydCIsImxvZ2luIiwiZGVsZXRlQ29tbWVudCIsInJlc3BvbnNlIiwiaWQiLCJjb21tZW50X2lkIiwiZGVsZXRlIiwibXlDcm9wcGVkSW1hZ2UiLCJteUltYWdlIiwidW5kZWZpbmVkIiwiY3JvYmplY3QiLCJoYW5kbGVGaWxlU2VsZWN0IiwiZXZ0IiwiZmlsZSIsImN1cnJlbnRUYXJnZXQiLCJmaWxlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCIkYXBwbHkiLCJ0YXJnZXQiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiZWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm9uIiwiaW1hZ2VDcm9wIiwiaW1nQmxvYiIsImNvbnNvbGUiLCJsb2ciLCJkaXJlY3RpdmUiLCIkcGFyc2UiLCJyZXN0cmljdCIsImxpbmsiLCJzY29wZSIsImF0dHJzIiwicGFyc2VkRmlsZSIsImZpbGVNb2RlbCIsInBhcnNlZGZpbGVTZXR0ZXIiLCJhc3NpZ24iLCJiaW5kIiwiZG9Db25maXJtIiwidmFsdWVzIiwiY29uZmlybWVkIiwiZm9yRWFjaCIsImVsZSIsImNvbmZpcm0iLCIkb2JzZXJ2ZSIsIm1hdGNoZXMiLCJKU09OIiwicGFyc2UiLCJtYXRjaCIsIiR3YXRjaCIsImZhY3RvcnkiLCJhcnRpc3RGYWN0b3J5IiwicmVhZEFydGlzdFRhcCIsImdldCIsInJlYWRBcnRpc3RzIiwidXNlcl90eXBlIiwicmVhZEFydGlzdCIsImFydGlzdF9pZCIsImNyZWF0ZUFyaXN0UGhvdG8iLCJwaG90b0RhdGEiLCJwb3N0IiwidXBkYXRlQXJpc3RQcm9maWxlIiwiYXJ0aXN0RGF0YSIsInB1dCIsInJlYWRBcnRpc3RQcm9maWxlIiwicmVhZEFyaXN0UGhvdG8iLCJBdXRoVG9rZW4iLCJhdXRoRmFjdG9yeSIsImdldFVzZXIiLCJnZXRUb2tlbiIsIiRxIiwicmVqZWN0IiwibWVzc2FnZSIsImxvZ2luRGF0YSIsInNldFRva2VuIiwidG9rZW4iLCJpc0xvZ2dlZEluIiwibG9nb3V0IiwiYXV0aFRva2VuRmFjdG9yeSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiZ2V0SXRlbSIsImF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5IiwicmVxdWVzdCIsImhlYWRlcnMiLCJib2FyZEZhY3RvcnkiLCJyZWFkQm9hcmRUYXAiLCJyZWFkQm9hcmRzIiwiYm9hcmRfdHlwZSIsInJlYWRCb2FyZCIsImJvYXJkX2lkIiwiY3JlYXRlQm9hcmQiLCJib2FyZERhdGEiLCJjb21tZW50RmFjdG9yeSIsInJlYWRDb21tZW50IiwicmVhZEJvYXJkQ29tbWVudCIsImdhbGxlcnlGYWN0b3J5IiwicmVhZEdhbGxlcnlUYXAiLCJyZWFkUGhvdG9zIiwicGhvdG9fdHlwZSIsInJlYWRQaG90b0RhdGEiLCJyZWFkTW9yZVBob3RvIiwidXNlckZhY3RvcnkiLCJjcmVhdGUiLCJyZWdEYXRhIiwiYWN0aXZlQWNjb3VudCIsImNoZWNrQ3JlZGVudGlhbHMiLCJyZXNlbmRMaW5rIiwidXNlcm5hbWUiLCJzZW5kVXNlcm5hbWUiLCJ1c2VyRGF0YSIsInNlbmRQYXNzd29yZCIsInJlc2V0RGF0YSIsInJlc2V0UGFzc3dvcmQiLCJzYXZlUGFzc3dvcmQiLCJyZW5ld1Nlc3Npb24iLCJyZXNldFBlcm1pc3Npb24iLCJjaGVja1Blcm1pc3Npb24iLCJyZWFkUHJvZmlsZXMiLCJ1cGRhdGVQcm9maWxlcyIsInVwZGF0ZURhdGEiLCJBcnRpc3QiLCJlcnJvck1zZyIsImNvZGUiLCJhdmFpbGFibGVPcHRpb25zIiwic29ydCIsIm5hbWUiLCJzZWxlY3RlZE9wdGlvbiIsImFydGlzdERhdGFzIiwiJHRpbWVvdXQiLCJtYWluUGhvdG9DaGFuZ2VkIiwibGVuZ3RoIiwiZmlsZVJlYWRlciIsImUiLCJtYWluVGh1bWJuYWlsIiwiZGF0YVVybCIsInJlYWRQaG90byIsImRpc2FibGVkIiwiJGVtaXQiLCJmZCIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidXBsb2FkIiwidHJhbnNmb3JtUmVxdWVzdCIsImlkZW50aXR5IiwiQ29udGVudC1UeXBlIiwic3VjY2Vzc01zZyIsIm1haW5JbWFnZVBhdGgiLCJwaG90b19wYXRoIiwiY3JlYXRlUGhvdG8iLCJ1cGxvYWREYXRhIiwidGl0bGUiLCJkZXRhaWwiLCJzaG9ydF9pbmZvIiwiZGV0YWlsX2luZm8iLCJhcnRpc3RQaG90b3MiLCJmaWx0ZXIiLCIkc2NlIiwidGV4dCIsInRydXN0QXNIdG1sIiwiQm9hcmQiLCJib2FyZERhdGFzIiwiJCIsInJlYWR5Iiwic3VtbWVybm90ZSIsImxhbmciLCJoZWlnaHQiLCJtaW5IZWlnaHQiLCJtYXhIZWlnaHQiLCJmb2N1cyIsInBsYWNlaG9sZGVyIiwidG9vbGJhciIsImh0bWxjb250ZW50IiwiR2FsbGVyeSIsInBob3Rvc0RhdGEiLCJnZXRDb250ZW50IiwicGhvdG9zIiwiQXV0aCIsIiRsb2NhdGlvbiIsIiRpbnRlcnZhbCIsImxvYWRtZSIsImxvYWRpbmciLCJjaGVja1Nlc3Npb24iLCJhdXRob3JpemVkIiwiaW50ZXJ2YWwiLCJjYW5jZWwiLCJzZWxmIiwicGFyc2VKd3QiLCJiYXNlNjRVcmwiLCJzcGxpdCIsImJhc2U2NCIsInJlcGxhY2UiLCJhdG9iIiwiZXhwaXJlVGltZSIsInRpbWVTdGFtcCIsIk1hdGgiLCJmbG9vciIsIkRhdGUiLCJub3ciLCJleHAiLCJzaG93TW9kYWwiLCJjaG9pY2VNYWRlIiwiaGlkZU1vZGFsIiwiTW9kYWxCb2R5IiwiZW5kU2Vzc2lvbiIsIm9wdGlvbiIsIm1vZGFsSGVhZGVyIiwibW9kYWxCb2R5IiwiaGlkZUJ1dHRvbiIsIm1vZGFsIiwiYmFja2Ryb3AiLCJkb0xvZ2luIiwidmFsaWQiLCJleHBpcmVkIiwiZG9QZXJtaXNzaW9uIiwidXBsb2FkRGlzYWJsZWQiLCJ1cGxvYWRlcnJvck1zZyIsInVwbG9hZFN1Y2Nlc3NNc2ciLCJyZXNlbmQiLCJyZXNldHVzZXJuYW1lIiwicmVzZXRwYXNzd29yZCIsImVtYWlsIiwiaGlkZSIsInJlZ1N0ZXAxIiwicmVnU3RlcDIiLCJyZWFkRGF0YSIsInByb2ZpbGVzIiwicGhvdG9DaGFuZ2VkIiwidGh1bWJuYWlsIiwidXBsb2FkaW5nIiwidXBkYXRlUHJvZmlsZUltYWdlIiwidXBkYXRlUHJvZmlsZSJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQUFDLE9BQUEsT0FDQSxZQUNBLGVBQ0Esa0JBQ0Esa0JBQ0EsbUJBQ0Esb0JBQ0EscUJBQ0EscUJBQ0EsbUJBQ0Esd0JBQ0EsY0FDQUMsUUFBQSxnQkFBQSxTQUFBQyxHQUNBQSxFQUFBQyxhQUFBQyxLQUFBLHNCQ2JBLElBQUFDLEtBQUFOLFFBQUFDLE9BQUEsTUFDQUssS0FBQUosUUFBQSxpQkFBQSxxQkFBQSxvQkFBQSxTQUFBSyxFQUFBQyxFQUFBQyxHQUNBRCxFQUFBRSxVQUFBLEtBR0FILEVBQ0FJLE1BQUEsT0FDQUMsSUFBQSxJQUNBQyxPQUNBQyxRQUNBQyxZQUFBLHdCQUNBQyxXQUFBLHNCQUVBQyxTQUNBRixZQUFBLG1CQUVBRyxR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TixRQUFBbU4sU0FDQTVELFNBQUE2RCxtQkFBQTdJLE1BQ0E1QixLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUFnQixTQUNBYixFQUFBOEosTUFBQSxVQUNBdk0sRUFBQStNLFdBQUF6SyxFQUFBQSxLQUFBOEYsUUFDQXBJLEVBQUFxRSxRQUNBeUgsRUFBQSxXQUNBbEssRUFBQTJCLFVBQ0EsT0FFQWQsRUFBQThKLE1BQUEsVUFDQXZNLEVBQUFzTSxVQUFBLEVBQ0F0TSxFQUFBdUwsU0FBQWpKLEVBQUFBLEtBQUE4RixRQUNBcEksRUFBQXFFLFlBTUF0QixLQUFBcVAsY0FBQSxXQUNBcFMsRUFBQXVMLFVBQUEsRUFDQXZMLEVBQUFzTSxVQUFBLEVBQ0F0TSxFQUFBOFIsU0FBQTNPLFFBQUFWLEVBQUFRLEtBQUFDLEtBQUFDLFFBQ0F4QixFQUFBeUosZUFBQXBMLEVBQUE4UixVQUFBelAsS0FBQSxTQUFBQyxHQUNBQSxFQUFBQSxLQUFBZ0IsU0FDQXRELEVBQUErTSxXQUFBekssRUFBQUEsS0FBQThGLFFBQ0EwRCxFQUFBLFdBQ0FsSyxFQUFBMkIsVUFDQSxPQUVBdkQsRUFBQXVMLFNBQUFqSixFQUFBQSxLQUFBOEYsUUFDQXBJLEVBQUFzTSxVQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdhcHAnLFtcclxuICAgICd1aS5yb3V0ZXInLFxyXG4gICAgJ3VpLmJvb3RzdHJhcCcsXHJcbiAgICAndXNlckNvbnRyb2xsZXJzJyxcclxuICAgICdtYWluQ29udHJvbGxlcnMnLFxyXG4gICAgJ2VtYWlsQ29udHJvbGxlcnMnLFxyXG4gICAgJ2FydGlzdENvbnRyb2xsZXJzJyxcclxuICAgICdnYWxsZXJ0Q29udHJvbGxlcnMnLFxyXG4gICAgJ2NvbW1lbnRDb250cm9sbGVycycsXHJcbiAgICAnYm9hcmRDb250cm9sbGVycycsXHJcbiAgICAnbWFuYWdlbWVudENvbnRyb2xsZXJzJyxcclxuICAgICd1aUNyb3BwZXInXHJcbl0pLmNvbmZpZyhmdW5jdGlvbigkaHR0cFByb3ZpZGVyKXtcclxuICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdBdXRoSW50ZXJjZXB0b3JzJyk7XHJcbn0pO1xyXG4iLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5hcHAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xyXG4kdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG4vLyAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcblxyXG4gJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAgICAuc3RhdGUoJ2FwcCcsIHtcclxuICAgICAgICAgICAgIHVybDogJy8nLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnaGVhZGVyJzoge1xyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tZW51ZXMvbWFpbk1lbnUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYWluTWVudUNvbnRyb2xsZXInXHJcbiAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICdjb250ZW50Jzoge1xyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2hvbWUuaHRtbCdcclxuICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgJ2Zvb3Rlcic6IHtcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS9mb290ZXIuaHRtbCdcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdtYW5hZ2VtZW50Jywge1xyXG4gICAgICAgICAgICAgIHVybDonL21hbmFnZW1lbnQnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21hbmFnZW1lbnQvbWFuYWdlbWVudC5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWFuYWdlbWVudEN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ21hbmFnZW1lbnQnLFxyXG4gICAgICAgICAgICAgIHBlcm1pc3Npb246ICdhZG1pbidcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncmVnaXN0ZXJTdGVwMScsXHJcbiAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgIHVybDogJy9yZWdpc3Rlci9zdGVwMScsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZWdDdHJsJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVnaXN0ZXInLFxyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9pc0xvZ2dlZE91dC9yZWdpc3RlclN0ZXAxLmh0bWwnLFxyXG4gICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZWdpc3RlclN0ZXAyJyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyL3N0ZXAyJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlZ0N0cmwnLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWdpc3RlcicsXHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2lzTG9nZ2VkT3V0L3JlZ2lzdGVyU3RlcDIuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZXNldHVzZXJuYW1lJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJy9yZXNldHVzZXJuYW1lJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9yZXNldC91c2VybmFtZS5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAndXNlcm5hbWVDdHJsJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICd1c2VybmFtZSdcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncmVzZXRwYXNzd29yZCcsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZXRwYXNzd29yZCcsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVzZXQvcGFzc3dvcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Bhc3N3b3JkQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncGFzc3dvcmQnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Jlc2V0JyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJy9yZXNldC86dG9rZW4nLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3Jlc2V0L25ld3Bhc3N3b3JkLmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZXNldEN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Jlc2V0J1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYWN0aXZhdGUnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2FjdGl2YXRlLzp0b2tlbicsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvYWN0aXZhdGlvbi9hY3RpdmF0ZS5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZW1haWxDdHJsJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdlbWFpbCdcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncmVzZW5kJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJy9yZXNlbmQnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL2FjdGl2YXRpb24vcmVzZW5kLmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdyZXNlbmRDdHJsJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZXNlbmQnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuXHJcbiAgLy8g7Jyg7KCAIO2UhOuhnO2VhCDrqqjslYQg64aT7J2AIOqzsyAgLyDqs4TsoJUg7KCV67O0XHJcbiAgICAgICAgICAgLnN0YXRlKCdhcHAucHJvZmlsZXMnLCB7XHJcbiAgICAgICAgICAgICB1cmw6ICdwcm9maWxlcycsXHJcbiAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaXNMb2dnZWRJbi91c2VyUHJvZmlsZXMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncHJvZmlsZUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncHJvZmlsZScsXHJcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4vLyDsnpHqsIAg7J6R7ZKIIOuqqOyVhCDrhpPsnYAg6rOzXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5waG90b3MnLCB7XHJcbiAgICAgICAgICAgIHVybDogJ3Bob3RvcycsXHJcbiAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2lzTG9nZ2VkSW4vYXJ0aXN0UGhvdG9zLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2FuQXJ0aXN0UGhvdG9DdHJsJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2FuQXJ0aXN0UGhvdG8nLFxyXG4gICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9KVxyXG5cclxuLy8g65Ox66Gd65CcIOyekeqwgOydmCDsnpHtkogg7JeF66Gc65OcICYg7J6R6rCAIO2UhOuhnO2VhFxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwLmFydGlzdFByb2ZpbGVzJywge1xyXG4gICAgICAgICAgICAgdXJsOiAnYXJ0aXN0JyxcclxuICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdpc0xvZ2dlZEluL2FydGlzdFByb2ZpbGVzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2FydGlzdFByb2ZpbGVDdHJsJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2FydGlzdFByb2ZpbGUnLFxyXG4gICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogdHJ1ZVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5pbnRybycsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICdpbnRybycsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jb21wYW55L2ludHJvLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLnRlcm1zJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJ3Rlcm1zJyxcclxuICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NvbXBhbnkvdGVybXMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAucHJpdmFjeScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICdwcml2YWN5JyxcclxuICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2NvbXBhbnkvcHJpdmFjeS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09ICBhcnRpc3QgLyBnYWxsZXJ5IC8gZXhoaWJpdGlvbiAvIGJvYXJkID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy9cclxuLy8gPT09PT09PT09PT09PT09PT09ICBhcnRpc3Qg7Lm07YWM6rOg66asID09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy9cclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmFydGlzdCcsIHtcclxuICAgICAgICAgICAgICB1cmw6ICdhcnRpc3QvY2F0ZWdvcnk9OmNvZGUnLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFpbi9mb3JtLmh0bWwnXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgJ21lbnVAYXBwLmFydGlzdCc6e1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsQXJ0aXN0L2FydGlzdFRhcC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2FydGlzdFRhcEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhcnRpc3RUYXAnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAuYXJ0aXN0Jzp7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxBcnRpc3QvYXJ0aXN0cy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2FydGlzdHNDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYXJ0aXN0cycsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAuc3RhdGUoJ2FwcC5nYWxsZXJ5Jywge1xyXG4gICAgICAgICAgICAgICB1cmw6ICdnYWxsZXJ5L2NhdGVnb3J5PTpjb2RlJyxcclxuICAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21haW4vZm9ybS5odG1sJ1xyXG4gICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgJ21lbnVAYXBwLmdhbGxlcnknOntcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxHYWxsZXJ5L2dhbGxlcnlUYXAuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZ2FsbGVyeVRhcEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZ2FsbGVyeVRhcCdcclxuICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAuZ2FsbGVyeSc6e1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEdhbGxlcnkvcGhvdG9zLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dhbGxlcnlQaG90b3NDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dhbGxlcnlQaG90b3MnLFxyXG4gICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAuc3RhdGUoJ2FwcC5ib2FyZCcsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJ2JvYXJkL2NhdGVnb3J5PTpjb2RlJyxcclxuICAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21haW4vZm9ybS5odG1sJ1xyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAnbWVudUBhcHAuYm9hcmQnOntcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsQm9hcmQvYm9hcmRUYXAuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2JvYXJkVGFwQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5ib2FyZCc6e1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxCb2FyZC9ib2FyZHMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2JvYXJkc0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2JvYXJkcycsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmRpc3BsYXknLCB7XHJcbiAgICAgICAgICAgICAgIHVybDogJ2Rpc3BsYXkvY2F0ZWdvcnk9OmNvZGUnLFxyXG4gICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFpbi9mb3JtLmh0bWwnXHJcbiAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAnbWVudUBhcHAuZGlzcGxheSc6e1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbERpc3BsYXkvZGlzcGxheVRhcC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdkaXNwbGF5TWVudUNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAuZGlzcGxheSc6e1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbERpc3BsYXkvY29udGVudC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdkaXNwbGF5TWVudUNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmFydGlzdC5zaG93Jywge1xyXG4gICAgICAgICAgICAgICB1cmw6ICcvYXJ0aXN0OmFydGlzdF9pZCcsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLmFydGlzdCc6e1xyXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEFydGlzdC9hcnRpc3QuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYXJ0aXN0UGhvdG9DdHJsJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2FydGlzdFBob3RvJyxcclxuICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgLnN0YXRlKCdhcHAuZ2FsbGVyeS5zaG93Jywge1xyXG4gICAgICAgICAgICAgdXJsOiAnL3Bob3RvX3R5cGU9OnBob3RvX3R5cGUvcGhvdG86cGhvdG9faWQnLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnY29udGVudHNAYXBwLmdhbGxlcnknOntcclxuICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsR2FsbGVyeS9waG90by5odG1sJyxcclxuICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZ2FsbGVyeVBob3RvQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZ2FsbGVyeXBob3RvJyxcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAuc3RhdGUoJ2FwcC5ib2FyZC5zaG93JyxcclxuICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICB1cmw6ICcvYm9hcmQ6Ym9hcmRfaWQnLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnY29udGVudHNAYXBwLmJvYXJkJzp7XHJcbiAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFsQm9hcmQvYm9hcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2JvYXJkQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYm9hcmQnLFxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5ib2FyZC5jcmVhdGUnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOicvY3JlYXRlJyxcclxuICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLmJvYXJkJzp7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOicvcGFydGlhbEJvYXJkL2JvYXJkQ3JlYXRlLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYm9hcmRDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYm9hcmQnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbiAgICAgICAgICAgLnN0YXRlKCdhcHAuYm9hcmQuZWRpdCcsXHJcbiAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgdXJsOiAnL2VkaXQvOmJvYXJkX2lkJyxcclxuICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5ib2FyZCc6e1xyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxCb2FyZC9ib2FyZFVwZGF0ZS5odG1sJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2JvYXJkQ3RybCcsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2JvYXJkJyxcclxuICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogdHJ1ZVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH1cclxuICAgICAgICAgfSlcblxuICAgICAgICAgLnN0YXRlKCdhcHAuZ2FsbGVyeS5lZGl0Jywge1xuICAgICAgICAgICB1cmw6ICcvZWRpdC86cGhvdG9faWQnLFxuICAgICAgICAgICB2aWV3czp7XG4gICAgICAgICAgICAgJ2NvbnRlbnRAJzp7XG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsR2FsbGVyeS9waG90b0VkaXQuaHRtbCcsXG4gICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZ2FsbGVyeVBob3RvQ3RybCcsXG4gICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnYWxsZXJ5cGhvdG8nLFxuICAgICAgICAgICAgIH1cbiAgICAgICAgICAgfVxuICAgICAgICAgfSk7XG5cclxufSk7XG5cbmFwcC5ydW4oZnVuY3Rpb24oJHJvb3RTY29wZSwgVXNlciwgJHN0YXRlKXtcbiAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBvcHRpb25zKXtcbiAgICBpZih0b1N0YXRlLnBlcm1pc3Npb24gPT09ICdhZG1pbicpe1xuICAgICAgVXNlci5nZXRQZXJtaXNzaW9uKCkudGhlbihmdW5jdGlvbihkYXRhKXtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgfVxuICB9KTtcbiAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZUVycm9yJywgIGZ1bmN0aW9uKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBlcnJvcil7XG4gICAgJHN0YXRlLmdvKCdhcHAnKTtcbiAgfSk7XG59KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdjb21tZW50Q29udHJvbGxlcnMnLFsnY29tbWVudFNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdjb21tZW50Q3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgJHdpbmRvdywgQ29tbWVudCkge1xyXG4gIC8vIGlk7JeQIO2VtOuLue2VmOuKlCDqsJLsnYQg67O07Jes7KO864qUIO2VqOyImFxyXG4gIC8vIOqwkuydhCDqsIDsoLjsmKTripQg7ZWo7IiYXHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdmFyIHBob3RvX2lkID0gJHN0YXRlUGFyYW1zLnBob3RvX2lkO1xyXG5cclxuICAvLyDsvZTrqZjtirgg7IOd7ISx7ZWY6riwXHJcbiAgLy8g7J6R64+Z7J20IO2VhOyalO2VmOuptCDslYTsnbTrlJTrnpEg64yT6riAIOuCtOyaqSDqt7jrpqzqs6AgcGhvdG9faWRcclxuICAgIHRoaXMuY3JlYXRlQ29tbWVudCA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZighJHNjb3BlLm1haW4udXNlci51c2VyX2lkKXtcclxuICAgICAgICAkc2NvcGUubWFpbi5sb2dpbigpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmKCFkYXRhKXtcclxuICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+uMk+q4gOydhCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhciBjb21tZW50RGF0YSA9IHtcclxuICAgICAgICAgICAgY29tbWVudCA6IGRhdGEsXHJcbiAgICAgICAgICAgIHVzZXJfaWQgOiAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQsXHJcbiAgICAgICAgICAgIHBob3RvX2lkIDogcGhvdG9faWRcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgQ29tbWVudC5jcmVhdGVDb21tZW50KGNvbW1lbnREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbn07XHJcblxyXG4gICAgICAvLyBpZih2YWxpZCl7XHJcbiAgICAgIC8vICAgQ29tbWVudC5jcmVhdGVDb21tZW50KGFwcC5yZXNwb25zZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgLy9cclxuICAgICAgLy9cclxuICAgICAgLy8gICB9KTtcclxuICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgLy8gICBhcHAuZXJyb3JNc2cgPSAnJztcclxuICAgICAgLy8gfVxyXG4gICAgICAvLyBpZih2YWxpZCl7XHJcbiAgICAgIC8vICAgdmFyIGJvYXJkX2lkID0gcmVzcG9uc2UuYm9hcmRfaWQ7XHJcbiAgICAgIC8vICAgdmFyIHBob3RvX2lkID0gcmVzcG9uc2UucGhvdG9faWQ7XHJcbiAgICAgIC8vICAgdmFyIGNvbW1lbnQgID0gcmVzcG9uc2UuY29tbWVudDtcclxuICAgICAgLy8gICAgJGh0dHAucG9zdCgnL2FwaS9jb21tZW50Jywge1xyXG4gICAgICAvLyAgICAgIGJvYXJkX2lkOiBib2FyZF9pZCwgcGhvdG9faWQ6IHBob3RvX2lkLCBjb21tZW50OiBjb21tZW50XHJcbiAgICAgIC8vICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAvLyAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgLy8gICAgfSk7XHJcbiAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgIC8vICAgJHdpbmRvdy5hbGVydChcIuuMk+q4gOydhCDsnoXroKXtlbTso7zshLjsmpQuXCIpO1xyXG4gICAgICAvLyB9XHJcblxyXG5cclxuXHJcbiAgICAvLyB2YXIgYXBwID0gdGhpcztcclxuICAgIC8vIHZhciB1c2VyX2lkID0gJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xyXG4gICAgLy9cclxuICAgIC8vICAgQXJ0aXN0LnJlYWRBcnRpc3RQcm9maWxlKHVzZXJfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAvLyAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgLy8gICAgICAgYXBwLmFydGlzdERhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyAgIH0pO1xyXG4gICAgLy9cclxuICAgIC8vXHJcbiAgICAvL1xyXG4gICAgLy8gdmFyIGJvYXJkX2lkID0gJHN0YXRlUGFyYW1zLmJvYXJkX2lkO1xyXG4gICAgLy8gdmFyIGlkID0gXCJcIjtcclxuICAgIC8vXHJcbiAgICAvLyB2YXIgZGF0YSA9IHtcclxuICAgIC8vICAgcGhvdG9faWQ6cGhvdG9faWQsXHJcbiAgICAvLyAgIGJvYXJkX2lkOmJvYXJkX2lkXHJcbiAgICAvLyB9O1xyXG4gICAgLy9cclxuICAgIC8vIHZhciBjb25maWcgPSB7XHJcbiAgICAvLyAgIHBhcmFtczogZGF0YSxcclxuICAgIC8vICAgaGVhZGVycyA6IHsnQWNjZXB0JyA6ICdhcHBsaWNhdGlvbi9qc29uJ31cclxuICAgIC8vIH07XHJcbiAgICAvL1xyXG4gICAgLy8gaWYocGhvdG9faWQpe1xyXG4gICAgLy8gICBpZCA9IHBob3RvX2lkO1xyXG4gICAgLy8gICAkaHR0cC5nZXQoJy9hcGkvY29tbWVudC8nK2lkLCBjb25maWcpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgLy8gICAgICRzY29wZS5jb21tZW50cyA9IHJlc3BvbnNlLmRhdGFbMF07XHJcbiAgICAvLyAgIH0pO1xyXG4gICAgLy8gfVxyXG4gICAgLy8gZWxzZSBpZihib2FyZF9pZCl7XHJcbiAgICAvLyAgIGlkID0gYm9hcmRfaWQ7XHJcbiAgICAvLyAgICRodHRwLmdldCgnL2FwaS9jb21tZW50LycraWQsIGNvbmZpZykudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAvLyAgICAgJHNjb3BlLmNvbW1lbnRzID0gcmVzcG9uc2UuZGF0YVswXTtcclxuICAgIC8vICAgfSk7XHJcbiAgICAvLyB9IGVsc2Uge1xyXG4gICAgLy8gICAgICRzY29wZS5jb21tZW50cyA9ICfsi5zsiqTthZzsnbQg67aI7JWI7KCV7ZWp64uI64ukLic7XHJcbiAgICAvLyB9XHJcbiAgLy8gLy8g7L2U66mY7Yq4IOyDneyEse2VmOq4sFxyXG4gIC8vICAgJHNjb3BlLmFkZENvbW1lbnQgPSBmdW5jdGlvbihyZXNwb25zZSwgdmFsaWQpe1xyXG4gIC8vICAgICBpZih2YWxpZCl7XHJcbiAgLy8gICAgICAgdmFyIGJvYXJkX2lkID0gcmVzcG9uc2UuYm9hcmRfaWQ7XHJcbiAgLy8gICAgICAgdmFyIHBob3RvX2lkID0gcmVzcG9uc2UucGhvdG9faWQ7XHJcbiAgLy8gICAgICAgdmFyIGNvbW1lbnQgID0gcmVzcG9uc2UuY29tbWVudDtcclxuICAvLyAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9jb21tZW50Jywge1xyXG4gIC8vICAgICAgICAgIGJvYXJkX2lkOiBib2FyZF9pZCwgcGhvdG9faWQ6IHBob3RvX2lkLCBjb21tZW50OiBjb21tZW50XHJcbiAgLy8gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gIC8vICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAvLyAgICAgICAgfSk7XHJcbiAgLy8gICAgIH0gZWxzZSB7XHJcbiAgLy8gICAgICAgJHdpbmRvdy5hbGVydChcIuuMk+q4gOydhCDsnoXroKXtlbTso7zshLjsmpQuXCIpO1xyXG4gIC8vICAgICB9XHJcbiAgLy9cclxuICAvLyAgIH07XHJcblxyXG5cclxuICAvLyDqsJLsnYQg7IKt7KCc7ZWY64qUIO2VqOyImFxyXG4gICRzY29wZS5kZWxldGVDb21tZW50ID0gZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgdmFyIGlkID0gcmVzcG9uc2UuY29tbWVudF9pZDtcclxuICBcdCRodHRwLmRlbGV0ZSgnL2FwaS9jb21tZW50LycraWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgXHR9KTtcclxuICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbiAgLmNvbnRyb2xsZXIoJ0ltYWdlQ3JvcEN0cmwnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICAgICAgJHNjb3BlLm15Q3JvcHBlZEltYWdlID0gJyc7XHJcbiAgICAgICRzY29wZS5teUltYWdlID0gdW5kZWZpbmVkO1xyXG4gICAgICAkc2NvcGUuY3JvYmplY3QgPSB7fTtcclxuXHJcbiAgICAgIHZhciBoYW5kbGVGaWxlU2VsZWN0ID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgdmFyIGZpbGUgPSBldnQuY3VycmVudFRhcmdldC5maWxlc1swXTtcclxuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZXZ0KSB7XHJcbiAgICAgICAgICAkc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUubXlJbWFnZSA9IGV2dC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgfTtcclxuICAgICAgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmaWxlSW5wdXQnKSkub24oJ2NoYW5nZScsIGhhbmRsZUZpbGVTZWxlY3QpO1xyXG5cblxuICAgICAgdGhpcy5pbWFnZUNyb3AgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaW1nQmxvYiA9ICRzY29wZS5teUltYWdlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGltZ0Jsb2IpO1xuICAgICAgfTtcclxuICAgIH0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ21hbmFnZW1lbnRDb250cm9sbGVycycsIFtdKVxyXG4uY29udHJvbGxlcignbWFuYWdlbWVudEN0cmwnLCBmdW5jdGlvbigpe1xyXG4gIGNvbnNvbGUubG9nKCfsnpHrj5kg7KSRJyk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmRpcmVjdGl2ZSgnZmlsZU1vZGVsJyxmdW5jdGlvbigkcGFyc2Upe1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuICAgICAgdmFyIHBhcnNlZEZpbGUgPSAkcGFyc2UoYXR0cnMuZmlsZU1vZGVsKTtcclxuICAgICAgdmFyIHBhcnNlZGZpbGVTZXR0ZXIgPSBwYXJzZWRGaWxlLmFzc2lnbjtcclxuXHJcbiAgICAgIGVsZW1lbnQuYmluZCgnY2hhbmdlJyxmdW5jdGlvbigpe1xyXG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpe1xyXG4gICAgICAgICAgcGFyc2VkZmlsZVNldHRlcihzY29wZSwgZWxlbWVudFswXS5maWxlc1swXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmRpcmVjdGl2ZSgnbWF0Y2gnLGZ1bmN0aW9uKCl7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICBjb250cm9sbGVyOmZ1bmN0aW9uKCRzY29wZSl7XHJcbiAgICAgICRzY29wZS5kb0NvbmZpcm0gPSBmdW5jdGlvbih2YWx1ZXMpe1xyXG5cclxuICAgICAgICAkc2NvcGUuY29uZmlybWVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24oZWxlKXtcclxuICAgICAgICAgIGlmKCRzY29wZS5jb25maXJtID09IGVsZSl7XHJcbiAgICAgICAgICAgICRzY29wZS5jb25maXJtZWQgPSB0cnVlO1xyXG4gICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuY29uZmlybWVkID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9LFxyXG5cclxuICAgIGxpbms6ZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKXtcclxuICAgICAgYXR0cnMuJG9ic2VydmUoJ21hdGNoJywgZnVuY3Rpb24oKXtcclxuICAgICAgICBzY29wZS5tYXRjaGVzID0gSlNPTi5wYXJzZShhdHRycy5tYXRjaCk7XHJcbiAgICAgICAgc2NvcGUuZG9Db25maXJtKHNjb3BlLm1hdGNoZXMpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHNjb3BlLiR3YXRjaCgnY29uZmlybScsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2NvcGUubWF0Y2hlcyA9IEpTT04ucGFyc2UoYXR0cnMubWF0Y2gpO1xyXG4gICAgICAgIHNjb3BlLmRvQ29uZmlybShzY29wZS5tYXRjaGVzKTtcclxuXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXJ0aXN0U2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnQXJ0aXN0JywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIGFydGlzdEZhY3RvcnkgPSB7fTtcclxuXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT0gQXJ0aXN0IENhdGVnb3J5ID09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG4gIGFydGlzdEZhY3RvcnkucmVhZEFydGlzdFRhcCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9hcnRpc3RNZW51Jyk7XHJcbiAgfTtcclxuXHJcbiAgYXJ0aXN0RmFjdG9yeS5yZWFkQXJ0aXN0cyA9IGZ1bmN0aW9uKHVzZXJfdHlwZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2FydGlzdE1lbnUvJyt1c2VyX3R5cGUpO1xyXG4gIH07XHJcblxyXG4gIGFydGlzdEZhY3RvcnkucmVhZEFydGlzdCA9IGZ1bmN0aW9uKGFydGlzdF9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2FydGlzdC8nK2FydGlzdF9pZCk7XHJcbiAgfTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXHJcblxyXG4vLyBBcnRpc3QuY3JlYXRlUGhvdG8ocGhvdG9EYXRhKVxyXG4gIGFydGlzdEZhY3RvcnkuY3JlYXRlQXJpc3RQaG90byA9IGZ1bmN0aW9uKHBob3RvRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9hcnRpc3RQcm9maWxlcycsIHBob3RvRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIEFydGlzdC51cGRhdGVBcmlzdEluZm8oYXJ0aXN0RGF0YSlcclxuICBhcnRpc3RGYWN0b3J5LnVwZGF0ZUFyaXN0UHJvZmlsZSA9IGZ1bmN0aW9uKGFydGlzdERhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9hcnRpc3RQcm9maWxlcycsIGFydGlzdERhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBBcnRpc3QucmVhZEFydGlzdFByb2ZpbGUodXNlcl9pZClcclxuICBhcnRpc3RGYWN0b3J5LnJlYWRBcnRpc3RQcm9maWxlID0gZnVuY3Rpb24oYXJ0aXN0X2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYXJ0aXN0UHJvZmlsZXMvJythcnRpc3RfaWQpO1xyXG4gIH07XHJcblxyXG4vL1xyXG4gIGFydGlzdEZhY3RvcnkucmVhZEFyaXN0UGhvdG8gPSBmdW5jdGlvbihhcnRpc3RfaWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9hcnRpc3RQaG90b3MvJythcnRpc3RfaWQpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBhcnRpc3RGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2F1dGhTZXJ2aWNlcycsW10pXHJcblxyXG4uZmFjdG9yeSgnQXV0aCcsIGZ1bmN0aW9uKCRodHRwLCBBdXRoVG9rZW4pe1xyXG4gICAgdmFyIGF1dGhGYWN0b3J5ID0ge307XHJcblxyXG5cclxuLy8gQXV0aC5nZXRVc2VyKCk7XHJcbiAgICBhdXRoRmFjdG9yeS5nZXRVc2VyID0gZnVuY3Rpb24oKXtcclxuICAgICAgaWYoQXV0aFRva2VuLmdldFRva2VuKCkpe1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL21lJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHEucmVqZWN0KHttZXNzYWdlOidVc2VyIGhhcyBubyB0b2tlbid9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbi8vIEF1dGgubG9naW4obG9naW5EYXRhKTtcclxuICAgIGF1dGhGYWN0b3J5LmxvZ2luID0gZnVuY3Rpb24obG9naW5EYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvYXV0aGVudGljYXRlJywgbG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIEF1dGhUb2tlbi5zZXRUb2tlbihkYXRhLmRhdGEudG9rZW4pO1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4vLyBBdXRoLmlzTG9nZ2VkSW4oKTtcclxuICAgIGF1dGhGYWN0b3J5LmlzTG9nZ2VkSW4gPSBmdW5jdGlvbigpe1xyXG4gICAgICBpZihBdXRoVG9rZW4uZ2V0VG9rZW4oKSl7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuLy8gQXV0aC5sb2dvdXQoKTtcclxuICAgIGF1dGhGYWN0b3J5LmxvZ291dCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIEF1dGhUb2tlbi5zZXRUb2tlbigpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBhdXRoRmFjdG9yeTtcclxufSlcclxuXHJcbi5mYWN0b3J5KCdBdXRoVG9rZW4nLCBmdW5jdGlvbigkd2luZG93KXtcclxuICB2YXIgYXV0aFRva2VuRmFjdG9yeSA9IHt9O1xyXG5cclxuICAvLyBBdXRoVG9rZW4uc2V0VG9rZW4odG9rZW4pO1xyXG4gIGF1dGhUb2tlbkZhY3Rvcnkuc2V0VG9rZW4gPSBmdW5jdGlvbih0b2tlbil7XHJcbiAgICBpZih0b2tlbil7XHJcbiAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pO1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicsIHRva2VuKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuLy8gQXV0aFRva2VuLmdldFRva2VuKCk7XHJcbiAgYXV0aFRva2VuRmFjdG9yeS5nZXRUb2tlbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcclxuICB9O1xyXG4gIHJldHVybiBhdXRoVG9rZW5GYWN0b3J5O1xyXG59KVxyXG5cclxuLmZhY3RvcnkoJ0F1dGhJbnRlcmNlcHRvcnMnLCBmdW5jdGlvbihBdXRoVG9rZW4pe1xyXG4gIHZhciBhdXRoSW50ZXJjZXB0b3JzRmFjdG9yeSA9IHt9O1xyXG5cclxuICBhdXRoSW50ZXJjZXB0b3JzRmFjdG9yeS5yZXF1ZXN0ID0gZnVuY3Rpb24oY29uZmlnKXtcclxuICAgIHZhciB0b2tlbiA9IEF1dGhUb2tlbi5nZXRUb2tlbigpO1xyXG5cclxuICAgIGlmKHRva2VuKSBjb25maWcuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4nXSA9IHRva2VuO1xyXG5cclxuICAgIHJldHVybiBjb25maWc7XHJcbiAgfTtcclxuICByZXR1cm4gYXV0aEludGVyY2VwdG9yc0ZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYm9hcmRTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdCb2FyZCcsIGZ1bmN0aW9uKCRodHRwKXtcclxuICBib2FyZEZhY3RvcnkgPSB7fTtcclxuXHJcbiAgYm9hcmRGYWN0b3J5LnJlYWRCb2FyZFRhcCA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2JvYXJkTWVudScpO1xyXG4gIH07XHJcblxyXG4gIGJvYXJkRmFjdG9yeS5yZWFkQm9hcmRzID0gZnVuY3Rpb24oYm9hcmRfdHlwZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2JvYXJkTWVudS8nK2JvYXJkX3R5cGUpO1xyXG4gIH07XHJcblxyXG4gIGJvYXJkRmFjdG9yeS5yZWFkQm9hcmQgPSBmdW5jdGlvbihib2FyZF9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCdhcGkvYm9hcmQvJytib2FyZF9pZCk7XHJcbiAgfTtcclxuXHJcbiAgYm9hcmRGYWN0b3J5LmNyZWF0ZUJvYXJkID0gZnVuY3Rpb24oYm9hcmREYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2JvYXJkTWVudScsYm9hcmREYXRhKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gYm9hcmRGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2NvbW1lbnRTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdDb21tZW50JywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIGNvbW1lbnRGYWN0b3J5ID0ge307XHJcblxyXG4vLyBHYWxsZXJ5LnJlYWRQaG90b0RhdGEodXNlcl9pZClcclxuICBjb21tZW50RmFjdG9yeS5jcmVhdGVDb21tZW50ID0gZnVuY3Rpb24oY29tbWVudERhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvY29tbWVudCcsY29tbWVudERhdGEpO1xyXG4gIH07XHJcblxyXG4gIGNvbW1lbnRGYWN0b3J5LnJlYWRDb21tZW50ID0gZnVuY3Rpb24ocGhvdG9faWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9jb21tZW50LycrcGhvdG9faWQpO1xyXG4gIH07XHJcblxyXG4gIGNvbW1lbnRGYWN0b3J5LnJlYWRCb2FyZENvbW1lbnQgPSBmdW5jdGlvbihib2FyZF9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbW1lbnRCb2FyZC8nK2JvYXJkX2lkKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gY29tbWVudEZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnZ2FsbGVyeVNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ0dhbGxlcnknLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgZ2FsbGVyeUZhY3RvcnkgPSB7fTtcclxuXHJcbi8vIEdhbGxlcnkucmVhZEdhbGxlcnlUYXAoKVxyXG4gIGdhbGxlcnlGYWN0b3J5LnJlYWRHYWxsZXJ5VGFwID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAgJGh0dHAuZ2V0KCcvYXBpL2dhbGxlcnlNZW51Jyk7XHJcbiAgfTtcclxuXHJcbi8vIEdhbGxlcnkucmVhZFBob3RvcyhwaG90b190eXBlKTtcclxuICBnYWxsZXJ5RmFjdG9yeS5yZWFkUGhvdG9zID0gZnVuY3Rpb24ocGhvdG9fdHlwZSl7XHJcbiAgICByZXR1cm4gICRodHRwLmdldCgnL2FwaS9nYWxsZXJ5TWVudS8nK3Bob3RvX3R5cGUpO1xyXG5cclxuICB9O1xyXG4vLyBHYWxsZXJ5LnJlYWRQaG90b0RhdGEodXNlcl9pZClcclxuICBnYWxsZXJ5RmFjdG9yeS5yZWFkUGhvdG9EYXRhID0gZnVuY3Rpb24ocGhvdG9faWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9nYWxsZXJ5LycrcGhvdG9faWQpO1xyXG4gIH07XHJcblxyXG4gIGdhbGxlcnlGYWN0b3J5LnJlYWRNb3JlUGhvdG8gPSBmdW5jdGlvbihwaG90b190eXBlKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvZ2FsbGVyeU1lbnUvJysgcGhvdG9fdHlwZSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIHJldHVybiBnYWxsZXJ5RmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCd1c2VyU2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnVXNlcicsIGZ1bmN0aW9uKCRodHRwKXtcclxuICB1c2VyRmFjdG9yeSA9IHt9O1xyXG5cclxuICB1c2VyRmFjdG9yeS5nZXRQZXJtaXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcGVybWlzc2lvbicpO1xyXG4gIH07XHJcbi8vIFVzZXIuY3JlYXRlKHJlZ0RhdGEpXHJcbiAgdXNlckZhY3RvcnkuY3JlYXRlID0gZnVuY3Rpb24ocmVnRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS91c2VycycsIHJlZ0RhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLmFjdGl2ZUFjY291bnQodG9rZW4pO1xyXG4gIHVzZXJGYWN0b3J5LmFjdGl2ZUFjY291bnQgPSBmdW5jdGlvbih0b2tlbil7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL2FjdGl2YXRlLycrdG9rZW4pO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLmNoZWNrQ3JlZGVudGlhbHMobG9naW5EYXRhKTtcclxuICB1c2VyRmFjdG9yeS5jaGVja0NyZWRlbnRpYWxzID0gZnVuY3Rpb24obG9naW5EYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3Jlc2VuZCcsIGxvZ2luRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIucmVzZW5kTGluayh1c2VybmFtZSlcclxuICB1c2VyRmFjdG9yeS5yZXNlbmRMaW5rID0gZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9yZXNlbmQnLCB1c2VybmFtZSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuc2VuZFVzZXJuYW1lKHVzZXJEYXRhKTtcclxuICB1c2VyRmFjdG9yeS5zZW5kVXNlcm5hbWUgPSBmdW5jdGlvbih1c2VyRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Jlc2V0dXNlcm5hbWUvJyt1c2VyRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuc2VuZFBhc3N3b3JkKHJlc2V0RGF0YSk7XHJcbiAgdXNlckZhY3Rvcnkuc2VuZFBhc3N3b3JkID0gZnVuY3Rpb24ocmVzZXREYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvcmVzZXRwYXNzd29yZCcsIHJlc2V0RGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIucmVzZXRQYXNzd29yZCh0b2tlbik7XHJcbiAgdXNlckZhY3RvcnkucmVzZXRQYXNzd29yZCA9IGZ1bmN0aW9uKHRva2VuKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcmVzZXRwYXNzd29yZC8nK3Rva2VuKTtcclxuICB9O1xyXG5cclxuXHJcbi8vIFVzZXIuc2F2ZVBhc3N3b3JkKHJlZ0RhdGEpXHJcbiAgdXNlckZhY3Rvcnkuc2F2ZVBhc3N3b3JkID0gZnVuY3Rpb24ocmVnRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3NhdmVwYXNzd29yZCcsIHJlZ0RhdGEpO1xyXG4gIH07XHJcblxyXG4vLyAgVXNlci5yZW5ld1Nlc3Npb24odXNlcm5hbWUpXHJcbiAgdXNlckZhY3RvcnkucmVuZXdTZXNzaW9uID0gZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9yZW5ld1Rva2VuLycrIHVzZXJuYW1lKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5yZXNldFBlcm1pc3Npb24odXNlckRhdGEpXHJcbiAgdXNlckZhY3RvcnkucmVzZXRQZXJtaXNzaW9uID0gZnVuY3Rpb24odXNlckRhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS91c2Vycy8nLCB1c2VyRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuY2hlY2tQZXJtaXNzaW9uKHVzZXJEYXRhKVxyXG4gIHVzZXJGYWN0b3J5LmNoZWNrUGVybWlzc2lvbiA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvJyt1c2VybmFtZSk7XHJcbiAgfTtcclxuXHJcblxyXG4vLyByZXNldCAvIGNoZWNrIC8gcmVuZXcgLyBzYXZlIC8gc2VuZCAvLyByZXNlbmRcclxuXHJcbi8vIENyZWF0ZSAvLyByZWFkIC8vIHVwZGF0ZSAvLyBkZWxldGUgLy9cclxuXHJcbi8vIFVzZXIucmVhZFByb2ZpbGVzKHVzZXJuYW1lKVxyXG4gIHVzZXJGYWN0b3J5LnJlYWRQcm9maWxlcyA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlclByb2ZpbGVzLycrdXNlcm5hbWUpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLnVwZGF0ZVByb2ZpbGVzKHVwZGF0ZURhdGEpXHJcbiAgdXNlckZhY3RvcnkudXBkYXRlUHJvZmlsZXMgPSBmdW5jdGlvbih1cGRhdGVEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvdXNlclByb2ZpbGVzJywgdXBkYXRlRGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHVzZXJGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FydGlzdENvbnRyb2xsZXJzJyxbJ3VzZXJTZXJ2aWNlcycsICdhcnRpc3RTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignYXJ0aXN0VGFwQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgQXJ0aXN0KXtcclxuICAvLyDsoITssrQg66mU64m0IOqwgOyguOyYpOq4sFxyXG4gIEFydGlzdC5yZWFkQXJ0aXN0VGFwKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgJHNjb3BlLmhlYWRlcnMgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignYXJ0aXN0c0N0cmwnLCBmdW5jdGlvbiAoJHN0YXRlUGFyYW1zLCBBcnRpc3QpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgdmFyIHVzZXJfdHlwZSA9ICRzdGF0ZVBhcmFtcy5jb2RlO1xyXG5cclxuICAgIGFwcC5kYXRhID0ge1xyXG4gICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgIHtzb3J0OiAnLWNyZWF0ZWQnLCBuYW1lOiAn7LWc7Iug7IicJ31cclxuICAgICBdLFxyXG4gICAgIHNlbGVjdGVkT3B0aW9uOiAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgIH07XHJcblxyXG4gICAgQXJ0aXN0LnJlYWRBcnRpc3RzKHVzZXJfdHlwZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5hcnRpc3REYXRhcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3VwbG9hZEN0cmwnLCBmdW5jdGlvbiAoJGh0dHAsICR0aW1lb3V0LCAkc2NvcGUsIEFydGlzdCwgJHN0YXRlKSB7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgICBhcHAuZGF0YSA9IHtcclxuICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICB7aWQ6ICcxJywgbmFtZTogJ+u2kyDquIDslKgnfSxcclxuICAgICAgIHtpZDogJzInLCBuYW1lOiAn7Y6cIOq4gOyUqCd9LFxyXG4gICAgICAge2lkOiAnMycsIG5hbWU6ICfrr7jrtoTrpZgnfVxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgIH07XHJcbiAgICAvLyDtjIzsnbzsnZgg6rK966Gc66eMIOyggOyepe2VmOq4sFxyXG4gICAgdGhpcy5maWxlID0ge307XHJcblxyXG4gICAgdGhpcy5tYWluUGhvdG9DaGFuZ2VkID0gZnVuY3Rpb24oZmlsZXMpIHtcclxuICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwICYmIGZpbGVzWzBdLm5hbWUubWF0Y2goL1xcLihwbmd8anBlZ3xqcGcpJC8pKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbC5kYXRhVXJsID0gZS50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgIHRoaXMucmVhZFBob3RvID0gZnVuY3Rpb24oKXtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgICAgICRodHRwLnBvc3QoJy9hcGkvdXBsb2FkVGVtcC8nLCBmZCx7XHJcbiAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZH1cclxuICAgICAgfSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgYXBwLm1haW5JbWFnZVBhdGggPSBkYXRhLmRhdGEucGhvdG9fcGF0aDtcclxuICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4vLyDsnpHqsIAg7J6R7ZKIIOyXheuhnOuTnFxyXG4gICAgICB0aGlzLmNyZWF0ZVBob3RvID0gZnVuY3Rpb24odXBsb2FkRGF0YSl7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgaWYoIXVwbG9hZERhdGEpe1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+u5iOy5uOydhCDrqqjrkZAg7J6F66Cl7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZihhcHAudXBsb2FkRGF0YS50aXRsZSA9PT0gdW5kZWZpbmVkIHx8IGFwcC51cGxvYWREYXRhLnRpdGxlID09PSBudWxsIHx8IGFwcC51cGxvYWREYXRhLnRpdGxlID09PSAnJykge1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7J6R7ZKI7J2YIOygnOuqqeydhCDsnoXroKXtlbTso7zshLjsmpQuJztcclxuICAgICAgICAgIH0gZWxzZSBpZihhcHAudXBsb2FkRGF0YS5kZXRhaWwgPT09IHVuZGVmaW5lZCB8fCBhcHAudXBsb2FkRGF0YS5kZXRhaWwgPT09IG51bGwgfHwgYXBwLnVwbG9hZERhdGEuZGV0YWlsID09PSAnJykge1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7J6R7ZKI7J2YIOyEpOuqheydhCDsnoXroKXtlbTso7zshLjsmpQuJztcclxuICAgICAgICAgIH0gZWxzZSBpZihhcHAubWFpbkltYWdlUGF0aCA9PT0gdW5kZWZpbmVkIHx8IGFwcC5tYWluSW1hZ2VQYXRoID09PSAgbnVsbCB8fCBhcHAubWFpbkltYWdlUGF0aCA9PT0gJycpe1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7J6R7ZKIIOydtOuvuOyngOulvCDshKDtg53tlbTso7zshLjsmpQuJztcclxuICAgICAgICAgIH0gZWxzZSBpZihhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZCA9PT0gJzAnKXtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yeke2SiOydmCDsooXrpZjrpbwg7ISg7YOd7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICB9IGVsc2Uge1xuXHJcbiAgICAgICAgICAgIGFwcC51cGxvYWREYXRhID0gdXBsb2FkRGF0YTtcclxuICAgICAgICAgICAgYXBwLnVwbG9hZERhdGEudXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuICAgICAgICAgICAgYXBwLnVwbG9hZERhdGEucGhvdG9fdHlwZSA9IGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkO1xyXG4gICAgICAgICAgICBhcHAudXBsb2FkRGF0YS5waG90b19wYXRoID0gYXBwLm1haW5JbWFnZVBhdGg7XHJcblxyXG4gICAgICAgICAgICBBcnRpc3QuY3JlYXRlQXJpc3RQaG90byhhcHAudXBsb2FkRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG5cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ2FydGlzdFByb2ZpbGVDdHJsJywgZnVuY3Rpb24gKCR0aW1lb3V0LCBBcnRpc3QsICRzdGF0ZSwgJHNjb3BlKSB7XHJcblxyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICB2YXIgdXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuXHJcbiAgICBhcHAuZGF0YSA9IHtcclxuICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICB7aWQ6ICcxJywgbmFtZTogJ+u2kyDquIDslKgnfSxcclxuICAgICAgIHtpZDogJzInLCBuYW1lOiAn7Y6cIOq4gOyUqCd9LFxyXG4gICAgICAge2lkOiAnMycsIG5hbWU6ICfrr7jrtoTrpZgnfVxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgIH07XHJcblxyXG5cclxuICAgICBBcnRpc3QucmVhZEFydGlzdFByb2ZpbGUodXNlcl9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgYXBwLmFydGlzdERhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICB9XHJcbiAgICAgfSk7XHJcblxyXG5cclxuICAvLyDsnpHqsIAg7ZSE66Gc7ZWEIOyDneyEsVxyXG4gICAgICB0aGlzLnVwZGF0ZUFyaXN0UHJvZmlsZSA9IGZ1bmN0aW9uKGFydGlzdERhdGEpe1xuICAgICAgICBjb25zb2xlLmxvZyhcIuyekeuPmSDspJFcIik7XG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xuICAgICAgICBpZighYXJ0aXN0RGF0YSl7XG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+2VhOyImOq4sOyerOyCrO2VreydhCDsnoXroKXtlbTso7zshLjsmpQuJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZihhcHAuYXJ0aXN0RGF0YS5zaG9ydF9pbmZvID09PSB1bmRlZmluZWQgfHwgYXBwLmFydGlzdERhdGEuc2hvcnRfaW5mbyA9PT0gbnVsbCB8fCBhcHAuYXJ0aXN0RGF0YS5zaG9ydF9pbmZvID09PSAnJykge1xuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+2VnCDspIQg7IaM6rCc66W8IOyeheugpe2VtOyjvOyEuOyalC4nO1xuICAgICAgICAgIH0gZWxzZSBpZihhcHAuYXJ0aXN0RGF0YS5kZXRhaWxfaW5mbyA9PT0gdW5kZWZpbmVkIHx8IGFwcC5hcnRpc3REYXRhLmRldGFpbF9pbmZvID09PSBudWxsIHx8IGFwcC5hcnRpc3REYXRhLmRldGFpbF9pbmZvID09PSAnJykge1xuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yDgeyEuCDshozqsJzrpbwg7J6F66Cl7ZW07KO87IS47JqULic7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFwcC5hcnRpc3REYXRhID0gYXJ0aXN0RGF0YTtcbiAgICAgICAgICAgIGFwcC5hcnRpc3REYXRhLnVzZXJfaWQgPSAgJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xuICAgICAgICAgICAgLy8gYXBwLmFydGlzdERhdGEudXNlcl90eXBlID0gIGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkO1xuXG4gICAgICAgICAgICBBcnRpc3QudXBkYXRlQXJpc3RQcm9maWxlKGFwcC5hcnRpc3REYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XG4gICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcbiAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbTsp4Ag7JWK7J2AIOqwkuydtCDsnoXroKXrkJjsl4jsirXri4jri6QuJztcblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcclxuXHJcbn0pXHJcblxyXG4vLyDsnpHqsIAg7J6Q7Iug7J2YIO2UhOuhnO2VhFxyXG4uY29udHJvbGxlcignYW5BcnRpc3RQaG90b0N0cmwnLCBmdW5jdGlvbiAoQXJ0aXN0LCAkc3RhdGVQYXJhbXMsICAkc2NvcGUpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgdmFyIHVzZXJfaWQgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XHJcblxyXG4gICAgICBBcnRpc3QucmVhZEFydGlzdFByb2ZpbGUodXNlcl9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuYXJ0aXN0RGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBBcnRpc3QucmVhZEFyaXN0UGhvdG8odXNlcl9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuYXJ0aXN0UGhvdG9zID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxufSlcclxuXHJcblxyXG4vLyDsl6zrn6wg7J6R6rCA65Ok7J2YIO2UhOuhnO2VhFxyXG4uY29udHJvbGxlcignYXJ0aXN0UGhvdG9DdHJsJywgZnVuY3Rpb24gKEFydGlzdCwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuICAgIHZhciBhcnRpc3RfaWQgPSAkc3RhdGVQYXJhbXMuYXJ0aXN0X2lkO1xyXG5cclxuICAgICAgQXJ0aXN0LnJlYWRBcnRpc3RQcm9maWxlKGFydGlzdF9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuYXJ0aXN0RGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBBcnRpc3QucmVhZEFyaXN0UGhvdG8oYXJ0aXN0X2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5hcnRpc3RQaG90b3MgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2JvYXJkQ29udHJvbGxlcnMnLFsnYm9hcmRTZXJ2aWNlcyddKVxuLmZpbHRlcigndG9fdHJ1c3RlZCcsIFsnJHNjZScsIGZ1bmN0aW9uKCRzY2Upe1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHRleHQpIHtcclxuICAgICAgICByZXR1cm4gJHNjZS50cnVzdEFzSHRtbCh0ZXh0KTtcclxuICAgIH07XHJcbn1dKVxuXHJcbi5jb250cm9sbGVyKCdib2FyZFRhcEN0cmwnLCBmdW5jdGlvbihCb2FyZCwgJHNjb3BlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBCb2FyZC5yZWFkQm9hcmRUYXAoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgJHNjb3BlLmhlYWRlcnMgPSBkYXRhLmRhdGE7XHJcbiAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignYm9hcmRzQ3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgQm9hcmQsICRzY29wZSwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB2YXIgYm9hcmRfdHlwZSA9ICRzdGF0ZVBhcmFtcy5jb2RlO1xyXG5cclxuICBhcHAuZGF0YSA9IHtcclxuICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgIHtzb3J0OiAnLWNyZWF0ZWQnLCBuYW1lOiAn7LWc7Iug7IicJ30sXHJcbiAgICAge3NvcnQ6ICctdmlldycsIG5hbWU6ICfsobDtmozsiJwnfSxcclxuICAgICB7c29ydDogJy1jb21tZW50X2NvdW50JywgbmFtZTon64yT6riA7IicJ31cclxuICAgXSxcclxuICAgc2VsZWN0ZWRPcHRpb246ICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgIH07XHJcblxyXG4gICBCb2FyZC5yZWFkQm9hcmRzKGJvYXJkX3R5cGUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgYXBwLmJvYXJkRGF0YXMgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICB9KTtcclxuXHJcbiAgIHRoaXMuY3JlYXRlQm9hcmQgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgIGlmKCEkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQpe1xyXG4gICAgICAgICAkc2NvcGUubWFpbi5sb2dpbigpO1xyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgJHN0YXRlLmdvKFwiYXBwLmJvYXJkLmNyZWF0ZVwiKTtcclxuICAgICAgIH1cclxuICB9O1xyXG5cclxuXHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignYm9hcmRDdHJsJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBCb2FyZCwgJHNjb3BlLCAkaHR0cCwgJHN0YXRlLCAkdGltZW91dCwgQ29tbWVudCwgJHdpbmRvdyl7XHJcbiAgICAvLyDrs7Trk5wg7JWE7J2065SUIOyghOyGoVxyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICB2YXIgYm9hcmRfaWQgPSAkc3RhdGVQYXJhbXMuYm9hcmRfaWQ7XHJcblxyXG4gICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4gICAgICAge2lkOiAnMScsIG5hbWU6ICfqs7Xsp4Dsgqztla0nfSxcclxuICAgICAgIHtpZDogJzInLCBuYW1lOiAn7J6h7ZWZ7IKs7KCEJ30sXHJcbiAgICAgICB7aWQ6ICczJywgbmFtZTogJ+yniOusuOyCrO2VrSd9XHJcbiAgICAgXSxcclxuICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgfTtcclxuXHJcbiAgICBDb21tZW50LnJlYWRCb2FyZENvbW1lbnQoYm9hcmRfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAuY29tbWVudERhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAgdGhpcy5jcmVhdGVDb21tZW50ID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgIGlmKCEkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQpe1xyXG4gICAgICAgICAgICRzY29wZS5tYWluLmxvZ2luKCk7XHJcbiAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgaWYoIWRhdGEpe1xyXG4gICAgICAgICAgICAgJHdpbmRvdy5hbGVydCgn64yT6riA7J2EIOyeheugpe2VtOyjvOyEuOyalC4nKTtcclxuICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgdmFyIGNvbW1lbnREYXRhID0ge1xyXG4gICAgICAgICAgICAgICBjb21tZW50IDogZGF0YSxcclxuICAgICAgICAgICAgICAgdXNlcl9pZCA6ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZCxcclxuICAgICAgICAgICAgICAgYm9hcmRfaWQgOiBib2FyZF9pZFxyXG4gICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICBDb21tZW50LmNyZWF0ZUNvbW1lbnQoY29tbWVudERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuXHJcbiAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgICAgJCgnI3N1bW1lcm5vdGUnKS5zdW1tZXJub3RlKHtcclxuICAgICAgICBsYW5nOiAna28tS1InLCAvLyBkZWZhdWx0OiAnZW4tVVMnXHJcbiAgICAgICAgaGVpZ2h0IDogMTAwLCAvLyDsl5DrlJTthLDsnZgg64aS7J20XHJcbiAgICAgICAgbWluSGVpZ2h0IDogbnVsbCxcclxuICAgICAgICBtYXhIZWlnaHQgOiBudWxsLFxyXG4gICAgICAgIGZvY3VzIDogdHJ1ZSxcclxuICAgICAgICBwbGFjZWhvbGRlcjogJ+uMk+q4gOydgCAxLDAwMOyekOq5jOyngCDsnpHshLHtlaAg7IiYIOyeiOycvOupsCDso7zsoJzsmYAg66y06rSA7ZWcIOuMk+q4gCwg7JWF7ISxIOuMk+q4gOydgCDsgq3soJzrkKAg7IiYIOyeiOyKteuLiOuLpC4nLFxyXG4gICAgICAgIHRvb2xiYXI6IFtcclxuICAvLyBbZ3JvdXBOYW1lLCBbbGlzdCBvZiBidXR0b25dXVxyXG4gICAgICAgICAgWydzdHlsZScsIFsnYm9sZCcsICdpdGFsaWMnLCAndW5kZXJsaW5lJywgJ2NsZWFyJ11dLFxyXG4gICAgICAgICAgWydmb250JywgWydzdHJpa2V0aHJvdWdoJywgJ3N1cGVyc2NyaXB0JywgJ3N1YnNjcmlwdCddXSxcclxuICAgICAgICAgIFsnZm9udHNpemUnLCBbJ2ZvbnRzaXplJ11dLFxyXG4gICAgICAgICAgWydjb2xvcicsIFsnY29sb3InXV0sXHJcbiAgICAgICAgICBbJ3BhcmEnLCBbJ3VsJywgJ29sJywgJ3BhcmFncmFwaCddXSxcclxuICAgICAgICAgIFsnaGVpZ2h0JywgWydoZWlnaHQnXV1cclxuICAgICAgICBdXHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5jcmVhdGVCb2FyZCA9IGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgaWYoYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQgPT09ICcwJyl7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn6rKM7Iuc6riA7J2YIOyiheulmOulvCDshKDtg53tlbTso7zshLjsmpQnO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIGlmKHJlc3BvbnNlID09PSB1bmRlZmluZWQgfHwgcmVzcG9uc2UgPT09IG51bGwgfHwgcmVzcG9uc2UgPT09ICcnKXtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsoJzrqqnsnYQg7J6F66Cl7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2UgaWYoJCgnI3N1bW1lcm5vdGUnKS5zdW1tZXJub3RlKCdjb2RlJykgPT09ICc8cD48YnI+PC9wPicgfHwgJCgnI3N1bW1lcm5vdGUnKS5zdW1tZXJub3RlKCdjb2RlJykgPT09IG51bGwgfHwgJCgnI3N1bW1lcm5vdGUnKS5zdW1tZXJub3RlKCdjb2RlJykgPT09IHVuZGVmaW5lZCB8fCAkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoJ2NvZGUnKSA9PT0gJycpIHtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfrgrTsmqnsnYQg7J6F66Cl7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdmFyIGNvbnRlbnQgPSAkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoJ2NvZGUnKTtcclxuICAgICAgICAgIHZhciBib2FyZF90eXBlID0gYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQ7XHJcbiAgICAgICAgICB2YXIgdGl0bGUgPSByZXNwb25zZS50aXRsZTtcclxuICAgICAgICAgIHZhciBib2FyZERhdGEgPSB7XHJcbiAgICAgICAgICAgIHRpdGxlIDogdGl0bGUsXHJcbiAgICAgICAgICAgIGNvbnRlbnQgOiBjb250ZW50LFxyXG4gICAgICAgICAgICBib2FyZF90eXBlIDogYm9hcmRfdHlwZSxcclxuICAgICAgICAgICAgdXNlcl9pZCA6ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZFxyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIEJvYXJkLmNyZWF0ZUJvYXJkKGJvYXJkRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwLmJvYXJkJyk7XHJcbiAgICAgICAgICAgICAgfSw1MDApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG4gICAgQm9hcmQucmVhZEJvYXJkKGJvYXJkX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4vLyDsmKTrpZjrpbwg7J6h7JWE7JW87ZWY64qU642wIOyWtOuWpOyLneycvOuhnCDsnqHslYTslbztlZjsp4A/XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAuYm9hcmREYXRhcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XG4gICAgICAgIGFwcC5odG1sY29udGVudCA9IGRhdGEuZGF0YS5yZXN1bHQuY29udGVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4vL1xyXG4vLyAgICRzY29wZS5kYXRhID0ge1xyXG4vLyAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbi8vICAgICAge2lkOiAnLTEnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuLy8gICAgICB7aWQ6ICcwJywgbmFtZTogJ+qzteyngOyCrO2VrSd9LFxyXG4vLyAgICAgIHtpZDogJzEnLCBuYW1lOiAn7ZWZ7JuQL+2ZjeuztCd9LFxyXG4vLyAgICAgIHtpZDogJzInLCBuYW1lOiAn66qo7J6EL+yKpO2EsOuUlCd9XHJcbi8vICAgIF0sXHJcbi8vICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICctMScsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbi8vICAgIH07XHJcbi8vXHJcbi8vICAgLy8gaWTsl5Ag7ZW064u57ZWY64qUIOqwkuydhCDrs7Tsl6zso7zripQg7ZWo7IiYXHJcbi8vICAgJHNjb3BlLnVzZXJBcnRpY2xlID0gZmFsc2U7XHJcbi8vXHJcbi8vIC8vIOqwkuydhCDsoIDsnqXtlZjripQg7ZWo7IiYXHJcbi8vICAgJHNjb3BlLmFkZEJvYXJkID0gZnVuY3Rpb24odGl0bGUsIGNvbnRlbnQpe1xyXG4vLyAvLyBlbXBsb3llc3Mg7KCc64yA66GcIOuPmeyeke2VmOuKlOyngCDtmZXsnbgg7ZWE7JqUXHJcbi8vICAgICAgIHZhciBib2FyZF90eXBlID0gJHNjb3BlLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQ7XHJcbi8vICAgICAgICRodHRwLnBvc3QoJ2FwaS9ib2FyZE1lbnUnLFxyXG4vLyAgICAgICB7IHRpdGxlOnRpdGxlLCBjb250ZW50OiBjb250ZW50LCBib2FyZF90eXBlOiBib2FyZF90eXBlfSlcclxuLy8gICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpeyAgICAgICAgICAvLyDsoJXsg4Eg7J6R64+Z7ZWY7JiA7Iq164uI64ukLlxyXG4vLyAgICAgICB9KTtcclxuLy8gICB9O1xyXG4vL1xyXG4vLyBcdCRzY29wZS5zaG93Qm9hcmQgPSBmdW5jdGlvbigpe1xyXG4vLyAgIC8vIOuztOuTnCDslYTsnbTrlJQg7KCE7IahXHJcbi8vICAgdmFyIGlkID0gJHN0YXRlUGFyYW1zLmJvYXJkX2lkO1xyXG4vLyAgICAgJGh0dHAuZ2V0KCdhcGkvYm9hcmQvJytpZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbi8vIC8vIOyCrOyaqeyekOqwgCDsnpHshLHtlZwg6rKM7Iuc66y87J6F64uI64ukLlxyXG4vLyAgICAgaWYocmVzcG9uc2UuZGF0YVsxXS5zdWNjZXNzKXtcclxuLy8gICAgICAgJHNjb3BlLnVzZXJBcnRpY2xlID0gdHJ1ZTtcclxuLy8gICAgICAgJHNjb3BlLmJvYXJkID0gcmVzcG9uc2UuZGF0YVswXVswXTtcclxuLy8gICAgIH1cclxuLy8gLy8g7IKs7Jqp7J6Q6rCAIOyekeyEse2VnCDqsozsi5zrrLzsnbQg7JWE64uZ64uI64ukLlxyXG4vLyAgICAgZWxzZSB7XHJcbi8vICAgICAgICRzY29wZS51c2VyQXJ0aWNsZSA9IGZhbHNlO1xyXG4vLyAgICAgICAkc2NvcGUuYm9hcmQgPSByZXNwb25zZS5kYXRhWzBdWzBdO1xyXG4vLyAgICAgfVxyXG4vLyAgIH0pO1xyXG4vLyB9O1xyXG4vL1xyXG4vL1xyXG4vLyAgIC8vIOqwkuydhCDsgq3soJztlZjripQg7ZWo7IiYXHJcbi8vIFx0JHNjb3BlLmRlbGV0ZUJvYXJkID0gZnVuY3Rpb24oKXtcclxuLy8gICAgIHZhciBpZCA9ICRzdGF0ZVBhcmFtcy5ib2FyZF9pZDtcclxuLy8gXHRcdCRodHRwLmRlbGV0ZSgnYXBpL2JvYXJkLycraWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4vLyAgICAgICAgICRsb2NhdGlvbi5wYXRoKCdhcHAuYm9hcmQuY2F0ZWdvcnkoe2NvZGU6IDB9KScpO1xyXG4vLyBcdFx0fSk7XHJcbi8vIFx0fTtcclxuLy9cclxuLy8gICBcdC8vIOqwkuydhCDsiJjsoJXtlZjripQg7ZWo7IiYXHJcbi8vICAgXHQkc2NvcGUudXBkYXRlQm9hcmQgPSBmdW5jdGlvbigpe1xyXG4vLyAgIFx0XHR2YXIgaWQgPSAkc3RhdGVQYXJhbXMuYm9hcmRfaWQ7XHJcbi8vICAgXHRcdCRodHRwLnB1dCgnYXBpL2JvYXJkLycraWQgLCAkc2NvcGUuYm9hcmQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4vLyAgIFx0XHRcdCRzY29wZS5ib2FyZCA9IHJlc3BvbnNlLmRhdGE7XHJcbi8vICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJ2JvYXJkJyk7XHJcbi8vICAgXHRcdH0pO1xyXG4vLyAgIFx0fTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdnYWxsZXJ0Q29udHJvbGxlcnMnLFsnZ2FsbGVyeVNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdnYWxsZXJ5VGFwQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgR2FsbGVyeSl7XHJcbiAgLy8g7KCE7LK0IOuplOuJtCDqsIDsoLjsmKTquLBcclxuICBHYWxsZXJ5LnJlYWRHYWxsZXJ5VGFwKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgJHNjb3BlLmhlYWRlcnMgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignZ2FsbGVyeVBob3Rvc0N0cmwnLCBmdW5jdGlvbihHYWxsZXJ5LCAkc3RhdGVQYXJhbXMpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHZhciBwaG90b190eXBlID0gJHN0YXRlUGFyYW1zLmNvZGU7XHJcbiAgYXBwLmRhdGEgPSB7XHJcbiAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9LFxyXG4gICAgIHtzb3J0OiAnLXZpZXcnLCBuYW1lOiAn7KGw7ZqM7IicJ30sXHJcbiAgICAge3NvcnQ6ICctY29tbWVudF9jb3VudCcsIG5hbWU6J+uMk+q4gOyInCd9XHJcbiAgIF0sXHJcbiAgIHNlbGVjdGVkT3B0aW9uOiAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICB9O1xyXG5cclxuICAgIEdhbGxlcnkucmVhZFBob3RvcyhwaG90b190eXBlKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLnBob3RvRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ2dhbGxlcnlQaG90b0N0cmwnLCBmdW5jdGlvbiAoJHN0YXRlUGFyYW1zLCBHYWxsZXJ5LCBDb21tZW50LCAkc2NvcGUsICR3aW5kb3csICRzdGF0ZSkge1xyXG5cclxuICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgIHZhciBwaG90b19pZCA9ICRzdGF0ZVBhcmFtcy5waG90b19pZDtcclxuICAgdmFyIHBob3RvX3R5cGUgPSAkc3RhdGVQYXJhbXMucGhvdG9fdHlwZTtcclxuICAgdmFyIHVzZXJfaWQgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XHJcblxyXG4gICBHYWxsZXJ5LnJlYWRQaG90b0RhdGEocGhvdG9faWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgYXBwLnBob3RvRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgfSBlbHNlIHtcclxuICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgIH1cclxuICAgfSk7XHJcblxyXG4gICBHYWxsZXJ5LnJlYWRQaG90b3MocGhvdG9fdHlwZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICBhcHAucGhvdG9zRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgfSBlbHNlIHtcclxuICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgIH1cclxuICAgfSk7XHJcblxyXG4gICBDb21tZW50LnJlYWRDb21tZW50KHBob3RvX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgIGFwcC5jb21tZW50RGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICBjb25zb2xlLmxvZyhhcHAuY29tbWVudERhdGEpO1xyXG4gICAgIH0gZWxzZSB7XHJcbiAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICB9XHJcbiAgIH0pO1xyXG5cclxuICAgdGhpcy5jcmVhdGVDb21tZW50ID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICBpZighJHNjb3BlLm1haW4udXNlci51c2VyX2lkKXtcclxuICAgICAgICAgJHNjb3BlLm1haW4ubG9naW4oKTtcclxuICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGlmKCFkYXRhKXtcclxuICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfrjJPquIDsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgIHZhciBjb21tZW50RGF0YSA9IHtcclxuICAgICAgICAgICAgIGNvbW1lbnQgOiBkYXRhLFxyXG4gICAgICAgICAgICAgdXNlcl9pZCA6ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZCxcclxuICAgICAgICAgICAgIHBob3RvX2lkIDogcGhvdG9faWRcclxuICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICBDb21tZW50LmNyZWF0ZUNvbW1lbnQoY29tbWVudERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH0pO1xyXG4gICAgICAgICB9XHJcbiAgICAgICB9XHJcbiAgfTtcclxufSk7XHJcblxyXG5cclxuXHJcblxyXG4vLyAvLyDqsJLsnYQg7IKt7KCc7ZWY64qUIO2VqOyImFxyXG4vLyAgICRzY29wZS5kZWxldGVQaG90byA9IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgdmFyIGlkID0gJHN0YXRlUGFyYW1zLnBob3RvX2lkO1xyXG4vLyAgICAgJGh0dHAuZGVsZXRlKCcvYXBpL2dhbGxlcnkvJytpZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbi8vICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCdhcHAuZ2FsbGVyeS5jYXRlZ29yeSh7Y29kZTogMH0pJyk7XHJcbi8vICAgICB9KTtcclxuLy8gICB9O1xyXG4vL1xyXG4vL1xyXG4vLyAvLyDqsJzrs4Qg7IKs7KeEIOq0gOugqOuQnCDsnbTrr7jsp4Ag6rCA7KC47Jik6riwIHx8IOyEoO2Dne2VnCDsnbTrr7jsp4DsmYAg6rCZ7J2AIOu2hOulmOydmCDsnbTrr7jsp4Ag6rCA7KC47Jik6riwXHJcbi8vICAgJHNjb3BlLmdldFJlbGF0ZWRQaWMgPSBmdW5jdGlvbigpe1xyXG4vLyAgICAgdmFyIGNvZGUgPSAkc3RhdGVQYXJhbXMucGhvdG9fdHlwZTtcclxuLy8gICAgICRodHRwLmdldCgnL2FwaS9nYWxsZXJ5TWVudS8nK2NvZGUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4vLyAgICAgICAkc2NvcGUucGhvdG9zID0gcmVzcG9uc2UuZGF0YTtcclxuLy8gICAgIH0pO1xyXG4vLyAgIH07XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignSG9tZUN0cmwnLCBmdW5jdGlvbiAoICRodHRwLCAkc2NvcGUpIHtcclxuXHJcbiAgJHNjb3BlLmdldENvbnRlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgJGh0dHAuZ2V0KCcvYXBpL2hvbWUnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgJHNjb3BlLnBob3RvcyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdtYWluQ29udHJvbGxlcnMnLFsnYXV0aFNlcnZpY2VzJywgJ3VzZXJTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignbWFpbkN0cmwnLCBmdW5jdGlvbihBdXRoLCAkdGltZW91dCwgJGxvY2F0aW9uLCAkc3RhdGUsICRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdywgJGludGVydmFsLCBVc2VyLCBBdXRoVG9rZW4pe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICBhcHAubG9hZG1lID0gZmFsc2U7XHJcblxyXG4gICRzY29wZS4kb24oJ0xPQUQnLCBmdW5jdGlvbigpe1xyXG4gICAgJHNjb3BlLmxvYWRpbmcgPSB0cnVlO1xyXG4gIH0pO1xyXG5cclxuICAkc2NvcGUuJG9uKCdVTkxPQUQnLCBmdW5jdGlvbigpe1xyXG4gICAgJHNjb3BlLmxvYWRpbmcgPSBmYWxzZTtcclxuICB9KTtcclxuXHJcbiAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oKXtcclxuICAgIGlmKCFjaGVja1Nlc3Npb24pY2hlY2tTZXNzaW9uKCk7XHJcblxyXG4gICAgaWYoQXV0aC5pc0xvZ2dlZEluKCkpe1xyXG4gICAgICBhcHAuaXNMb2dnZWRJbiA9IHRydWU7XHJcblxyXG4gICAgICBBdXRoLmdldFVzZXIoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGFwcC51c2VyID0gZGF0YS5kYXRhO1xyXG4gICAgICAgIFVzZXIuZ2V0UGVybWlzc2lvbigpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5wZXJtaXNzaW9uID09PSAnYWRtaW4nKXtcclxuICAgICAgICAgICAgICBhcHAuYXV0aG9yaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZihkYXRhLmRhdGEucGVybWlzc2lvbiA9PT0gJ2FydGlzdCcpe1xyXG4gICAgICAgICAgICAgIGFwcC5wZXJtaXNzaW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhcHAucGVybWlzc2lvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGFwcC5hdXRob3JpemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcC5wZXJtaXNzaW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFwcC5hdXRob3JpemVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC51c2VyID0gZmFsc2U7XHJcbiAgICAgIGFwcC5pc0xvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuXHJcbiAgdmFyIGNoZWNrU2Vzc2lvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICBpZihBdXRoLmlzTG9nZ2VkSW4oKSl7XHJcbiAgICAgIGFwcC5jaGVja1Nlc3Npb24gPSB0cnVlO1xyXG4gICAgICB2YXIgaW50ZXJ2YWwgPSAkaW50ZXJ2YWwoZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgdG9rZW4gPSAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpO1xyXG4gICAgICAgIGlmKHRva2VuID09PSBudWxsKXtcclxuICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWxmLnBhcnNlSnd0ID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgICAgICAgICB2YXIgYmFzZTY0VXJsID0gdG9rZW4uc3BsaXQoJy4nKVsxXTtcclxuICAgICAgICAgICAgdmFyIGJhc2U2NCA9IGJhc2U2NFVybC5yZXBsYWNlKCctJywnKycpLnJlcGxhY2UoJ18nLCAnLycpO1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSgkd2luZG93LmF0b2IoYmFzZTY0KSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgdmFyIGV4cGlyZVRpbWUgPSBzZWxmLnBhcnNlSnd0KHRva2VuKTtcclxuICAgICAgICAgIHZhciB0aW1lU3RhbXAgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcclxuICAgICAgICAgIHZhciB0aW1lQ2hlY2sgPSBleHBpcmVUaW1lLmV4cCAtIHRpbWVTdGFtcDtcclxuXHJcbiAgICAgICAgICBpZih0aW1lQ2hlY2sgPD0gNSl7XHJcbiAgICAgICAgICAgIHNob3dNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKGludGVydmFsKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAyMDAwKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjaGVja1Nlc3Npb24oKTtcclxuXHJcblxyXG4gICAgYXBwLnJlbmV3U2Vzc2lvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGFwcC5jaG9pY2VNYWRlID0gdHJ1ZTtcclxuICAgICAgVXNlci5yZW5ld1Nlc3Npb24oYXBwLnVzZXIudXNlcm5hbWUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgQXV0aFRva2VuLnNldFRva2VuKGRhdGEuZGF0YS50b2tlbik7XHJcbiAgICAgICAgICBjaGVja1Nlc3Npb24oKTtcclxuICAgICAgICAgIGhpZGVNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAgIH0gZWxzZXtcclxuICAgICAgICAgIGFwcC5Nb2RhbEJvZHkgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIGhpZGVNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGFwcC5lbmRTZXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgICAgYXBwLmNob2ljZU1hZGUgPSB0cnVlO1xyXG4gICAgICBoaWRlTW9kYWwoJ2V4cGlyZWQnKTtcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICBzaG93TW9kYWwoJ2xvZ291dCcpO1xyXG4gICAgICB9LDUwMCk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgdmFyIHNob3dNb2RhbCA9IGZ1bmN0aW9uKG9wdGlvbil7XHJcbiAgICBhcHAuY2hvaWNlTWFkZSA9IGZhbHNlO1xyXG4gICAgYXBwLm1vZGFsSGVhZGVyID0gdW5kZWZpbmVkO1xyXG4gICAgYXBwLm1vZGFsQm9keSA9IHVuZGVmaW5lZDtcclxuICAgIGFwcC5oaWRlQnV0dG9uID0gZmFsc2U7XHJcbi8vIGNoZWNrIHRva2VuIGV4cGlyZWRcclxuICAgIGlmKG9wdGlvbiA9PT0gICdleHBpcmVkJyApe1xyXG4gICAgICBhcHAubW9kYWxIZWFkZXIgPSAnVGltZW91dCBXYXJuaW5nJztcclxuICAgICAgYXBwLm1vZGFsQm9keSA9ICdZb3VyIHNlc3Npb24gd2lsbCBleHBpcmVkIGluIDUgbWludXRlcy4gV291bGQgeW91IGxpa2UgdG8gcmVuZXcgeW91ciBzZXNzaW9uPyc7XHJcbiAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCh7YmFja2Ryb3A6XCJzdGF0aWNcIn0pO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ2xvZ291dCcpe1xyXG4vLyBsb2dvdXRcclxuICAgICAgYXBwLmhpZGVCdXR0b24gPSB0cnVlO1xyXG4gICAgICBhcHAubW9kYWxIZWFkZXIgPSAn66Gc6re47JWE7JuDJztcclxuICAgICAgJChcIiNteU1vZGFsXCIpLm1vZGFsKHtiYWNrZHJvcDpcInN0YXRpY1wifSk7XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgQXV0aC5sb2dvdXQoKTtcclxuICAgICAgICBhcHAuaXNMb2dnZWRJbiA9IGZhbHNlO1xyXG4gICAgICAgIGhpZGVNb2RhbCgnbG9nb3V0Jyk7XG4gICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcbiAgICAgIH0sIDIwMDApO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ2xvZ2luJyl7XHJcbi8vIExvZ2luXHJcbiAgICAgICQoXCIjbG9naW5cIikubW9kYWwoe2JhY2tkcm9wOlwic3RhdGljXCJ9KTtcclxuICAgIH0gIGVsc2UgaWYob3B0aW9uID09PSd1cGxvYWQnKXtcclxuLy8gZW5yb2xsQXJ0aXN0XHJcbiAgICAgICQoXCIjdXBsb2FkXCIpLm1vZGFsKHtiYWNrZHJvcDpcInN0YXRpY1wifSk7XHJcbiAgICB9XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYoIWFwcC5jaG9pY2VNYWRlKXtcclxuICAgICAgICAgIGhpZGVNb2RhbCgnbG9nb3V0Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCA0MDAwKTtcclxuXHJcbiAgfTtcclxuXHJcbiAgdmFyIGhpZGVNb2RhbCA9IGZ1bmN0aW9uKG9wdGlvbil7XHJcblxyXG4gICAgaWYob3B0aW9uID09PSAnZXhwaXJlZCcpe1xyXG4gICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoJ2hpZGUnKTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICdsb2dvdXQnKXtcclxuICAgICAgJChcIiNteU1vZGFsXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAnbG9naW4nKXtcclxuICAgICAgJChcIiNsb2dpblwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ3VwbG9hZCcpe1xyXG4gICAgICAkKFwiI3VwbG9hZFwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG5cclxuLy8g66Gc6re47J24XHJcbiAgdGhpcy5kb0xvZ2luID0gZnVuY3Rpb24obG9naW5EYXRhLCB2YWxpZCl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5leHBpcmVkID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgIGlmKHZhbGlkKXtcclxuICAgICAgQXV0aC5sb2dpbihhcHAubG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaGlkZU1vZGFsKCdsb2dpbicpO1xyXG4gICAgICAgICAgICBhcHAubG9naW5EYXRhID0gbnVsbDtcclxuICAgICAgICAgICAgYXBwLmlzTG9nZ2VkSW4gPSB0cnVlO1xyXG4gICAgICAgICAgICBjaGVja1Nlc3Npb24oKTtcclxuICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgfSwyMDAwKTtcclxuICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICBpZihkYXRhLmRhdGEuZXhwaXJlZCl7XHJcbiAgICAgICAgICAgIGFwcC5leHBpcmVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBJZiBlcnJvciBvY2N1cnMsIHJlbW92ZSBkaXNhYmxlIGxvY2sgZnJvbSBmb3JtXHJcbiAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgYm9vdHN0cmFwIGxvYWRpbmcgaWNvblxyXG4gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gRGlzcGxheSBlcnJvciBpZiB2YWxpZCByZXR1cm5zIGZhbHNlXHJcbiAgICB9XHJcblxyXG4gIH07XHJcblxyXG5cclxuXHJcbi8vIOyCrOyaqeyekOydmCDqtoztlZwg7Jes67aAIO2ZleyduFxyXG4gIHRoaXMudXBsb2FkID0gZnVuY3Rpb24oKXtcclxuICBhcHAuY2hvaWNlTWFkZSA9IHRydWU7XHJcbiAgICBpZihhcHAudXNlci5wZXJtaXNzaW9uID09PSAnYXJ0aXN0Jyl7XHJcbiAgICAgICRzdGF0ZS5nbygnYXBwLmFydGlzdFByb2ZpbGVzJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBVc2VyLmNoZWNrUGVybWlzc2lvbihhcHAudXNlci51c2VybmFtZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oJ2FwcC5hcnRpc3RQcm9maWxlcycpO1xyXG4gICAgICAgICAgIGFwcC5wZXJtaXNzaW9uID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2hvd01vZGFsKCd1cGxvYWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICB9O1xyXG5cclxuICAvLyDsgqzsmqnsnpDsl5Dqsowg6raM7ZWcIOu2gOyXrFxyXG4gICAgdGhpcy5kb1Blcm1pc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgICBhcHAuY2hvaWNlTWFkZSA9IHRydWU7XHJcbiAgICAgIGFwcC51cGxvYWREaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIGFwcC51cGxvYWRlcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICBVc2VyLnJlc2V0UGVybWlzc2lvbihhcHAudXNlcikudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAudXBsb2FkRGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgYXBwLnVwbG9hZFN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGhpZGVNb2RhbCgndXBsb2FkJyk7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwLmFydGlzdFByb2ZpbGVzJyk7XHJcbiAgICAgICAgICB9LDIwMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAudXBsb2FkRGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC51cGxvYWRlcnJvck1zZyA9ICfsnpjrqrvrkJwg7KCV67O06rCAIOyeheugpeuQmOyXiOyKteuLiOuLpC4nO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgYXBwLmxvZ2luID0gZnVuY3Rpb24oKXtcclxuICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgc2hvd01vZGFsKCdsb2dpbicpO1xyXG4gIH07XHJcblxyXG4gIGFwcC5sb2dvdXQgPSBmdW5jdGlvbigpe1xyXG4gICAgc2hvd01vZGFsKCdsb2dvdXQnKTtcclxuICB9O1xyXG5cclxuICBhcHAucmVzZW5kID0gZnVuY3Rpb24oKXtcclxuICAgIGhpZGVNb2RhbCgnbG9naW4nKTtcclxuICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICRzdGF0ZS5nbygncmVzZW5kJyk7XHJcbiAgICAgIGFwcC5leHBpcmVkID0gZmFsc2U7XHJcbiAgICB9LDUwMCk7XHJcbiAgfTtcclxuXHJcbiAgYXBwLnJlc2V0dXNlcm5hbWUgPSBmdW5jdGlvbigpe1xyXG4gICAgaGlkZU1vZGFsKCdsb2dpbicpO1xyXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgJHN0YXRlLmdvKCdyZXNldHVzZXJuYW1lJyk7XHJcbiAgICB9LDUwMCk7XHJcbiAgfTtcclxuXHJcbiAgYXBwLnJlc2V0cGFzc3dvcmQgPSBmdW5jdGlvbigpe1xyXG4gICAgaGlkZU1vZGFsKCdsb2dpbicpO1xyXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgJHN0YXRlLmdvKCdyZXNldHBhc3N3b3JkJyk7XHJcbiAgICB9LDUwMCk7XHJcblxyXG4gIH07XHJcblxyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdtYWluTWVudUNvbnRyb2xsZXInLCBmdW5jdGlvbiAoJGh0dHAsICRzY29wZSkge1xyXG4gICRodHRwLmdldCgnL2FwaS9oZWFkZXInKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICRzY29wZS5oZWFkZXJzID0gcmVzcG9uc2UuZGF0YTtcclxuICB9KTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdlbWFpbENvbnRyb2xsZXJzJyxbJ3VzZXJTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignZW1haWxDdHJsJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBVc2VyLmFjdGl2ZUFjY291bnQoJHN0YXRlUGFyYW1zLnRva2VuKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgfSwyMDAwKTtcclxuICAgIH1lbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICB9LDIwMDApO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Jlc2VuZEN0cmwnLCBmdW5jdGlvbihVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICBhcHAgPSB0aGlzO1xyXG4gIHRoaXMuY2hlY2tDcmVkZW50aWFscyA9IGZ1bmN0aW9uKGxvZ2luRGF0YSl7XHJcbiAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgIFVzZXIuY2hlY2tDcmVkZW50aWFscyh0aGlzLmxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIFVzZXIucmVzZW5kTGluayhhcHAubG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAgICAgfSwyMDAwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfWVsc2Uge1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3VzZXJuYW1lQ3RybCcsIGZ1bmN0aW9uKFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHRoaXMuc2VuZFVzZXJuYW1lID0gZnVuY3Rpb24odXNlckRhdGEsIHZhbGlkKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGlmKHZhbGlkKXtcclxuICAgICAgVXNlci5zZW5kVXNlcm5hbWUoYXBwLnVzZXJEYXRhLmVtYWlsKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsnbTrqZTsnbwg7KO87IaM6rCAIOyVhOuLmeuLiOuLpC4nO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncGFzc3dvcmRDdHJsJywgZnVuY3Rpb24oVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgYXBwLnNlbmRQYXNzd29yZCA9IGZ1bmN0aW9uKHJlc2V0RGF0YSwgdmFsaWQpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgaWYodmFsaWQpe1xyXG4gICAgICBVc2VyLnNlbmRQYXNzd29yZChhcHAucmVzZXREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDslYTsnbTrlJTqsIAg7JWE64uZ64uI64ukLic7XHJcbiAgICB9XHJcbiAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdyZXNldEN0cmwnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsICRzY29wZSwgVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gICAgYXBwLmhpZGUgPSB0cnVlOyAvLyBIaWRlIGZvcm0gdW50aWwgdG9rZW4gY2FuIGJlIHZlcmlmaWVkIHRvIGJlIHZhbGlkXHJcblxyXG4gICAgLy8gRnVuY3Rpb24gdG8gY2hlY2sgaWYgdG9rZW4gaXMgdmFsaWQgYW5kIGdldCB0aGUgdXNlcidzIGluZm8gZnJvbSBkYXRhYmFzZSAocnVucyBvbiBwYWdlIGxvYWQpXHJcbiAgICBVc2VyLnJlc2V0UGFzc3dvcmQoJHN0YXRlUGFyYW1zLnRva2VuKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAvLyBDaGVjayBpZiB1c2VyIHdhcyByZXRyaWV2ZWRcclxuICAgICAgICBpZiAoZGF0YS5kYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgYXBwLmhpZGUgPSBmYWxzZTsgLy8gU2hvdyBmb3JtXHJcbiAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1zdWNjZXNzJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9ICfsg4jroZzsmrQg67mE67CA67KI7Zi466W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBMZXQgdXNlciBrbm93IHRoZXkgY2FuIGVudGVyIG5ldyBwYXNzd29yZFxyXG4gICAgICAgICAgICAkc2NvcGUudXNlcm5hbWUgPSBkYXRhLmRhdGEudXNlclswXS51c2VybmFtZTsgLy8gU2F2ZSB1c2VybmFtZSBpbiBzY29wZSBmb3IgdXNlIGluIHNhdmVQYXNzd29yZCgpIGZ1bmN0aW9uXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LWRhbmdlcic7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7IC8vIEdyYWIgZXJyb3IgbWVzc2FnZSBmcm9tIEpTT04gb2JqZWN0XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gRnVuY3Rpb24gdG8gc2F2ZSB1c2VyJ3MgbmV3IHBhc3N3b3JkIHRvIGRhdGFiYXNlXHJcbiAgICBhcHAuc2F2ZVBhc3N3b3JkID0gZnVuY3Rpb24ocmVnRGF0YSwgdmFsaWQsIGNvbmZpcm1lZCkge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlOyAvLyBDbGVhciBlcnJvck1zZyB3aGVuIHVzZXIgc3VibWl0c1xyXG4gICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTsgLy8gRGlzYWJsZSBmb3JtIHdoaWxlIHByb2Nlc3NpbmdcclxuICAgICAgICBhcHAubG9hZGluZyA9IHRydWU7IC8vIEVuYWJsZSBsb2FkaW5nIGljb25cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgZm9ybSBpcyB2YWxpZCBhbmQgcGFzc3dvcmRzIG1hdGNoXHJcbiAgICAgICAgaWYgKHZhbGlkICYmIGNvbmZpcm1lZCkge1xyXG4gICAgICAgICAgICBhcHAucmVnRGF0YS51c2VybmFtZSA9ICRzY29wZS51c2VybmFtZTsgLy8gR3JhYiB1c2VybmFtZSBmcm9tICRzY29wZVxyXG5cclxuICAgICAgICAgICAgLy8gUnVuIGZ1bmN0aW9uIHRvIHNhdmUgdXNlcidzIG5ldyBwYXNzd29yZCB0byBkYXRhYmFzZVxyXG4gICAgICAgICAgICBVc2VyLnNhdmVQYXNzd29yZChhcHAucmVnRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBhcHAubG9hZGluZyA9IGZhbHNlOyAvLyBTdG9wIGxvYWRpbmcgaWNvblxyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgcGFzc3dvcmQgd2FzIHNhdmVkIHRvIGRhdGFiYXNlXHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtc3VjY2Vzcyc7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtmZTrqbTsnLzroZwg7J2064+Z7ZWp64uI64ukLic7IC8vIEdyYWIgc3VjY2VzcyBtZXNzYWdlIGZyb20gSlNPTiBvYmplY3QgYW5kIHJlZGlyZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVkaXJlY3QgdG8gbG9naW4gcGFnZSBhZnRlciAyMDAwIG1pbGxpc2Vjb25kcyAoMiBzZWNvbmRzKVxyXG4gICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LWRhbmdlcic7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTsgLy8gRW5hYmxlIGZvcm0gdG8gYWxsb3cgdXNlciB0byByZXN1Ym1pdFxyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlOyAvLyBHcmFiIGVycm9yIG1lc3NhZ2UgZnJvbSBKU09OIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtZGFuZ2VyJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICBhcHAubG9hZGluZyA9IGZhbHNlOyAvLyBTdG9wIGxvYWRpbmcgaWNvblxyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTsgLy8gRW5hYmxlIGZvcm0gdG8gYWxsb3cgdXNlciB0byByZXN1Ym1pdFxyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gTGV0IHVzZXIga25vdyBmb3JtIGlzIG5vdCB2YWxpZFxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgndXNlckNvbnRyb2xsZXJzJyxbJ3VzZXJTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcigncmVnQ3RybCcsIGZ1bmN0aW9uICggJGh0dHAsICRsb2NhdGlvbiwgJHRpbWVvdXQsIFVzZXIsIEF1dGgsICRzdGF0ZSkge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gICAgICB0aGlzLnJlZ1N0ZXAxID0gZnVuY3Rpb24ocmVnRGF0YSl7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgaWYoIXJlZ0RhdGEpe1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yVveq0gOyXkCDrj5nsnZjtlbTslbzrp4wg7ZqM7JuQ6rCA7J6F7J2EIOynhO2Wie2VoCDsiJgg7J6I7Iq164uI64ukLic7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmKChyZWdEYXRhLnRlcm1zKSAmJiAocmVnRGF0YS5wcml2YWN5KSkge1xyXG4gICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSAn7JW96rSA7JeQIOyEseqzteyggeycvOuhnCDrj5nsnZjtlZjshajsirXri4jri6QuJztcclxuICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3JlZ2lzdGVyU3RlcDInKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7JW96rSA7JeQIOuPmeydmO2VtOyVvOunjCDtmozsm5DqsIDsnoXsnYQg7KeE7ZaJ7ZWgIOyImCDsnojsirXri4jri6QuJztcclxuICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH07XHJcblxyXG4gICAgLy8g7ZqM7JuQ6rCA7J6FXHJcbiAgICAgIHRoaXMucmVnU3RlcDIgPSBmdW5jdGlvbihyZWdEYXRhLCB2YWxpZCwgY29uZmlybWVkKXtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICBpZih2YWxpZCAmJiBjb25maXJtZWQpe1xyXG4gICAgICAgICAgVXNlci5jcmVhdGUoYXBwLnJlZ0RhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICQoXCIjcmVnaXN0ZXJcIikubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICAgICAgICAgIGFwcC5yZWdEYXRhID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGFwcC5pc0xvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICAgIH0sMzAwMCk7XHJcbiAgICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTsgLy8gSWYgZXJyb3Igb2NjdXJzLCByZW1vdmUgZGlzYWJsZSBsb2NrIGZyb20gZm9ybVxyXG4gICAgICAgICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBib290c3RyYXAgbG9hZGluZyBpY29uXHJcbiAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gRGlzcGxheSBlcnJvciBpZiB2YWxpZCByZXR1cm5zIGZhbHNlXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfTtcclxuXHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncHJvZmlsZUN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFVzZXIsICR0aW1lb3V0LCAkc3RhdGUsICRodHRwKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuXHJcbi8vIOq4sOuzuCDsgqzsmqnsnpAg7KCV67O0IOqwgOyguOyYpOuKlCDtlajsiJhcclxuICB2YXIgdXNlcm5hbWUgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJuYW1lO1xyXG4gIFVzZXIucmVhZFByb2ZpbGVzKHVzZXJuYW1lKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICBhcHAucmVhZERhdGEgPSBkYXRhLmRhdGEucHJvZmlsZXM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcblxyXG4vLyDsnKDsoIAg7ZSE66Gc7ZWEIOyCrOynhCDrs4Dqsr0g7ZWo7IiYXHJcbiAgICB0aGlzLmZpbGUgPSB7fTtcclxuICAgIHRoaXMucGhvdG9DaGFuZ2VkID0gZnVuY3Rpb24oZmlsZXMpIHtcclxuICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwICYmIGZpbGVzWzBdLm5hbWUubWF0Y2goL1xcLihwbmd8anBlZ3xqcGcpJC8pKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC50aHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC50aHVtYm5haWwuZGF0YVVybCA9IGUudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC51cGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5tZXNzYWdlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGFwcC50aHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgICBhcHAubWVzc2FnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuLy8g7ZSE66Gc7ZWEIOydtOuvuOyngOulvCDsl4XrjbDsnbTtirjtlZjripQg7ZWo7IiYXHJcbiAgICB0aGlzLnVwZGF0ZVByb2ZpbGVJbWFnZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAkc2NvcGUuJGVtaXQoJ0xPQUQnKTtcclxuICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgIHZhciB1c2VyX2lkID0gJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xyXG4gICAgICBmZC5hcHBlbmQoJ215ZmlsZScsIGFwcC5maWxlLnVwbG9hZCk7XHJcbiAgICAgICAgJGh0dHAucHV0KCcvYXBpL3VwbG9hZFRlbXAvJyt1c2VyX2lkLCAgZmQsIHtcclxuICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG4gICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkfVxyXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9O1xyXG5cclxuLy8g7ZSE66Gc7ZWEIOygleuztCDrs4Dqsr1cclxuICB0aGlzLnVwZGF0ZVByb2ZpbGUgPSBmdW5jdGlvbigpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgYXBwLnJlYWREYXRhLnVzZXJfaWQgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XHJcbiAgICBVc2VyLnVwZGF0ZVByb2ZpbGVzKGFwcC5yZWFkRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICB9LDIwMDApO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxufSk7XHJcbiJdfQ==

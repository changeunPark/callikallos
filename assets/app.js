angular.module("app",["ui.router","ui.bootstrap","userControllers","mainControllers","emailControllers","artistControllers","gallertControllers","commentControllers","boardControllers","uiCropper"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptors")}]);var app=angular.module("app");app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,a){t.otherwise("/"),e.state("app",{url:"/",views:{header:{templateUrl:"/menues/mainMenu.html",controller:"MainMenuController"},content:{templateUrl:"../categories/home.html"},footer:{templateUrl:"/company/footer.html"}}}).state("registerStep1",{url:"/register/step1",controller:"regCtrl",controllerAs:"register",templateUrl:"/isLoggedOut/registerStep1.html",authenticated:!1}).state("registerStep2",{url:"/register/step2",controller:"regCtrl",controllerAs:"register",templateUrl:"/isLoggedOut/registerStep2.html",authenticated:!1}).state("resetusername",{url:"/resetusername",templateUrl:"/users/reset/username.html",controller:"usernameCtrl",controllerAs:"username"}).state("resetpassword",{url:"/resetpassword",templateUrl:"/users/reset/password.html",controller:"passwordCtrl",controllerAs:"password"}).state("reset",{url:"/reset/:token",templateUrl:"/users/reset/newpassword.html",controller:"resetCtrl",controllerAs:"reset"}).state("activate",{url:"/activate/:token",templateUrl:"/users/activation/activate.html",controller:"emailCtrl",controllerAs:"email"}).state("resend",{url:"/resend",templateUrl:"/users/activation/resend.html",controller:"resendCtrl",controllerAs:"resend"}).state("app.profiles",{url:"profiles",views:{"content@":{templateUrl:"isLoggedIn/userProfiles.html",controller:"profileCtrl",controllerAs:"profile",authenticated:!1}}}).state("app.photos",{url:"photos",views:{"content@":{templateUrl:"isLoggedIn/artistPhotos.html",controller:"artistPhotoCtrl",controllerAs:"artistPhoto",authenticated:!1}}}).state("app.artistProfiles",{url:"artist",views:{"content@":{templateUrl:"isLoggedIn/artistProfiles.html",controller:"artistProfileCtrl",controllerAs:"artistProfile",authenticated:!0}}}).state("app.intro",{url:"intro",views:{"content@":{templateUrl:"/company/intro.html",authenticated:!1}}}).state("app.terms",{url:"terms",views:{"content@":{templateUrl:"/company/terms.html",authenticated:!1}}}).state("app.privacy",{url:"privacy",views:{"content@":{templateUrl:"/company/privacy.html",authenticated:!1}}}).state("app.artist",{url:"artist",views:{"content@":{templateUrl:"categories/artist.html",controller:"artistsCtrl",controllerAs:"artists",authenticated:!1},"artist-header@app.artist":{templateUrl:"/menues/subMenu.html",controller:"artistTapCtrl",controllerAs:"artistTap",authenticated:!1}}}).state("app.artist.categories",{url:"/category=:code",views:{"detail@app.artist":{templateUrl:"/partialArtist/artists.html",controller:"artistsCtrl",controllerAs:"artists",authenticated:!1}}}).state("app.artist.show",{url:"/:artist_id",views:{"content@":{templateUrl:"/partialArtist/artist.html",controller:"artistPhotoCtrl",controllerAs:"artistPhoto",authenticated:!1}}}).state("app.gallery",{url:"gallery",views:{"gallery-header@app.gallery":{templateUrl:"/menues/subMenu.html",controller:"galleryTapCtrl",controllerAs:"galleryTap"},"content@":{templateUrl:"categories/gallery.html",controller:"galleryPhotosCtrl",controllerAs:"galleryPhotos",authenticated:!1}}}).state("app.gallery.categories",{url:"/category=:code",views:{"detail@app.gallery":{templateUrl:"/partialGallery/photos.html",controller:"galleryPhotosCtrl",controllerAs:"galleryPhotos",authenticated:!1}}}).state("app.gallery.show",{url:"/category=:photo_type/photo:photo_id",views:{"content@":{templateUrl:"/partialGallery/photo.html",controller:"galleryPhotoCtrl",controllerAs:"galleryphoto"}}}).state("app.gallery.edit",{url:"/edit/:photo_id",views:{"content@":{templateUrl:"/partialGallery/photoEdit.html",controller:"galleryPhotoCtrl",controllerAs:"galleryphoto"}}}).state("app.display",{url:"display",views:{"content@":{templateUrl:"categories/display.html",authenticated:!1},"display-header@app.display":{templateUrl:"/menues/subMenu.html",controller:"displayMenuController",authenticated:!1}}}).state("app.display.categories",{url:"/category=:code",views:{"detail@app.display":{templateUrl:"/partialDisplay/content.html",controller:"displayMenuController",authenticated:!1}}}).state("app.board",{url:"board",views:{"content@":{templateUrl:"categories/board.html",controller:"boardsCtrl",controllerAs:"boards",authenticated:!1},"board-header@app.board":{templateUrl:"/menues/boardMenu.html",controller:"boardTapCtrl",authenticated:!1}}}).state("app.board.categories",{url:"/category=:code",views:{"content@app.board":{templateUrl:"/partialBoard/boards.html",controller:"boardsCtrl",controllerAs:"boards",authenticated:!1}}}).state("app.board.create",{url:"/create",views:{"content@app.board":{templateUrl:"/partialBoard/boardCreate.html",controller:"boardCtrl",controllerAs:"board",authenticated:!0}}}).state("app.board.show",{url:"/:board_id",views:{"content@app.board":{templateUrl:"partialBoard/board.html",controller:"boardCtrl",controllerAs:"board",authenticated:!1}}}).state("app.board.edit",{url:"/edit/:board_id",views:{"content@app.board":{templateUrl:"partialBoard/boardUpdate.html",controller:"boardCtrl",controllerAs:"board",authenticated:!0}}})}]),angular.module("commentControllers",["commentServices"]).controller("commentCtrl",["$scope","$http","$stateParams","$state","$window","Comment",function(e,t,a,r,o,s){var n=this;e.userComment=!1,this.createComment=function(e){t.post("/api/comment",n.response).then(function(e){console.log(e)})},e.getComment=function(){var r=a.photo_id,o=a.board_id,s="",n={photo_id:r,board_id:o},i={params:n,headers:{Accept:"application/json"}};r?(s=r,t.get("/api/comment/"+s,i).then(function(t){e.comments=t.data[0]})):o?(s=o,t.get("/api/comment/"+s,i).then(function(t){e.comments=t.data[0]})):e.comments="시스템이 불안정합니다."},e.addComment=function(e,a){if(a){var s=e.board_id,n=e.photo_id,i=e.comment;t.post("/api/comment",{board_id:s,photo_id:n,comment:i}).then(function(e){r.reload()})}else o.alert("댓글을 입력해주세요.")},e.deleteComment=function(e){var a=e.comment_id;t.delete("/api/comment/"+a).then(function(e){r.reload()})}}]),angular.module("app").controller("ImageCropCtrl",["$scope",function(e){e.myCroppedImage="",e.myImage=void 0,e.crobject={};var t=function(t){var a=t.currentTarget.files[0],r=new FileReader;r.onload=function(t){e.$apply(function(e){e.myImage=t.target.result})},r.readAsDataURL(a)};angular.element(document.querySelector("#fileInput")).on("change",t),this.imageCrop=function(){var t=e.myImage;console.log(t)}}]),angular.module("app").controller("OpinionController",["$scope","$http","$stateParams",function(e,t,a){e.doLikeStatus=!0,e.doLike=function(){e.doLikeStatus=!e.doLikeStatus},e.getOpinion=function(r){var o=a.id;t.get("/api/opinion/"+o).then(function(t){e.opinionInfo=t.data[0][0]})}}]),angular.module("app").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,a,r){var o=e(r.fileModel),s=o.assign;a.bind("change",function(){t.$apply(function(){s(t,a[0].files[0])})})}}}]),angular.module("app").directive("match",function(){return{restrict:"A",controller:["$scope",function(e){e.doConfirm=function(t){e.confirmed=!1,t.forEach(function(t){e.confirm==t?e.confirmed=!0:e.confirmed=!1})}}],link:function(e,t,a){a.$observe("match",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)}),e.$watch("confirm",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)})}}}),angular.module("artistServices",[]).factory("Artist",["$http",function(e){return artistFactory={},artistFactory.readArtistTap=function(){return e.get("/api/artistMenu")},artistFactory.readArtists=function(t){return e.get("/api/artistMenu/"+t)},artistFactory.readArtist=function(t){return e.get("/api/artist/"+t)},artistFactory.createAristPhoto=function(t){return e.post("/api/artistProfiles",t)},artistFactory.updateAristProfile=function(t){return e.put("/api/artistProfiles",t)},artistFactory.readArtistProfile=function(t){return e.get("/api/artistProfiles/"+t)},artistFactory.readAristPhoto=function(t){return e.get("/api/artistPhotos/"+t)},artistFactory}]),angular.module("authServices",[]).factory("Auth",["$http","AuthToken",function(e,t){var a={};return a.getUser=function(){if(t.getToken())return e.post("/api/me");$q.reject({message:"User has no token"})},a.login=function(a){return e.post("/api/authenticate",a).then(function(e){return t.setToken(e.data.token),e})},a.isLoggedIn=function(){return!!t.getToken()},a.logout=function(){t.setToken()},a}]).factory("AuthToken",["$window",function(e){var t={};return t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token",t)},t.getToken=function(){return e.localStorage.getItem("token")},t}]).factory("AuthInterceptors",["AuthToken",function(e){var t={};return t.request=function(t){var a=e.getToken();return a&&(t.headers["x-access-token"]=a),t},t}]),angular.module("boardServices",[]).factory("Board",["$http",function(e){return boardFactory={},boardFactory.readBoardTap=function(){return e.get("/api/boardMenu")},boardFactory.readBoards=function(t){return e.get("/api/boardMenu/"+t)},boardFactory.readBoard=function(t){return e.get("api/board/"+t)},boardFactory}]),angular.module("commentServices",[]).factory("Comment",["$http",function(e){return commentFactory={},commentFactory.createComment=function(t){return e.post("/api/comment",t)},commentFactory}]),angular.module("galleryServices",[]).factory("Gallery",["$http",function(e){return galleryFactory={},galleryFactory.readGalleryTap=function(){return e.get("/api/galleryMenu")},galleryFactory.readPhotos=function(t){return e.get("/api/galleryMenu/"+t)},galleryFactory.readPhotoData=function(t){return e.get("/api/gallery/"+t)},galleryFactory.readMorePhoto=function(t){return e.get("/api/galleryMenu/"+t)},galleryFactory}]),angular.module("userServices",[]).factory("User",["$http",function(e){return userFactory={},userFactory.create=function(t){return e.post("/api/users",t)},userFactory.activeAccount=function(t){return e.put("/api/activate/"+t)},userFactory.checkCredentials=function(t){return e.post("/api/resend",t)},userFactory.resendLink=function(t){return e.put("/api/resend",t)},userFactory.sendUsername=function(t){return e.get("/api/resetusername/"+t)},userFactory.sendPassword=function(t){return e.put("/api/resetpassword",t)},userFactory.resetPassword=function(t){return e.get("/api/resetpassword/"+t)},userFactory.savePassword=function(t){return e.put("/api/savepassword",t)},userFactory.renewSession=function(t){return e.get("/api/renewToken/"+t)},userFactory.resetPermission=function(t){return e.put("/api/users/",t)},userFactory.checkPermission=function(t){return e.get("/api/users/"+t)},userFactory.readProfiles=function(t){return e.get("/api/userProfiles/"+t)},userFactory.updateProfiles=function(t){return e.put("/api/userProfiles",t)},userFactory}]),angular.module("artistControllers",["userServices","artistServices"]).controller("artistTapCtrl",["$scope","Artist",function(e,t){t.readArtistTap().then(function(t){t.data.success?e.headers=t.data.result:app.errorMsg=t.data.message})}]).controller("artistsCtrl",["$stateParams","Artist",function(e,t){var a=this,r=e.code;a.data={availableOptions:[{sort:"-created",name:"최신순"}],selectedOption:{sort:"-created",name:"최신순"}},t.readArtists(r).then(function(e){e.data.success?a.artistDatas=e.data.result:a.errorMsg=e.data.message})}]).controller("uploadCtrl",["$http","$timeout","$scope","Artist","$state",function(e,t,a,r,o){var s=this;s.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"붓 글씨"},{id:"2",name:"펜 글씨"},{id:"3",name:"미분류"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.file={},this.mainPhotoChanged=function(e){if(e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var a=e[0],r=new FileReader;r.readAsDataURL(a),r.onload=function(e){t(function(){s.mainThumbnail={},s.mainThumbnail.dataUrl=e.target.result})}}else s.mainThumbnail={}},this.readPhoto=function(){s.errorMsg=!1,s.disabled=!0,a.$emit("LOAD");var t=new FormData;t.append("myfile",s.file.upload),e.post("/api/uploadTemp/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.disabled=!1,s.successMsg=e.data.message,s.mainImagePath=e.data.photo_path,s.file={}):(a.$emit("UNLOAD"),s.disabled=!1,s.errorMsg=e.data.message,s.file={})})},this.createPhoto=function(e){s.disabled=!1,s.errorMsg=!1,e?void 0===s.uploadData.title||null===s.uploadData.title||""===s.uploadData.title?s.errorMsg="작품의 제목을 입력해주세요.":void 0===s.uploadData.detail||null===s.uploadData.detail||""===s.uploadData.detail?s.errorMsg="작품의 설명을 입력해주세요.":void 0===s.mainImagePath||null===s.mainImagePath||""===s.mainImagePath?s.errorMsg="작품 이미지를 선택해주세요.":"0"===s.data.selectedOption.id?s.errorMsg="작품의 종류를 선택해주세요.":(s.uploadData=e,s.uploadData.user_id=a.main.user.user_id,s.uploadData.photo_type=s.data.selectedOption.id,s.uploadData.photo_path=s.mainImagePath,r.createAristPhoto(s.uploadData).then(function(e){e.data.success?(s.successMsg=e.data.message,s.disabled=!0,t(function(){o.reload()},2e3)):(s.errorMsg=e.data.message,s.successMsg=!1,s.disabled=!1)})):(s.errorMsg="빈칸을 모두 입력해주세요.",s.successMsg=!1)}}]).controller("artistProfileCtrl",["$timeout","Artist","$state","$scope",function(e,t,a,r){var o=this;o.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"붓 글씨"},{id:"2",name:"펜 글씨"},{id:"3",name:"미분류"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.updateAristProfile=function(s){o.errorMsg=!1,s?void 0===o.artistData.short_info||null===o.artistData.short_info||""===o.artistData.short_info?o.errorMsg="한 줄 소개를 입력해주세요.":void 0===o.artistData.detail_info||null===o.artistData.detail_info||""===o.artistData.detail_info?o.errorMsg="상세 소개를 입력해주세요.":(o.artistData=s,o.artistData.user_id=r.main.user.user_id,o.artistData.user_type=o.data.selectedOption.id,t.updateAristProfile(o.artistData).then(function(t){t.data.success?(o.errorMsg=!1,o.successMsg=t.data.message,o.disabled=!0,e(function(){a.reload()},2e3)):o.errorMsg="올바르지 않은 값이 입력되었습니다."})):o.errorMsg="필수기재사항을 입력해주세요."},this.readAristProfile=function(){var e=r.main.user.user_id;t.readArtistProfile(e).then(function(e){e.data.success?o.artistData=e.data.result:o.errorMsg=e.data.message})}}]).controller("artistPhotoCtrl",["$timeout","Artist","$state","$scope",function(e,t,a,r){var o=this,s=r.main.user.user_id;t.readArtistProfile(s).then(function(e){e.data.success?o.artistData=e.data.result:o.errorMsg=e.data.message}),t.readAristPhoto(s).then(function(e){e.data.success?o.artistPhotos=e.data.result:o.errorMsg=e.data.message})}]),angular.module("boardControllers",["boardServices"]).controller("boardTapCtrl",["Board","$scope",function(e,t){e.readBoardTap().then(function(e){t.headers=e.data})}]).controller("boardsCtrl",["$stateParams","Board",function(e,t){var a=this,r=e.code;a.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},t.readBoards(r).then(function(e){a.boardDatas=e.data.result})}]).controller("boardCtrl",["$stateParams","Board",function(e,t){var a=this,r=e.board_id;t.readBoard(r).then(function(e){e.data.success&&(a.boardDatas=e.data.result)})}]),angular.module("gallertControllers",["galleryServices"]).controller("galleryTapCtrl",["$scope","Gallery",function(e,t){t.readGalleryTap().then(function(t){t.data.success?e.headers=t.data.result:app.errorMsg=t.data.message})}]).controller("galleryPhotosCtrl",["Gallery","$stateParams",function(e,t){var a=this,r=t.code;a.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},e.readPhotos(r).then(function(e){e.data.success?a.photoData=e.data.result:a.errorMsg=e.data.message})}]).controller("galleryPhotoCtrl",["$scope","$stateParams","Gallery",function(e,t,a){var r=this,o=t.photo_id,s=t.photo_type;e.main.user.user_id;a.readPhotoData(o).then(function(e){e.data.success?r.photoData=e.data.result:r.errorMsg=e.data.message}),a.readPhotos(s).then(function(e){e.data.success?r.photosData=e.data.result:r.errorMsg=e.data.message})}]),angular.module("app").controller("HomeCtrl",["$http","$scope",function(e,t){t.getContent=function(){e.get("/api/home").then(function(e){t.photos=e.data})}}]),angular.module("app").controller("BoardMenuController",["$scope","$http","$stateParams",function(e,t,a){e.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},t.get("/api/boardMenu").then(function(t){e.headers=t.data}),e.getHeaderContent=function(){var r=a.code;t.get("/api/boardMenu/"+r).then(function(t){e.boardes=t.data})}}]),angular.module("app").controller("displayMenuController",["$scope","$http","$stateParams",function(e,t,a){e.data={availableOptions:[{sort:"-created",name:"최신순"}],selectedOption:{sort:"-created",name:"최신순"}},t.get("/api/displayMenu").then(function(t){e.headers=t.data}),e.getHeaderContent=function(){var r=a.code;t.get("/api/displayMenu/"+r).then(function(t){e.displays=t.data})}}]),angular.module("app").controller("MainMenuController",["$http","$scope",function(e,t){e.get("/api/header").then(function(e){t.headers=e.data})}]),angular.module("mainControllers",["authServices","userServices"]).controller("mainCtrl",["Auth","$timeout","$location","$state","$rootScope","$scope","$window","$interval","User","AuthToken",function(e,t,a,r,o,s,n,i,l,c){var d=this;d.loadme=!1,s.$on("LOAD",function(){s.loading=!0}),s.$on("UNLOAD",function(){s.loading=!1}),o.$on("$stateChangeStart",function(){u||u(),e.isLoggedIn()?(d.isLoggedIn=!0,e.getUser().then(function(e){"admin"===e.data.permission?(d.permission=!0,d.user=e.data,d.loadme=!0):"artist"===e.data.permission?(d.permission=!0,d.user=e.data,d.loadme=!0):(d.user=e.data,d.loadme=!0)})):(d.user=!1,d.isLoggedIn=!1,d.loadme=!0)});var u=function(){if(e.isLoggedIn()){d.checkSession=!0;var t=i(function(){var e=n.localStorage.getItem("token");if(null===e)i.cancel(t);else{self.parseJwt=function(e){var t=e.split(".")[1],a=t.replace("-","+").replace("_","/");return JSON.parse(n.atob(a))};var a=self.parseJwt(e),r=Math.floor(Date.now()/1e3);a.exp-r<=5&&(p("expired"),i.cancel(t))}},2e3)}};u(),d.renewSession=function(){d.choiceMade=!0,l.renewSession(d.user.username).then(function(e){e.data.success?(c.setToken(e.data.token),u(),m("expired")):(d.ModalBody=e.data.message,m("expired"))})},d.endSession=function(){d.choiceMade=!0,m("expired"),t(function(){p("logout")},500)};var p=function(a){d.choiceMade=!1,d.modalHeader=void 0,d.modalBody=void 0,d.hideButton=!1,"expired"===a?(d.modalHeader="Timeout Warning",d.modalBody="Your session will expired in 5 minutes. Would you like to renew your session?",$("#myModal").modal({backdrop:"static"})):"logout"===a?(d.hideButton=!0,d.modalHeader="로그아웃",$("#myModal").modal({backdrop:"static"}),t(function(){e.logout(),d.isLoggedIn=!1,m("logout"),r.reload()},2e3)):"login"===a?$("#login").modal({backdrop:"static"}):"upload"===a&&$("#upload").modal({backdrop:"static"}),t(function(){d.choiceMade||m("logout")},4e3)},m=function(e){"expired"===e?$("#myModal").modal("hide"):"logout"===e?$("#myModal").modal("hide"):"login"===e?$("#login").modal("hide"):"upload"===e&&$("#upload").modal("hide")};this.doLogin=function(a,o){d.errorMsg=!1,d.expired=!1,d.disabled=!0,o?e.login(d.loginData).then(function(e){e.data.success?(d.disabled=!0,d.successMsg=e.data.message,t(function(){m("login"),d.loginData=null,d.isLoggedIn=!0,u(),r.reload()},2e3)):e.data.expired?(d.expired=!0,d.disabled=!0,d.errorMsg=e.data.message):(d.disabled=!1,d.errorMsg=e.data.message)}):(d.disabled=!1,d.loading=!1,d.errorMsg="올바른 정보를 입력해주세요.")},this.upload=function(){d.choiceMade=!0,"artist"===d.user.permission?r.go("app.artistProfiles"):l.checkPermission(d.user.username).then(function(e){e.data.success?(r.go("app.artistProfiles"),d.permission=!0):p("upload")})},this.doPermission=function(){d.choiceMade=!0,d.uploadDisabled=!0,d.uploaderrorMsg=!1,l.resetPermission(d.user).then(function(e){e.data.success?(d.uploadDisabled=!0,d.uploadSuccessMsg=e.data.message,t(function(){m("upload"),r.go("app.artistProfiles")},2e3)):(d.uploadDisabled=!1,d.uploaderrorMsg="잘못된 정보가 입력되었습니다.")})},d.login=function(){d.successMsg=!1,d.errorMsg=!1,d.disabled=!1,p("login")},d.logout=function(){p("logout")},d.resend=function(){m("login"),t(function(){r.go("resend"),d.expired=!1},500)},d.resetusername=function(){m("login"),t(function(){r.go("resetusername")},500)},d.resetpassword=function(){m("login"),t(function(){r.go("resetpassword")},500)}}]),angular.module("emailControllers",["userServices"]).controller("emailCtrl",["$stateParams","User","$timeout","$state",function(e,t,a,r){var o=this;t.activeAccount(e.token).then(function(e){o.successMsg=!1,o.errorMsg=!1,e.data.success?(o.disabled=!0,o.successMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3)):(o.errorMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3))})}]).controller("resendCtrl",["User","$timeout","$state",function(e,t,a){app=this,this.checkCredentials=function(r){app.successMsg=!1,app.errorMsg=!1,app.disabled=!0,e.checkCredentials(this.loginData).then(function(r){r.data.success?e.resendLink(app.loginData).then(function(e){e.data.success&&(app.disabled=!0,app.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3))}):(app.disabled=!1,app.errorMsg=r.data.message)})}}]).controller("usernameCtrl",["User","$timeout","$state",function(e,t,a){var r=this;this.sendUsername=function(o,s){r.errorMsg=!1,r.disabled=!0,s?e.sendUsername(r.userData.email).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 이메일 주소가 아닙니다.")}}]).controller("passwordCtrl",["User","$timeout","$state",function(e,t,a){var r=this;r.sendPassword=function(o,s){r.errorMsg=!1,r.disabled=!0,s?e.sendPassword(r.resetData).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 아이디가 아닙니다.")}}]).controller("resetCtrl",["$stateParams","$scope","User","$timeout","$state",function(e,t,a,r,o){var s=this;s.hide=!0,a.resetPassword(e.token).then(function(e){e.data.success?(s.hide=!1,t.alert="alert alert-success",s.successMsg="새로운 비밀번호를 입력해주세요.",t.username=e.data.user[0].username):(t.alert="alert alert-danger",s.errorMsg=e.data.message)}),s.savePassword=function(e,n,i){s.errorMsg=!1,s.successMsg=!1,s.disabled=!0,s.loading=!0,n&&i?(s.regData.username=t.username,a.savePassword(s.regData).then(function(e){s.loading=!1,e.data.success?(t.alert="alert alert-success",s.successMsg=e.data.message+"...메인 화면으로 이동합니다.",r(function(){o.go("app")},2e3)):(t.alert="alert alert-danger",s.disabled=!1,s.errorMsg=e.data.message)})):(t.alert="alert alert-danger",s.loading=!1,s.disabled=!1,s.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("userControllers",["userServices"]).controller("regCtrl",["$http","$location","$timeout","User","Auth","$state",function(e,t,a,r,o,s){var n=this;this.regStep1=function(e){n.errorMsg=!1,e?e.terms&&e.privacy?(n.successMsg="약관에 성공적으로 동의하셨습니다.",n.disabled=!0,s.go("registerStep2")):(n.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다.",n.disabled=!1):n.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다."},this.regStep2=function(e,t,o){n.errorMsg=!1,n.disabled=!0,t&&o?r.create(n.regData).then(function(e){e.data.success?(n.disabled=!0,n.successMsg=e.data.message,a(function(){$("#register").modal("hide"),n.regData=null,n.isLoggedIn=!1,s.go("app")},3e3)):(n.disabled=!1,n.errorMsg=e.data.message)}):(n.disabled=!1,n.loading=!1,n.errorMsg="올바른 정보를 입력해주세요.")}}]).controller("profileCtrl",["$scope","User","$timeout","$state","$http",function(e,t,a,r,o){var s=this,n=e.main.user.username;t.readProfiles(n).then(function(e){e.data.success?s.readData=e.data.profiles:s.errorMsg=e.data.message}),this.file={},this.photoChanged=function(e){if(e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var t=e[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){a(function(){s.thumbnail={},s.thumbnail.dataUrl=e.target.result,s.uploading=!1,s.message=!1})}}else s.thumbnail={},s.message=!1},this.updateProfileImage=function(){s.errorMsg=!1,s.disabled=!0,e.$emit("LOAD");var t=new FormData,n=e.main.user.user_id;t.append("myfile",s.file.upload),o.put("/api/uploadTemp/"+n,t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(t){t.data.success?(e.$emit("UNLOAD"),s.successMsg=t.data.message,s.file={},a(function(){r.reload()},1e3)):(e.$emit("UNLOAD"),s.disabled=!1,s.errorMsg=t.data.message,s.file={})})},this.updateProfile=function(){s.errorMsg=!1,s.disabled=!0,s.readData.user_id=e.main.user.user_id,t.updateProfiles(s.readData).then(function(e){e.data.success?(s.successMsg=e.data.message,a(function(){r.reload()},2e3)):(s.errorMsg=e.data.message,s.disabled=!1)})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsInJvdXRlLmpzIiwiY29udG9yb2xsZXJzL2NvbW1lbnRDdHJsLmpzIiwiY29udG9yb2xsZXJzL2ltYWdlQ3JvcC5qcyIsImNvbnRvcm9sbGVycy9vcGluaW9uQ3RybC5qcyIsImRpcmVjdGl2ZXMvZmlsZU1vZGVsLmpzIiwiZGlyZWN0aXZlcy9tYXRjaFBhc3N3b3JkLmpzIiwic2VydmljZXMvYXJ0aXN0U2VydmljZXMuanMiLCJzZXJ2aWNlcy9hdXRoU2VydmljZXMuanMiLCJzZXJ2aWNlcy9ib2FyZFNlcnZpY2VzLmpzIiwic2VydmljZXMvY29tbWVudFNlcnZpY2VzLmpzIiwic2VydmljZXMvZ2FsbGVyeVNlcnZpY2VzLmpzIiwic2VydmljZXMvdXNlclNlcnZpY2VzLmpzIiwiY29udG9yb2xsZXJzL2NhdGVnb3JpZXMvYXJ0aXN0Q3RybC5qcyIsImNvbnRvcm9sbGVycy9jYXRlZ29yaWVzL2JvYXJkQ3RybC5qcyIsImNvbnRvcm9sbGVycy9jYXRlZ29yaWVzL2dhbGxlcnlDdHJsLmpzIiwiY29udG9yb2xsZXJzL2NhdGVnb3JpZXMvaG9tZUN0cmwuanMiLCJjb250b3JvbGxlcnMvbWVudS9ib2FyZE1lbnVDdHJsLmpzIiwiY29udG9yb2xsZXJzL21lbnUvZGlzcGxheU1lbnVDdHJsLmpzIiwiY29udG9yb2xsZXJzL21lbnUvbWFpbk1lbnVDdHJsLmpzIiwiY29udG9yb2xsZXJzL21haW4vbWFpbkN0cmwuanMiLCJjb250b3JvbGxlcnMvdXNlci9lbWFpbEN0cmwuanMiLCJjb250b3JvbGxlcnMvdXNlci91c2VyQ3RybC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJGh0dHBQcm92aWRlciIsImludGVyY2VwdG9ycyIsInB1c2giLCJhcHAiLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJ2aWV3cyIsImhlYWRlciIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsImNvbnRlbnQiLCJmb290ZXIiLCJjb250cm9sbGVyQXMiLCJhdXRoZW50aWNhdGVkIiwiY29udGVudEAiLCJhcnRpc3QtaGVhZGVyQGFwcC5hcnRpc3QiLCJkZXRhaWxAYXBwLmFydGlzdCIsImdhbGxlcnktaGVhZGVyQGFwcC5nYWxsZXJ5IiwiZGV0YWlsQGFwcC5nYWxsZXJ5IiwiZGlzcGxheS1oZWFkZXJAYXBwLmRpc3BsYXkiLCJkZXRhaWxAYXBwLmRpc3BsYXkiLCJib2FyZC1oZWFkZXJAYXBwLmJvYXJkIiwiY29udGVudEBhcHAuYm9hcmQiLCIkc2NvcGUiLCIkaHR0cCIsIiRzdGF0ZVBhcmFtcyIsIiRzdGF0ZSIsIiR3aW5kb3ciLCJDb21tZW50IiwidGhpcyIsInVzZXJDb21tZW50IiwiY3JlYXRlQ29tbWVudCIsInJlc3BvbnNlIiwicG9zdCIsInRoZW4iLCJkYXRhIiwiY29uc29sZSIsImxvZyIsImdldENvbW1lbnQiLCJwaG90b19pZCIsImJvYXJkX2lkIiwiaWQiLCJwYXJhbXMiLCJoZWFkZXJzIiwiQWNjZXB0IiwiZ2V0IiwiY29tbWVudHMiLCJhZGRDb21tZW50IiwidmFsaWQiLCJjb21tZW50IiwicmVsb2FkIiwiYWxlcnQiLCJkZWxldGVDb21tZW50IiwiY29tbWVudF9pZCIsImRlbGV0ZSIsIm15Q3JvcHBlZEltYWdlIiwibXlJbWFnZSIsInVuZGVmaW5lZCIsImNyb2JqZWN0IiwiaGFuZGxlRmlsZVNlbGVjdCIsImV2dCIsImZpbGUiLCJjdXJyZW50VGFyZ2V0IiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiJGFwcGx5IiwidGFyZ2V0IiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsImVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJvbiIsImltYWdlQ3JvcCIsImltZ0Jsb2IiLCJkb0xpa2VTdGF0dXMiLCJkb0xpa2UiLCJnZXRPcGluaW9uIiwib3BpbmlvbkluZm8iLCJkaXJlY3RpdmUiLCIkcGFyc2UiLCJyZXN0cmljdCIsImxpbmsiLCJzY29wZSIsImF0dHJzIiwicGFyc2VkRmlsZSIsImZpbGVNb2RlbCIsInBhcnNlZGZpbGVTZXR0ZXIiLCJhc3NpZ24iLCJiaW5kIiwiZG9Db25maXJtIiwidmFsdWVzIiwiY29uZmlybWVkIiwiZm9yRWFjaCIsImVsZSIsImNvbmZpcm0iLCIkb2JzZXJ2ZSIsIm1hdGNoZXMiLCJKU09OIiwicGFyc2UiLCJtYXRjaCIsIiR3YXRjaCIsImZhY3RvcnkiLCJhcnRpc3RGYWN0b3J5IiwicmVhZEFydGlzdFRhcCIsInJlYWRBcnRpc3RzIiwidXNlcl90eXBlIiwicmVhZEFydGlzdCIsImFydGlzdF9pZCIsImNyZWF0ZUFyaXN0UGhvdG8iLCJwaG90b0RhdGEiLCJ1cGRhdGVBcmlzdFByb2ZpbGUiLCJhcnRpc3REYXRhIiwicHV0IiwicmVhZEFydGlzdFByb2ZpbGUiLCJ1c2VyX2lkIiwicmVhZEFyaXN0UGhvdG8iLCJBdXRoVG9rZW4iLCJhdXRoRmFjdG9yeSIsImdldFVzZXIiLCJnZXRUb2tlbiIsIiRxIiwicmVqZWN0IiwibWVzc2FnZSIsImxvZ2luIiwibG9naW5EYXRhIiwic2V0VG9rZW4iLCJ0b2tlbiIsImlzTG9nZ2VkSW4iLCJsb2dvdXQiLCJhdXRoVG9rZW5GYWN0b3J5IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJnZXRJdGVtIiwiYXV0aEludGVyY2VwdG9yc0ZhY3RvcnkiLCJyZXF1ZXN0IiwiYm9hcmRGYWN0b3J5IiwicmVhZEJvYXJkVGFwIiwicmVhZEJvYXJkcyIsImJvYXJkX3R5cGUiLCJyZWFkQm9hcmQiLCJjb21tZW50RmFjdG9yeSIsImNvbW1lbnREYXRhIiwiZ2FsbGVyeUZhY3RvcnkiLCJyZWFkR2FsbGVyeVRhcCIsInJlYWRQaG90b3MiLCJwaG90b190eXBlIiwicmVhZFBob3RvRGF0YSIsInJlYWRNb3JlUGhvdG8iLCJ1c2VyRmFjdG9yeSIsImNyZWF0ZSIsInJlZ0RhdGEiLCJhY3RpdmVBY2NvdW50IiwiY2hlY2tDcmVkZW50aWFscyIsInJlc2VuZExpbmsiLCJ1c2VybmFtZSIsInNlbmRVc2VybmFtZSIsInVzZXJEYXRhIiwic2VuZFBhc3N3b3JkIiwicmVzZXREYXRhIiwicmVzZXRQYXNzd29yZCIsInNhdmVQYXNzd29yZCIsInJlbmV3U2Vzc2lvbiIsInJlc2V0UGVybWlzc2lvbiIsImNoZWNrUGVybWlzc2lvbiIsInJlYWRQcm9maWxlcyIsInVwZGF0ZVByb2ZpbGVzIiwidXBkYXRlRGF0YSIsIkFydGlzdCIsInN1Y2Nlc3MiLCJlcnJvck1zZyIsImNvZGUiLCJhdmFpbGFibGVPcHRpb25zIiwic29ydCIsIm5hbWUiLCJzZWxlY3RlZE9wdGlvbiIsImFydGlzdERhdGFzIiwiJHRpbWVvdXQiLCJtYWluUGhvdG9DaGFuZ2VkIiwibGVuZ3RoIiwiZmlsZVJlYWRlciIsImUiLCJtYWluVGh1bWJuYWlsIiwiZGF0YVVybCIsInJlYWRQaG90byIsImRpc2FibGVkIiwiJGVtaXQiLCJmZCIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidXBsb2FkIiwidHJhbnNmb3JtUmVxdWVzdCIsImlkZW50aXR5IiwiQ29udGVudC1UeXBlIiwic3VjY2Vzc01zZyIsIm1haW5JbWFnZVBhdGgiLCJwaG90b19wYXRoIiwiY3JlYXRlUGhvdG8iLCJ1cGxvYWREYXRhIiwidGl0bGUiLCJkZXRhaWwiLCJtYWluIiwidXNlciIsInNob3J0X2luZm8iLCJkZXRhaWxfaW5mbyIsInJlYWRBcmlzdFByb2ZpbGUiLCJhcnRpc3RQaG90b3MiLCJCb2FyZCIsImJvYXJkRGF0YXMiLCJHYWxsZXJ5IiwicGhvdG9zRGF0YSIsImdldENvbnRlbnQiLCJwaG90b3MiLCJnZXRIZWFkZXJDb250ZW50IiwiYm9hcmRlcyIsImRpc3BsYXlzIiwiQXV0aCIsIiRsb2NhdGlvbiIsIiRyb290U2NvcGUiLCIkaW50ZXJ2YWwiLCJVc2VyIiwibG9hZG1lIiwiJG9uIiwibG9hZGluZyIsImNoZWNrU2Vzc2lvbiIsInBlcm1pc3Npb24iLCJpbnRlcnZhbCIsImNhbmNlbCIsInNlbGYiLCJwYXJzZUp3dCIsImJhc2U2NFVybCIsInNwbGl0IiwiYmFzZTY0IiwicmVwbGFjZSIsImF0b2IiLCJleHBpcmVUaW1lIiwidGltZVN0YW1wIiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsIm5vdyIsImV4cCIsInNob3dNb2RhbCIsImNob2ljZU1hZGUiLCJoaWRlTW9kYWwiLCJNb2RhbEJvZHkiLCJlbmRTZXNzaW9uIiwib3B0aW9uIiwibW9kYWxIZWFkZXIiLCJtb2RhbEJvZHkiLCJoaWRlQnV0dG9uIiwiJCIsIm1vZGFsIiwiYmFja2Ryb3AiLCJkb0xvZ2luIiwiZXhwaXJlZCIsImdvIiwiZG9QZXJtaXNzaW9uIiwidXBsb2FkRGlzYWJsZWQiLCJ1cGxvYWRlcnJvck1zZyIsInVwbG9hZFN1Y2Nlc3NNc2ciLCJyZXNlbmQiLCJyZXNldHVzZXJuYW1lIiwicmVzZXRwYXNzd29yZCIsImVtYWlsIiwiaGlkZSIsInJlZ1N0ZXAxIiwicmVnU3RlcDIiLCJyZWFkRGF0YSIsInByb2ZpbGVzIiwicGhvdG9DaGFuZ2VkIiwidGh1bWJuYWlsIiwidXBsb2FkaW5nIiwidXBkYXRlUHJvZmlsZUltYWdlIiwidXBkYXRlUHJvZmlsZSJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQUFDLE9BQUEsT0FDQSxZQUNBLGVBQ0Esa0JBQ0Esa0JBQ0EsbUJBQ0Esb0JBQ0EscUJBQ0EscUJBQ0EsbUJBQ0EsY0FDQUMsUUFBQSxnQkFBQSxTQUFBQyxHQUNBQSxFQUFBQyxhQUFBQyxLQUFBLHNCQ1pBLElBQUFDLEtBQUFOLFFBQUFDLE9BQUEsTUFDQUssS0FBQUosUUFBQSxpQkFBQSxxQkFBQSxvQkFBQSxTQUFBSyxFQUFBQyxFQUFBQyxHQUNBRCxFQUFBRSxVQUFBLEtBSUFILEVBQ0FJLE1BQUEsT0FDQUMsSUFBQSxJQUNBQyxPQUNBQyxRQUNBQyxZQUFBLHdCQUNBQyxXQUFBLHNCQUVBQyxTQUNBRixZQUFBLDJCQUVBRyxRQUNBSCxZQUFBLDJCQUtBSixNQUFBLGlCQUVBQyxJ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QUFBLEVBQ0FwUixFQUFBOEgsU0FBQSxTQUlBOUgsR0FBQW1SLGFBQ0FuUixFQUFBOEgsU0FBQSxHQUtBaEcsS0FBQXVQLG1CQUFBLFdBQ0FyUixFQUFBOEssVUFBQSxFQUNBOUssRUFBQTZMLFVBQUEsRUFDQXJLLEVBQUFzSyxNQUFBLE9BQ0EsSUFBQUMsR0FBQSxHQUFBQyxVQUNBMUUsRUFBQTlGLEVBQUFxTCxLQUFBQyxLQUFBeEYsT0FDQXlFLEdBQUFFLE9BQUEsU0FBQWpNLEVBQUE4RCxLQUFBb0ksUUFDQXpLLEVBQUEyRixJQUFBLG1CQUFBRSxFQUFBeUUsR0FDQUksaUJBQUF6TSxRQUFBME0sU0FDQXhKLFNBQUF5SixtQkFBQTNJLE1BQ0F2QixLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUF5SSxTQUNBckosRUFBQXNLLE1BQUEsVUFDQTlMLEVBQUFzTSxXQUFBbEssRUFBQUEsS0FBQTBGLFFBQ0E5SCxFQUFBOEQsUUFDQXVILEVBQUEsV0FDQTFKLEVBQUF3QixVQUNBLE9BRUEzQixFQUFBc0ssTUFBQSxVQUNBOUwsRUFBQTZMLFVBQUEsRUFDQTdMLEVBQUE4SyxTQUFBMUksRUFBQUEsS0FBQTBGLFFBQ0E5SCxFQUFBOEQsWUFNQWhDLEtBQUF3UCxjQUFBLFdBQ0F0UixFQUFBOEssVUFBQSxFQUNBOUssRUFBQTZMLFVBQUEsRUFDQTdMLEVBQUFnUixTQUFBMUosUUFBQTlGLEVBQUFxTCxLQUFBQyxLQUFBeEYsUUFDQTBHLEVBQUF0RCxlQUFBMUssRUFBQWdSLFVBQUE3TyxLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUF5SSxTQUNBN0ssRUFBQXNNLFdBQUFsSyxFQUFBQSxLQUFBMEYsUUFDQXVELEVBQUEsV0FDQTFKLEVBQUF3QixVQUNBLE9BRUFuRCxFQUFBOEssU0FBQTFJLEVBQUFBLEtBQUEwRixRQUNBOUgsRUFBQTZMLFVBQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ2FwcCcsW1xyXG4gICAgJ3VpLnJvdXRlcicsXHJcbiAgICAndWkuYm9vdHN0cmFwJyxcclxuICAgICd1c2VyQ29udHJvbGxlcnMnLFxyXG4gICAgJ21haW5Db250cm9sbGVycycsXHJcbiAgICAnZW1haWxDb250cm9sbGVycycsXHJcbiAgICAnYXJ0aXN0Q29udHJvbGxlcnMnLFxyXG4gICAgJ2dhbGxlcnRDb250cm9sbGVycycsXHJcbiAgICAnY29tbWVudENvbnRyb2xsZXJzJyxcclxuICAgICdib2FyZENvbnRyb2xsZXJzJyxcclxuICAgICd1aUNyb3BwZXInXHJcbl0pLmNvbmZpZyhmdW5jdGlvbigkaHR0cFByb3ZpZGVyKXtcclxuICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdBdXRoSW50ZXJjZXB0b3JzJyk7XHJcbn0pO1xyXG4iLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5hcHAuY29uZmlnKGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xyXG4kdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKCcvJyk7XG4vLyAkbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUodHJ1ZSk7XHJcblxyXG5cclxuICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgICAgICAgLnN0YXRlKCdhcHAnLCB7XHJcbiAgICAgICAgICAgICB1cmw6ICcvJyxcclxuICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgJ2hlYWRlcic6IHtcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWVudWVzL21haW5NZW51Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyOiAnTWFpbk1lbnVDb250cm9sbGVyJ1xyXG4gICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAnY29udGVudCc6IHtcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcuLi9jYXRlZ29yaWVzL2hvbWUuaHRtbCdcclxuICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgJ2Zvb3Rlcic6IHtcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS9mb290ZXIuaHRtbCdcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZWdpc3RlclN0ZXAxJyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyL3N0ZXAxJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlZ0N0cmwnLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWdpc3RlcicsXHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2lzTG9nZ2VkT3V0L3JlZ2lzdGVyU3RlcDEuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3JlZ2lzdGVyU3RlcDInLFxyXG4gICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB1cmw6ICcvcmVnaXN0ZXIvc3RlcDInLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVnQ3RybCcsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlZ2lzdGVyJyxcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvaXNMb2dnZWRPdXQvcmVnaXN0ZXJTdGVwMi5odG1sJyxcclxuICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Jlc2V0dXNlcm5hbWUnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Jlc2V0dXNlcm5hbWUnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3Jlc2V0L3VzZXJuYW1lLmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICd1c2VybmFtZUN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3VzZXJuYW1lJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZXNldHBhc3N3b3JkJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJy9yZXNldHBhc3N3b3JkJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9yZXNldC9wYXNzd29yZC5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAncGFzc3dvcmRDdHJsJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdwYXNzd29yZCdcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncmVzZXQnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Jlc2V0Lzp0b2tlbicsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVzZXQvbmV3cGFzc3dvcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Jlc2V0Q3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVzZXQnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhY3RpdmF0ZScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvYWN0aXZhdGUvOnRva2VuJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9hY3RpdmF0aW9uL2FjdGl2YXRlLmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdlbWFpbEN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2VtYWlsJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZXNlbmQnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Jlc2VuZCcsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvYWN0aXZhdGlvbi9yZXNlbmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Jlc2VuZEN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Jlc2VuZCdcclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG5cclxuICAvLyDsnKDsoIAg7ZSE66Gc7ZWEIOuqqOyVhCDrhpPsnYAg6rOzICAvIOqzhOyglSDsoJXrs7RcclxuICAgICAgICAgICAuc3RhdGUoJ2FwcC5wcm9maWxlcycsIHtcclxuICAgICAgICAgICAgIHVybDogJ3Byb2ZpbGVzJyxcclxuICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdpc0xvZ2dlZEluL3VzZXJQcm9maWxlcy5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwcm9maWxlQ3RybCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdwcm9maWxlJyxcclxuICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcblxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4vLyDsnpHqsIAg7J6R7ZKIIOuqqOyVhCDrhpPsnYAg6rOzXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5waG90b3MnLCB7XHJcbiAgICAgICAgICAgIHVybDogJ3Bob3RvcycsXHJcbiAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2lzTG9nZ2VkSW4vYXJ0aXN0UGhvdG9zLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2FydGlzdFBob3RvQ3RybCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhcnRpc3RQaG90bycsXHJcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH0pXHJcblxyXG4vLyDrk7HroZ3rkJwg7J6R6rCA7J2YIOyeke2SiCDsl4XroZzrk5wgJiDsnpHqsIAg7ZSE66Gc7ZWEXHJcbiAgICAgICAgICAgLnN0YXRlKCdhcHAuYXJ0aXN0UHJvZmlsZXMnLCB7XHJcbiAgICAgICAgICAgICB1cmw6ICdhcnRpc3QnLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2lzTG9nZ2VkSW4vYXJ0aXN0UHJvZmlsZXMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYXJ0aXN0UHJvZmlsZUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYXJ0aXN0UHJvZmlsZScsXHJcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiB0cnVlXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuaW50cm8nLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnaW50cm8nLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS9pbnRyby5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC50ZXJtcycsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICd0ZXJtcycsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jb21wYW55L3Rlcm1zLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLnByaXZhY3knLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAncHJpdmFjeScsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jb21wYW55L3ByaXZhY3kuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PSAgYXJ0aXN0IC8gZ2FsbGVyeSAvIGV4aGliaXRpb24gLyBib2FyZCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXHJcbi8vID09PT09PT09PT09PT09PT09PSAgYXJ0aXN0IOy5tO2FjOqzoOumrCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5hcnRpc3QnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnYXJ0aXN0JyxcclxuICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY2F0ZWdvcmllcy9hcnRpc3QuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhcnRpc3RzQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2FydGlzdHMnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICdhcnRpc3QtaGVhZGVyQGFwcC5hcnRpc3QnOntcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWVudWVzL3N1Yk1lbnUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhcnRpc3RUYXBDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYXJ0aXN0VGFwJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmFydGlzdC5jYXRlZ29yaWVzJywge1xyXG4gICAgICAgICAgICAgIHVybDogJy9jYXRlZ29yeT06Y29kZScsXHJcbiAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICdkZXRhaWxAYXBwLmFydGlzdCc6e1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsQXJ0aXN0L2FydGlzdHMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhcnRpc3RzQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2FydGlzdHMnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAuc3RhdGUoJ2FwcC5hcnRpc3Quc2hvdycsIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnLzphcnRpc3RfaWQnLFxyXG4gICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzp7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsQXJ0aXN0L2FydGlzdC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhcnRpc3RQaG90b0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYXJ0aXN0UGhvdG8nLFxyXG4gICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KVxyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PSAgYXJ0aXN0IC8gZ2FsbGVyeSAvIGV4aGliaXRpb24gLyBib2FyZCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXHJcbi8vID09PT09PT09PT09PT09PT09PSAgZ2FsbGVyeSDsubTthYzqs6DrpqwgPT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG4gICAgICAgICAgLnN0YXRlKCdhcHAuZ2FsbGVyeScsIHtcclxuICAgICAgICAgICAgdXJsOiAnZ2FsbGVyeScsXHJcbiAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAnZ2FsbGVyeS1oZWFkZXJAYXBwLmdhbGxlcnknOntcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21lbnVlcy9zdWJNZW51Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dhbGxlcnlUYXBDdHJsJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dhbGxlcnlUYXAnXHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NhdGVnb3JpZXMvZ2FsbGVyeS5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdnYWxsZXJ5UGhvdG9zQ3RybCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnYWxsZXJ5UGhvdG9zJyxcclxuICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAuc3RhdGUoJ2FwcC5nYWxsZXJ5LmNhdGVnb3JpZXMnLCB7XHJcbiAgICAgICAgICAgIHVybDogJy9jYXRlZ29yeT06Y29kZScsXHJcbiAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgJ2RldGFpbEBhcHAuZ2FsbGVyeSc6e1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEdhbGxlcnkvcGhvdG9zLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dhbGxlcnlQaG90b3NDdHJsJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dhbGxlcnlQaG90b3MnLFxyXG4gICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwLmdhbGxlcnkuc2hvdycsIHtcclxuICAgICAgICAgICAgIHVybDogJy9jYXRlZ29yeT06cGhvdG9fdHlwZS9waG90bzpwaG90b19pZCcsXHJcbiAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICdjb250ZW50QCc6e1xyXG4gICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxHYWxsZXJ5L3Bob3RvLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdnYWxsZXJ5UGhvdG9DdHJsJyxcclxuICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnYWxsZXJ5cGhvdG8nLFxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5nYWxsZXJ5LmVkaXQnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2VkaXQvOnBob3RvX2lkJyxcclxuICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOntcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEdhbGxlcnkvcGhvdG9FZGl0Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZ2FsbGVyeVBob3RvQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dhbGxlcnlwaG90bycsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfSlcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PSAgYXJ0aXN0IC8gZ2FsbGVyeSAvIGV4aGliaXRpb24gLyBib2FyZCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXHJcbi8vID09PT09PT09PT09PT09PT09PSAgZXhoaWJpdGlvbiDsubTthYzqs6DrpqwgPT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG5cclxuICAgICAgICAgICAgICAuc3RhdGUoJ2FwcC5kaXNwbGF5Jywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnZGlzcGxheScsXHJcbiAgICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NhdGVnb3JpZXMvZGlzcGxheS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAnZGlzcGxheS1oZWFkZXJAYXBwLmRpc3BsYXknOntcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tZW51ZXMvc3ViTWVudS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZGlzcGxheU1lbnVDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmRpc3BsYXkuY2F0ZWdvcmllcycsIHtcclxuICAgICAgICAgICAgICAgIHVybDogJy9jYXRlZ29yeT06Y29kZScsXHJcbiAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAnZGV0YWlsQGFwcC5kaXNwbGF5Jzp7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbERpc3BsYXkvY29udGVudC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZGlzcGxheU1lbnVDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG5cclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pXHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT0gIGFydGlzdCAvIGdhbGxlcnkgLyBleGhpYml0aW9uIC8gYm9hcmQgPT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG4vLyA9PT09PT09PT09PT09PT09PT0gIGJvYXJkIOy5tO2FjOqzoOumrCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5ib2FyZCcsIHtcclxuICAgICAgICAgICAgICB1cmw6ICdib2FyZCcsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NhdGVnb3JpZXMvYm9hcmQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdib2FyZHNDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYm9hcmRzJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnYm9hcmQtaGVhZGVyQGFwcC5ib2FyZCc6e1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tZW51ZXMvYm9hcmRNZW51Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYm9hcmRUYXBDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLmJvYXJkLmNhdGVnb3JpZXMnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL2NhdGVnb3J5PTpjb2RlJyxcclxuICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAYXBwLmJvYXJkJzp7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxCb2FyZC9ib2FyZHMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdib2FyZHNDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYm9hcmRzJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5ib2FyZC5jcmVhdGUnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOicvY3JlYXRlJyxcclxuICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudEBhcHAuYm9hcmQnOntcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6Jy9wYXJ0aWFsQm9hcmQvYm9hcmRDcmVhdGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdib2FyZEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdib2FyZCcsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwLmJvYXJkLnNob3cnLFxyXG4gICAgICAgICAgIHtcclxuICAgICAgICAgICAgIHVybDogJy86Ym9hcmRfaWQnLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnY29udGVudEBhcHAuYm9hcmQnOntcclxuICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3BhcnRpYWxCb2FyZC9ib2FyZC5odG1sJyxcclxuICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnYm9hcmRDdHJsJyxcclxuICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdib2FyZCcsXHJcbiAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAuc3RhdGUoJ2FwcC5ib2FyZC5lZGl0JyxcclxuICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICB1cmw6ICcvZWRpdC86Ym9hcmRfaWQnLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnY29udGVudEBhcHAuYm9hcmQnOntcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFsQm9hcmQvYm9hcmRVcGRhdGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdib2FyZEN0cmwnLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdib2FyZCcsXHJcbiAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWVcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pO1xuXHJcbn0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2NvbW1lbnRDb250cm9sbGVycycsWydjb21tZW50U2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ2NvbW1lbnRDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCAkd2luZG93LCBDb21tZW50KSB7XHJcbiAgLy8gaWTsl5Ag7ZW064u57ZWY64qUIOqwkuydhCDrs7Tsl6zso7zripQg7ZWo7IiYXHJcbiAgLy8g6rCS7J2EIOqwgOyguOyYpOuKlCDtlajsiJhcclxuICB2YXIgYXBwID0gdGhpcztcclxuICAkc2NvcGUudXNlckNvbW1lbnQgPSBmYWxzZTtcclxuXHJcbiAgLy8g7L2U66mY7Yq4IOyDneyEse2VmOq4sFxyXG4gICAgdGhpcy5jcmVhdGVDb21tZW50ID0gZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICRodHRwLnBvc3QoJy9hcGkvY29tbWVudCcsIGFwcC5yZXNwb25zZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAvLyBpZih2YWxpZCl7XHJcbiAgICAgIC8vICAgQ29tbWVudC5jcmVhdGVDb21tZW50KGFwcC5yZXNwb25zZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgLy9cclxuICAgICAgLy9cclxuICAgICAgLy8gICB9KTtcclxuICAgICAgLy8gfSBlbHNlIHtcclxuICAgICAgLy8gICBhcHAuZXJyb3JNc2cgPSAnJztcclxuICAgICAgLy8gfVxyXG4gICAgICAvLyBpZih2YWxpZCl7XHJcbiAgICAgIC8vICAgdmFyIGJvYXJkX2lkID0gcmVzcG9uc2UuYm9hcmRfaWQ7XHJcbiAgICAgIC8vICAgdmFyIHBob3RvX2lkID0gcmVzcG9uc2UucGhvdG9faWQ7XHJcbiAgICAgIC8vICAgdmFyIGNvbW1lbnQgID0gcmVzcG9uc2UuY29tbWVudDtcclxuICAgICAgLy8gICAgJGh0dHAucG9zdCgnL2FwaS9jb21tZW50Jywge1xyXG4gICAgICAvLyAgICAgIGJvYXJkX2lkOiBib2FyZF9pZCwgcGhvdG9faWQ6IHBob3RvX2lkLCBjb21tZW50OiBjb21tZW50XHJcbiAgICAgIC8vICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAvLyAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgLy8gICAgfSk7XHJcbiAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgIC8vICAgJHdpbmRvdy5hbGVydChcIuuMk+q4gOydhCDsnoXroKXtlbTso7zshLjsmpQuXCIpO1xyXG4gICAgICAvLyB9XHJcblxyXG4gICAgfTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgJHNjb3BlLmdldENvbW1lbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHBob3RvX2lkID0gJHN0YXRlUGFyYW1zLnBob3RvX2lkO1xyXG4gICAgdmFyIGJvYXJkX2lkID0gJHN0YXRlUGFyYW1zLmJvYXJkX2lkO1xyXG4gICAgdmFyIGlkID0gXCJcIjtcclxuXHJcbiAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgcGhvdG9faWQ6cGhvdG9faWQsXHJcbiAgICAgIGJvYXJkX2lkOmJvYXJkX2lkXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBjb25maWcgPSB7XHJcbiAgICAgIHBhcmFtczogZGF0YSxcclxuICAgICAgaGVhZGVycyA6IHsnQWNjZXB0JyA6ICdhcHBsaWNhdGlvbi9qc29uJ31cclxuICAgIH07XHJcblxyXG4gICAgaWYocGhvdG9faWQpe1xyXG4gICAgICBpZCA9IHBob3RvX2lkO1xyXG4gICAgICAkaHR0cC5nZXQoJy9hcGkvY29tbWVudC8nK2lkLCBjb25maWcpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICRzY29wZS5jb21tZW50cyA9IHJlc3BvbnNlLmRhdGFbMF07XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZihib2FyZF9pZCl7XHJcbiAgICAgIGlkID0gYm9hcmRfaWQ7XHJcbiAgICAgICRodHRwLmdldCgnL2FwaS9jb21tZW50LycraWQsIGNvbmZpZykudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgJHNjb3BlLmNvbW1lbnRzID0gcmVzcG9uc2UuZGF0YVswXTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICRzY29wZS5jb21tZW50cyA9ICfsi5zsiqTthZzsnbQg67aI7JWI7KCV7ZWp64uI64ukLic7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8g7L2U66mY7Yq4IOyDneyEse2VmOq4sFxyXG4gICAgJHNjb3BlLmFkZENvbW1lbnQgPSBmdW5jdGlvbihyZXNwb25zZSwgdmFsaWQpe1xyXG4gICAgICBpZih2YWxpZCl7XHJcbiAgICAgICAgdmFyIGJvYXJkX2lkID0gcmVzcG9uc2UuYm9hcmRfaWQ7XHJcbiAgICAgICAgdmFyIHBob3RvX2lkID0gcmVzcG9uc2UucGhvdG9faWQ7XHJcbiAgICAgICAgdmFyIGNvbW1lbnQgID0gcmVzcG9uc2UuY29tbWVudDtcclxuICAgICAgICAgJGh0dHAucG9zdCgnL2FwaS9jb21tZW50Jywge1xyXG4gICAgICAgICAgIGJvYXJkX2lkOiBib2FyZF9pZCwgcGhvdG9faWQ6IHBob3RvX2lkLCBjb21tZW50OiBjb21tZW50XHJcbiAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHdpbmRvdy5hbGVydChcIuuMk+q4gOydhCDsnoXroKXtlbTso7zshLjsmpQuXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgfTtcclxuXHJcblxyXG4gIC8vIOqwkuydhCDsgq3soJztlZjripQg7ZWo7IiYXHJcbiAgJHNjb3BlLmRlbGV0ZUNvbW1lbnQgPSBmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICB2YXIgaWQgPSByZXNwb25zZS5jb21tZW50X2lkO1xyXG4gIFx0JGh0dHAuZGVsZXRlKCcvYXBpL2NvbW1lbnQvJytpZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICBcdH0pO1xyXG4gIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuICAuY29udHJvbGxlcignSW1hZ2VDcm9wQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gICAgICAkc2NvcGUubXlDcm9wcGVkSW1hZ2UgPSAnJztcclxuICAgICAgJHNjb3BlLm15SW1hZ2UgPSB1bmRlZmluZWQ7XHJcbiAgICAgICRzY29wZS5jcm9iamVjdCA9IHt9O1xyXG5cclxuICAgICAgdmFyIGhhbmRsZUZpbGVTZWxlY3QgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICB2YXIgZmlsZSA9IGV2dC5jdXJyZW50VGFyZ2V0LmZpbGVzWzBdO1xyXG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5teUltYWdlID0gZXZ0LnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICB9O1xyXG4gICAgICBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZpbGVJbnB1dCcpKS5vbignY2hhbmdlJywgaGFuZGxlRmlsZVNlbGVjdCk7XHJcblxuXG4gICAgICB0aGlzLmltYWdlQ3JvcCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBpbWdCbG9iID0gJHNjb3BlLm15SW1hZ2U7XHJcbiAgICAgICAgY29uc29sZS5sb2coaW1nQmxvYik7XG4gICAgICB9O1xyXG4gICAgfSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ09waW5pb25Db250cm9sbGVyJywgZnVuY3Rpb24gKCAkc2NvcGUsICRodHRwLCAkc3RhdGVQYXJhbXMpIHtcclxuXHJcbi8vIOyii+yVhOyalCDqsIDsoLjsmKTquLBcclxuLy8g64yT6riAIOqwnOyImCDqsIDsoLjsmKTquLBcclxuJHNjb3BlLmRvTGlrZVN0YXR1cyA9IHRydWU7XHJcbiAgICRzY29wZS5kb0xpa2UgPSBmdW5jdGlvbigpe1xyXG4gICAgICRzY29wZS5kb0xpa2VTdGF0dXMgPSAhJHNjb3BlLmRvTGlrZVN0YXR1cztcclxuICAgfTtcclxuXHJcblxyXG4vLyDqsozsi5ztjJDsl5Ag7ZW064u57ZWY64qUIOuMk+q4gCDrsI8g7KKL7JWE7JqUIOqwgOyguOyYpOq4sFxyXG4gICRzY29wZS5nZXRPcGluaW9uID0gZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgXHRcdHZhciBpZCA9ICRzdGF0ZVBhcmFtcy5pZDtcclxuICAgICRodHRwLmdldCgnL2FwaS9vcGluaW9uLycraWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAkc2NvcGUub3BpbmlvbkluZm8gPSByZXNwb25zZS5kYXRhWzBdWzBdO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLy8gJHNjb3BlLmFkZExpa2UgPSBmdW5jdGlvbigpe1xyXG4gIC8vICAgJHNjb3BlLmxpa2VTdGF0dXMgPSAhJHNjb3BlLmxpa2VTdGF0dXM7XHJcbiAgLy8gICBpZigkc2NvcGUubGlrZVN0YXR1cyl7XHJcbiAgLy8gICAgIGNvbnNvbGUubG9nKCfsgqzsmqnsnpDqsIAg7KKL7JWE7JqU66W8IOy3qOyGjO2VqeuLiOuLpC4nKTtcclxuICAvLyAgICAgdmFyIGlkID0gJHN0YXRlUGFyYW1zLmlkO1xyXG4gIC8vICAgICAkaHR0cC5kZWxldGUoJy9hcGkvb3Bpbmlvbi8nK2lkLHtcclxuICAvLyAgICAgICAgIGJvYXJkX2lkOmlkXHJcbiAgLy8gICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gIC8vICAgICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gIC8vICAgICB9KTtcclxuICAvLyAgIH1lbHNlIHtcclxuICAvLyAgICAgY29uc29sZS5sb2coJ+yCrOyaqeyekOqwgCDsoovslYTsmpTrpbwg64iM66CA7Iq164uI64ukLicpO1xyXG4gIC8vICAgICB2YXIgYm9hcmRfaWQgPSAkc3RhdGVQYXJhbXMuaWQ7XHJcbiAgLy8gICAgICRodHRwLnBvc3QoJy9hcGkvb3Bpbmlvbi8nLHtcclxuICAvLyAgICAgICAgIGJvYXJkX2lkOmJvYXJkX2lkXHJcbiAgLy8gICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gIC8vICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gIC8vICAgICB9KTtcclxuICAvLyAgIH1cclxuICAvLyB9O1xyXG5cclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uZGlyZWN0aXZlKCdmaWxlTW9kZWwnLGZ1bmN0aW9uKCRwYXJzZSl7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpe1xyXG4gICAgICB2YXIgcGFyc2VkRmlsZSA9ICRwYXJzZShhdHRycy5maWxlTW9kZWwpO1xyXG4gICAgICB2YXIgcGFyc2VkZmlsZVNldHRlciA9IHBhcnNlZEZpbGUuYXNzaWduO1xyXG5cclxuICAgICAgZWxlbWVudC5iaW5kKCdjaGFuZ2UnLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICBwYXJzZWRmaWxlU2V0dGVyKHNjb3BlLCBlbGVtZW50WzBdLmZpbGVzWzBdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uZGlyZWN0aXZlKCdtYXRjaCcsZnVuY3Rpb24oKXtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIGNvbnRyb2xsZXI6ZnVuY3Rpb24oJHNjb3BlKXtcclxuICAgICAgJHNjb3BlLmRvQ29uZmlybSA9IGZ1bmN0aW9uKHZhbHVlcyl7XHJcblxyXG4gICAgICAgICRzY29wZS5jb25maXJtZWQgPSBmYWxzZTtcclxuICAgICAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihlbGUpe1xyXG4gICAgICAgICAgaWYoJHNjb3BlLmNvbmZpcm0gPT0gZWxlKXtcclxuICAgICAgICAgICAgJHNjb3BlLmNvbmZpcm1lZCA9IHRydWU7XHJcbiAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5jb25maXJtZWQgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgIH0sXHJcblxyXG4gICAgbGluazpmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpe1xyXG4gICAgICBhdHRycy4kb2JzZXJ2ZSgnbWF0Y2gnLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHNjb3BlLm1hdGNoZXMgPSBKU09OLnBhcnNlKGF0dHJzLm1hdGNoKTtcclxuICAgICAgICBzY29wZS5kb0NvbmZpcm0oc2NvcGUubWF0Y2hlcyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2NvcGUuJHdhdGNoKCdjb25maXJtJywgZnVuY3Rpb24oKXtcclxuICAgICAgICBzY29wZS5tYXRjaGVzID0gSlNPTi5wYXJzZShhdHRycy5tYXRjaCk7XHJcbiAgICAgICAgc2NvcGUuZG9Db25maXJtKHNjb3BlLm1hdGNoZXMpO1xyXG5cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcnRpc3RTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdBcnRpc3QnLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgYXJ0aXN0RmFjdG9yeSA9IHt9O1xyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PSBBcnRpc3QgQ2F0ZWdvcnkgPT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXHJcbiAgYXJ0aXN0RmFjdG9yeS5yZWFkQXJ0aXN0VGFwID0gZnVuY3Rpb24oKXtcclxuICAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2FydGlzdE1lbnUnKTtcclxuICB9O1xyXG5cclxuICBhcnRpc3RGYWN0b3J5LnJlYWRBcnRpc3RzID0gZnVuY3Rpb24odXNlcl90eXBlKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYXJ0aXN0TWVudS8nK3VzZXJfdHlwZSk7XHJcbiAgfTtcclxuXHJcbiAgYXJ0aXN0RmFjdG9yeS5yZWFkQXJ0aXN0ID0gZnVuY3Rpb24oYXJ0aXN0X2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYXJ0aXN0LycrYXJ0aXN0X2lkKTtcclxuICB9O1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy9cclxuXHJcbi8vIEFydGlzdC5jcmVhdGVQaG90byhwaG90b0RhdGEpXHJcbiAgYXJ0aXN0RmFjdG9yeS5jcmVhdGVBcmlzdFBob3RvID0gZnVuY3Rpb24ocGhvdG9EYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL2FydGlzdFByb2ZpbGVzJywgcGhvdG9EYXRhKTtcclxuICB9O1xyXG5cclxuLy8gQXJ0aXN0LnVwZGF0ZUFyaXN0SW5mbyhhcnRpc3REYXRhKVxyXG4gIGFydGlzdEZhY3RvcnkudXBkYXRlQXJpc3RQcm9maWxlID0gZnVuY3Rpb24oYXJ0aXN0RGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL2FydGlzdFByb2ZpbGVzJywgYXJ0aXN0RGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIEFydGlzdC5yZWFkQXJ0aXN0UHJvZmlsZSh1c2VyX2lkKVxyXG4gIGFydGlzdEZhY3RvcnkucmVhZEFydGlzdFByb2ZpbGUgPSBmdW5jdGlvbih1c2VyX2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYXJ0aXN0UHJvZmlsZXMvJyt1c2VyX2lkKTtcclxuICB9O1xyXG5cclxuLy9cclxuICBhcnRpc3RGYWN0b3J5LnJlYWRBcmlzdFBob3RvID0gZnVuY3Rpb24odXNlcl9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2FydGlzdFBob3Rvcy8nK3VzZXJfaWQpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBhcnRpc3RGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2F1dGhTZXJ2aWNlcycsW10pXHJcblxyXG4uZmFjdG9yeSgnQXV0aCcsIGZ1bmN0aW9uKCRodHRwLCBBdXRoVG9rZW4pe1xyXG4gICAgdmFyIGF1dGhGYWN0b3J5ID0ge307XHJcblxyXG5cclxuLy8gQXV0aC5nZXRVc2VyKCk7XHJcbiAgICBhdXRoRmFjdG9yeS5nZXRVc2VyID0gZnVuY3Rpb24oKXtcclxuICAgICAgaWYoQXV0aFRva2VuLmdldFRva2VuKCkpe1xyXG4gICAgICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL21lJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHEucmVqZWN0KHttZXNzYWdlOidVc2VyIGhhcyBubyB0b2tlbid9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbi8vIEF1dGgubG9naW4obG9naW5EYXRhKTtcclxuICAgIGF1dGhGYWN0b3J5LmxvZ2luID0gZnVuY3Rpb24obG9naW5EYXRhKXtcclxuICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvYXV0aGVudGljYXRlJywgbG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIEF1dGhUb2tlbi5zZXRUb2tlbihkYXRhLmRhdGEudG9rZW4pO1xyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4vLyBBdXRoLmlzTG9nZ2VkSW4oKTtcclxuICAgIGF1dGhGYWN0b3J5LmlzTG9nZ2VkSW4gPSBmdW5jdGlvbigpe1xyXG4gICAgICBpZihBdXRoVG9rZW4uZ2V0VG9rZW4oKSl7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuLy8gQXV0aC5sb2dvdXQoKTtcclxuICAgIGF1dGhGYWN0b3J5LmxvZ291dCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIEF1dGhUb2tlbi5zZXRUb2tlbigpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBhdXRoRmFjdG9yeTtcclxufSlcclxuXHJcbi5mYWN0b3J5KCdBdXRoVG9rZW4nLCBmdW5jdGlvbigkd2luZG93KXtcclxuICB2YXIgYXV0aFRva2VuRmFjdG9yeSA9IHt9O1xyXG5cclxuICAvLyBBdXRoVG9rZW4uc2V0VG9rZW4odG9rZW4pO1xyXG4gIGF1dGhUb2tlbkZhY3Rvcnkuc2V0VG9rZW4gPSBmdW5jdGlvbih0b2tlbil7XHJcbiAgICBpZih0b2tlbil7XHJcbiAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pO1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICAkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicsIHRva2VuKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuLy8gQXV0aFRva2VuLmdldFRva2VuKCk7XHJcbiAgYXV0aFRva2VuRmFjdG9yeS5nZXRUb2tlbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcclxuICB9O1xyXG4gIHJldHVybiBhdXRoVG9rZW5GYWN0b3J5O1xyXG59KVxyXG5cclxuLmZhY3RvcnkoJ0F1dGhJbnRlcmNlcHRvcnMnLCBmdW5jdGlvbihBdXRoVG9rZW4pe1xyXG4gIHZhciBhdXRoSW50ZXJjZXB0b3JzRmFjdG9yeSA9IHt9O1xyXG5cclxuICBhdXRoSW50ZXJjZXB0b3JzRmFjdG9yeS5yZXF1ZXN0ID0gZnVuY3Rpb24oY29uZmlnKXtcclxuICAgIHZhciB0b2tlbiA9IEF1dGhUb2tlbi5nZXRUb2tlbigpO1xyXG5cclxuICAgIGlmKHRva2VuKSBjb25maWcuaGVhZGVyc1sneC1hY2Nlc3MtdG9rZW4nXSA9IHRva2VuO1xyXG5cclxuICAgIHJldHVybiBjb25maWc7XHJcbiAgfTtcclxuICByZXR1cm4gYXV0aEludGVyY2VwdG9yc0ZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYm9hcmRTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdCb2FyZCcsIGZ1bmN0aW9uKCRodHRwKXtcclxuICBib2FyZEZhY3RvcnkgPSB7fTtcclxuXHJcbiAgYm9hcmRGYWN0b3J5LnJlYWRCb2FyZFRhcCA9IGZ1bmN0aW9uKCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2JvYXJkTWVudScpO1xyXG4gIH07XHJcblxyXG4gIGJvYXJkRmFjdG9yeS5yZWFkQm9hcmRzID0gZnVuY3Rpb24oYm9hcmRfdHlwZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2JvYXJkTWVudS8nK2JvYXJkX3R5cGUpO1xyXG4gIH07XHJcblxyXG4gIGJvYXJkRmFjdG9yeS5yZWFkQm9hcmQgPSBmdW5jdGlvbihib2FyZF9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCdhcGkvYm9hcmQvJytib2FyZF9pZCk7XHJcbiAgfTtcclxuXHJcblxyXG4gIHJldHVybiBib2FyZEZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnY29tbWVudFNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ0NvbW1lbnQnLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgY29tbWVudEZhY3RvcnkgPSB7fTtcclxuXHJcbi8vIEdhbGxlcnkucmVhZFBob3RvRGF0YSh1c2VyX2lkKVxyXG4gIGNvbW1lbnRGYWN0b3J5LmNyZWF0ZUNvbW1lbnQgPSBmdW5jdGlvbihjb21tZW50RGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jb21tZW50Jyxjb21tZW50RGF0YSk7XHJcbiAgfTtcclxuXHJcblxyXG4gIHJldHVybiBjb21tZW50RmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdnYWxsZXJ5U2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnR2FsbGVyeScsIGZ1bmN0aW9uKCRodHRwKXtcclxuICBnYWxsZXJ5RmFjdG9yeSA9IHt9O1xyXG5cclxuLy8gR2FsbGVyeS5yZWFkR2FsbGVyeVRhcCgpXHJcbiAgZ2FsbGVyeUZhY3RvcnkucmVhZEdhbGxlcnlUYXAgPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICAkaHR0cC5nZXQoJy9hcGkvZ2FsbGVyeU1lbnUnKTtcclxuICB9O1xyXG5cclxuLy8gR2FsbGVyeS5yZWFkUGhvdG9zKHBob3RvX3R5cGUpO1xyXG4gIGdhbGxlcnlGYWN0b3J5LnJlYWRQaG90b3MgPSBmdW5jdGlvbihwaG90b190eXBlKXtcclxuICAgIHJldHVybiAgJGh0dHAuZ2V0KCcvYXBpL2dhbGxlcnlNZW51LycrcGhvdG9fdHlwZSk7XHJcblxyXG4gIH07XHJcbi8vIEdhbGxlcnkucmVhZFBob3RvRGF0YSh1c2VyX2lkKVxyXG4gIGdhbGxlcnlGYWN0b3J5LnJlYWRQaG90b0RhdGEgPSBmdW5jdGlvbihwaG90b19pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2dhbGxlcnkvJytwaG90b19pZCk7XHJcbiAgfTtcclxuXHJcbiAgZ2FsbGVyeUZhY3RvcnkucmVhZE1vcmVQaG90byA9IGZ1bmN0aW9uKHBob3RvX3R5cGUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9nYWxsZXJ5TWVudS8nKyBwaG90b190eXBlKTtcclxuICB9O1xyXG5cclxuXHJcbiAgcmV0dXJuIGdhbGxlcnlGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3VzZXJTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdVc2VyJywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIHVzZXJGYWN0b3J5ID0ge307XHJcblxyXG4vLyBVc2VyLmNyZWF0ZShyZWdEYXRhKVxyXG4gIHVzZXJGYWN0b3J5LmNyZWF0ZSA9IGZ1bmN0aW9uKHJlZ0RhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvdXNlcnMnLCByZWdEYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5hY3RpdmVBY2NvdW50KHRva2VuKTtcclxuICB1c2VyRmFjdG9yeS5hY3RpdmVBY2NvdW50ID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9hY3RpdmF0ZS8nK3Rva2VuKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5jaGVja0NyZWRlbnRpYWxzKGxvZ2luRGF0YSk7XHJcbiAgdXNlckZhY3RvcnkuY2hlY2tDcmVkZW50aWFscyA9IGZ1bmN0aW9uKGxvZ2luRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9yZXNlbmQnLCBsb2dpbkRhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLnJlc2VuZExpbmsodXNlcm5hbWUpXHJcbiAgdXNlckZhY3RvcnkucmVzZW5kTGluayA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvcmVzZW5kJywgdXNlcm5hbWUpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLnNlbmRVc2VybmFtZSh1c2VyRGF0YSk7XHJcbiAgdXNlckZhY3Rvcnkuc2VuZFVzZXJuYW1lID0gZnVuY3Rpb24odXNlckRhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9yZXNldHVzZXJuYW1lLycrdXNlckRhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLnNlbmRQYXNzd29yZChyZXNldERhdGEpO1xyXG4gIHVzZXJGYWN0b3J5LnNlbmRQYXNzd29yZCA9IGZ1bmN0aW9uKHJlc2V0RGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3Jlc2V0cGFzc3dvcmQnLCByZXNldERhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLnJlc2V0UGFzc3dvcmQodG9rZW4pO1xyXG4gIHVzZXJGYWN0b3J5LnJlc2V0UGFzc3dvcmQgPSBmdW5jdGlvbih0b2tlbil7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Jlc2V0cGFzc3dvcmQvJyt0b2tlbik7XHJcbiAgfTtcclxuXHJcblxyXG4vLyBVc2VyLnNhdmVQYXNzd29yZChyZWdEYXRhKVxyXG4gIHVzZXJGYWN0b3J5LnNhdmVQYXNzd29yZCA9IGZ1bmN0aW9uKHJlZ0RhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9zYXZlcGFzc3dvcmQnLCByZWdEYXRhKTtcclxuICB9O1xyXG5cclxuLy8gIFVzZXIucmVuZXdTZXNzaW9uKHVzZXJuYW1lKVxyXG4gIHVzZXJGYWN0b3J5LnJlbmV3U2Vzc2lvbiA9IGZ1bmN0aW9uKHVzZXJuYW1lKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcmVuZXdUb2tlbi8nKyB1c2VybmFtZSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIucmVzZXRQZXJtaXNzaW9uKHVzZXJEYXRhKVxyXG4gIHVzZXJGYWN0b3J5LnJlc2V0UGVybWlzc2lvbiA9IGZ1bmN0aW9uKHVzZXJEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvdXNlcnMvJywgdXNlckRhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLmNoZWNrUGVybWlzc2lvbih1c2VyRGF0YSlcclxuICB1c2VyRmFjdG9yeS5jaGVja1Blcm1pc3Npb24gPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzLycrdXNlcm5hbWUpO1xyXG4gIH07XHJcblxyXG5cclxuLy8gcmVzZXQgLyBjaGVjayAvIHJlbmV3IC8gc2F2ZSAvIHNlbmQgLy8gcmVzZW5kXHJcblxyXG4vLyBDcmVhdGUgLy8gcmVhZCAvLyB1cGRhdGUgLy8gZGVsZXRlIC8vXHJcblxyXG4vLyBVc2VyLnJlYWRQcm9maWxlcyh1c2VybmFtZSlcclxuICB1c2VyRmFjdG9yeS5yZWFkUHJvZmlsZXMgPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJQcm9maWxlcy8nK3VzZXJuYW1lKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci51cGRhdGVQcm9maWxlcyh1cGRhdGVEYXRhKVxyXG4gIHVzZXJGYWN0b3J5LnVwZGF0ZVByb2ZpbGVzID0gZnVuY3Rpb24odXBkYXRlRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3VzZXJQcm9maWxlcycsIHVwZGF0ZURhdGEpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB1c2VyRmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcnRpc3RDb250cm9sbGVycycsWyd1c2VyU2VydmljZXMnLCAnYXJ0aXN0U2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ2FydGlzdFRhcEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsIEFydGlzdCl7XHJcbiAgLy8g7KCE7LK0IOuplOuJtCDqsIDsoLjsmKTquLBcclxuICBBcnRpc3QucmVhZEFydGlzdFRhcCgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICRzY29wZS5oZWFkZXJzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ2FydGlzdHNDdHJsJywgZnVuY3Rpb24gKCRzdGF0ZVBhcmFtcywgQXJ0aXN0KSB7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuICAgIHZhciB1c2VyX3R5cGUgPSAkc3RhdGVQYXJhbXMuY29kZTtcclxuXHJcbiAgICBhcHAuZGF0YSA9IHtcclxuICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9XHJcbiAgICAgXSxcclxuICAgICBzZWxlY3RlZE9wdGlvbjogIHtzb3J0OiAnLWNyZWF0ZWQnLCBuYW1lOiAn7LWc7Iug7IicJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICB9O1xyXG5cclxuICAgICAgQXJ0aXN0LnJlYWRBcnRpc3RzKHVzZXJfdHlwZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuYXJ0aXN0RGF0YXMgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3VwbG9hZEN0cmwnLCBmdW5jdGlvbiAoJGh0dHAsICR0aW1lb3V0LCAkc2NvcGUsIEFydGlzdCwgJHN0YXRlKSB7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgICBhcHAuZGF0YSA9IHtcclxuICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICB7aWQ6ICcxJywgbmFtZTogJ+u2kyDquIDslKgnfSxcclxuICAgICAgIHtpZDogJzInLCBuYW1lOiAn7Y6cIOq4gOyUqCd9LFxyXG4gICAgICAge2lkOiAnMycsIG5hbWU6ICfrr7jrtoTrpZgnfVxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgIH07XHJcbiAgICAvLyDtjIzsnbzsnZgg6rK966Gc66eMIOyggOyepe2VmOq4sFxyXG4gICAgdGhpcy5maWxlID0ge307XHJcblxyXG4gICAgdGhpcy5tYWluUGhvdG9DaGFuZ2VkID0gZnVuY3Rpb24oZmlsZXMpIHtcclxuICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwICYmIGZpbGVzWzBdLm5hbWUubWF0Y2goL1xcLihwbmd8anBlZ3xqcGcpJC8pKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcclxuICAgICAgICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbC5kYXRhVXJsID0gZS50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhcHAubWFpblRodW1ibmFpbCA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgIHRoaXMucmVhZFBob3RvID0gZnVuY3Rpb24oKXtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICRzY29wZS4kZW1pdCgnTE9BRCcpO1xyXG4gICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgICAgICRodHRwLnBvc3QoJy9hcGkvdXBsb2FkVGVtcC8nLCBmZCx7XHJcbiAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZH1cclxuICAgICAgfSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAkc2NvcGUuJGVtaXQoJ1VOTE9BRCcpO1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgYXBwLm1haW5JbWFnZVBhdGggPSBkYXRhLmRhdGEucGhvdG9fcGF0aDtcclxuICAgICAgICAgIGFwcC5maWxlID0ge307XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcblxyXG4vLyDsnpHqsIAg7J6R7ZKIIOyXheuhnOuTnFxyXG4gICAgICB0aGlzLmNyZWF0ZVBob3RvID0gZnVuY3Rpb24odXBsb2FkRGF0YSl7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgaWYoIXVwbG9hZERhdGEpe1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+u5iOy5uOydhCDrqqjrkZAg7J6F66Cl7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZihhcHAudXBsb2FkRGF0YS50aXRsZSA9PT0gdW5kZWZpbmVkIHx8IGFwcC51cGxvYWREYXRhLnRpdGxlID09PSBudWxsIHx8IGFwcC51cGxvYWREYXRhLnRpdGxlID09PSAnJykge1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7J6R7ZKI7J2YIOygnOuqqeydhCDsnoXroKXtlbTso7zshLjsmpQuJztcclxuICAgICAgICAgIH0gZWxzZSBpZihhcHAudXBsb2FkRGF0YS5kZXRhaWwgPT09IHVuZGVmaW5lZCB8fCBhcHAudXBsb2FkRGF0YS5kZXRhaWwgPT09IG51bGwgfHwgYXBwLnVwbG9hZERhdGEuZGV0YWlsID09PSAnJykge1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7J6R7ZKI7J2YIOyEpOuqheydhCDsnoXroKXtlbTso7zshLjsmpQuJztcclxuICAgICAgICAgIH0gZWxzZSBpZihhcHAubWFpbkltYWdlUGF0aCA9PT0gdW5kZWZpbmVkIHx8IGFwcC5tYWluSW1hZ2VQYXRoID09PSAgbnVsbCB8fCBhcHAubWFpbkltYWdlUGF0aCA9PT0gJycpe1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7J6R7ZKIIOydtOuvuOyngOulvCDshKDtg53tlbTso7zshLjsmpQuJztcclxuICAgICAgICAgIH0gZWxzZSBpZihhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZCA9PT0gJzAnKXtcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yeke2SiOydmCDsooXrpZjrpbwg7ISg7YOd7ZW07KO87IS47JqULic7XHJcbiAgICAgICAgICB9IGVsc2Uge1xuXHJcbiAgICAgICAgICAgIGFwcC51cGxvYWREYXRhID0gdXBsb2FkRGF0YTtcclxuICAgICAgICAgICAgYXBwLnVwbG9hZERhdGEudXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuICAgICAgICAgICAgYXBwLnVwbG9hZERhdGEucGhvdG9fdHlwZSA9IGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkO1xyXG4gICAgICAgICAgICBhcHAudXBsb2FkRGF0YS5waG90b19wYXRoID0gYXBwLm1haW5JbWFnZVBhdGg7XHJcblxyXG4gICAgICAgICAgICBBcnRpc3QuY3JlYXRlQXJpc3RQaG90byhhcHAudXBsb2FkRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG5cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ2FydGlzdFByb2ZpbGVDdHJsJywgZnVuY3Rpb24gKCR0aW1lb3V0LCBBcnRpc3QsICRzdGF0ZSwgJHNjb3BlKSB7XHJcblxyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICBhcHAuZGF0YSA9IHtcclxuICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICB7aWQ6ICcxJywgbmFtZTogJ+u2kyDquIDslKgnfSxcclxuICAgICAgIHtpZDogJzInLCBuYW1lOiAn7Y6cIOq4gOyUqCd9LFxyXG4gICAgICAge2lkOiAnMycsIG5hbWU6ICfrr7jrtoTrpZgnfVxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICAgIH07XHJcblxyXG4gIC8vIOyekeqwgCDtlITroZztlYQg7IOd7ISxXHJcbiAgICAgIHRoaXMudXBkYXRlQXJpc3RQcm9maWxlID0gZnVuY3Rpb24oYXJ0aXN0RGF0YSl7XG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xuICAgICAgICBpZighYXJ0aXN0RGF0YSl7XG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+2VhOyImOq4sOyerOyCrO2VreydhCDsnoXroKXtlbTso7zshLjsmpQuJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZihhcHAuYXJ0aXN0RGF0YS5zaG9ydF9pbmZvID09PSB1bmRlZmluZWQgfHwgYXBwLmFydGlzdERhdGEuc2hvcnRfaW5mbyA9PT0gbnVsbCB8fCBhcHAuYXJ0aXN0RGF0YS5zaG9ydF9pbmZvID09PSAnJykge1xuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+2VnCDspIQg7IaM6rCc66W8IOyeheugpe2VtOyjvOyEuOyalC4nO1xuICAgICAgICAgIH0gZWxzZSBpZihhcHAuYXJ0aXN0RGF0YS5kZXRhaWxfaW5mbyA9PT0gdW5kZWZpbmVkIHx8IGFwcC5hcnRpc3REYXRhLmRldGFpbF9pbmZvID09PSBudWxsIHx8IGFwcC5hcnRpc3REYXRhLmRldGFpbF9pbmZvID09PSAnJykge1xuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yDgeyEuCDshozqsJzrpbwg7J6F66Cl7ZW07KO87IS47JqULic7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFwcC5hcnRpc3REYXRhID0gYXJ0aXN0RGF0YTtcbiAgICAgICAgICAgIGFwcC5hcnRpc3REYXRhLnVzZXJfaWQgPSAgJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xuICAgICAgICAgICAgYXBwLmFydGlzdERhdGEudXNlcl90eXBlID0gIGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkO1xuXG4gICAgICAgICAgICBBcnRpc3QudXBkYXRlQXJpc3RQcm9maWxlKGFwcC5hcnRpc3REYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XG4gICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcbiAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbTsp4Ag7JWK7J2AIOqwkuydtCDsnoXroKXrkJjsl4jsirXri4jri6QuJztcblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMucmVhZEFyaXN0UHJvZmlsZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIHVzZXJfaWQgPSAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XHJcbiAgICAgICAgQXJ0aXN0LnJlYWRBcnRpc3RQcm9maWxlKHVzZXJfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgIGFwcC5hcnRpc3REYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdhcnRpc3RQaG90b0N0cmwnLCBmdW5jdGlvbiAoJHRpbWVvdXQsIEFydGlzdCwgJHN0YXRlLCAkc2NvcGUpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgICB2YXIgdXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuICAgICAgQXJ0aXN0LnJlYWRBcnRpc3RQcm9maWxlKHVzZXJfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLmFydGlzdERhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgQXJ0aXN0LnJlYWRBcmlzdFBob3RvKHVzZXJfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLmFydGlzdFBob3RvcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG5cclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdib2FyZENvbnRyb2xsZXJzJyxbJ2JvYXJkU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ2JvYXJkVGFwQ3RybCcsIGZ1bmN0aW9uKEJvYXJkLCAkc2NvcGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIEJvYXJkLnJlYWRCb2FyZFRhcCgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAkc2NvcGUuaGVhZGVycyA9IGRhdGEuZGF0YTtcclxuICB9KTtcclxufSlcclxuLmNvbnRyb2xsZXIoJ2JvYXJkc0N0cmwnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIEJvYXJkKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB2YXIgYm9hcmRfdHlwZSA9ICRzdGF0ZVBhcmFtcy5jb2RlO1xyXG5cclxuICBhcHAuZGF0YSA9IHtcclxuICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgIHtzb3J0OiAnLWNyZWF0ZWQnLCBuYW1lOiAn7LWc7Iug7IicJ30sXHJcbiAgICAge3NvcnQ6ICctdmlldycsIG5hbWU6ICfsobDtmozsiJwnfSxcclxuICAgICB7c29ydDogJy1jb21tZW50X2NvdW50JywgbmFtZTon64yT6riA7IicJ31cclxuICAgXSxcclxuICAgc2VsZWN0ZWRPcHRpb246ICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgIH07XHJcblxyXG4gICBCb2FyZC5yZWFkQm9hcmRzKGJvYXJkX3R5cGUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgYXBwLmJvYXJkRGF0YXMgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG5cclxuICAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignYm9hcmRDdHJsJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBCb2FyZCl7XHJcbiAgICAvLyDrs7Trk5wg7JWE7J2065SUIOyghOyGoVxyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICB2YXIgYm9hcmRfaWQgPSAkc3RhdGVQYXJhbXMuYm9hcmRfaWQ7XHJcbiAgICBCb2FyZC5yZWFkQm9hcmQoYm9hcmRfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAuYm9hcmREYXRhcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuXHJcblxyXG4vL1xyXG4vLyAgICRzY29wZS5kYXRhID0ge1xyXG4vLyAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbi8vICAgICAge2lkOiAnLTEnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuLy8gICAgICB7aWQ6ICcwJywgbmFtZTogJ+qzteyngOyCrO2VrSd9LFxyXG4vLyAgICAgIHtpZDogJzEnLCBuYW1lOiAn7ZWZ7JuQL+2ZjeuztCd9LFxyXG4vLyAgICAgIHtpZDogJzInLCBuYW1lOiAn66qo7J6EL+yKpO2EsOuUlCd9XHJcbi8vICAgIF0sXHJcbi8vICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICctMScsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbi8vICAgIH07XHJcbi8vXHJcbi8vICAgLy8gaWTsl5Ag7ZW064u57ZWY64qUIOqwkuydhCDrs7Tsl6zso7zripQg7ZWo7IiYXHJcbi8vICAgJHNjb3BlLnVzZXJBcnRpY2xlID0gZmFsc2U7XHJcbi8vXHJcbi8vIC8vIOqwkuydhCDsoIDsnqXtlZjripQg7ZWo7IiYXHJcbi8vICAgJHNjb3BlLmFkZEJvYXJkID0gZnVuY3Rpb24odGl0bGUsIGNvbnRlbnQpe1xyXG4vLyAvLyBlbXBsb3llc3Mg7KCc64yA66GcIOuPmeyeke2VmOuKlOyngCDtmZXsnbgg7ZWE7JqUXHJcbi8vICAgICAgIHZhciBib2FyZF90eXBlID0gJHNjb3BlLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQ7XHJcbi8vICAgICAgICRodHRwLnBvc3QoJ2FwaS9ib2FyZE1lbnUnLFxyXG4vLyAgICAgICB7IHRpdGxlOnRpdGxlLCBjb250ZW50OiBjb250ZW50LCBib2FyZF90eXBlOiBib2FyZF90eXBlfSlcclxuLy8gICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpeyAgICAgICAgICAvLyDsoJXsg4Eg7J6R64+Z7ZWY7JiA7Iq164uI64ukLlxyXG4vLyAgICAgICB9KTtcclxuLy8gICB9O1xyXG4vL1xyXG4vLyBcdCRzY29wZS5zaG93Qm9hcmQgPSBmdW5jdGlvbigpe1xyXG4vLyAgIC8vIOuztOuTnCDslYTsnbTrlJQg7KCE7IahXHJcbi8vICAgdmFyIGlkID0gJHN0YXRlUGFyYW1zLmJvYXJkX2lkO1xyXG4vLyAgICAgJGh0dHAuZ2V0KCdhcGkvYm9hcmQvJytpZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbi8vIC8vIOyCrOyaqeyekOqwgCDsnpHshLHtlZwg6rKM7Iuc66y87J6F64uI64ukLlxyXG4vLyAgICAgaWYocmVzcG9uc2UuZGF0YVsxXS5zdWNjZXNzKXtcclxuLy8gICAgICAgJHNjb3BlLnVzZXJBcnRpY2xlID0gdHJ1ZTtcclxuLy8gICAgICAgJHNjb3BlLmJvYXJkID0gcmVzcG9uc2UuZGF0YVswXVswXTtcclxuLy8gICAgIH1cclxuLy8gLy8g7IKs7Jqp7J6Q6rCAIOyekeyEse2VnCDqsozsi5zrrLzsnbQg7JWE64uZ64uI64ukLlxyXG4vLyAgICAgZWxzZSB7XHJcbi8vICAgICAgICRzY29wZS51c2VyQXJ0aWNsZSA9IGZhbHNlO1xyXG4vLyAgICAgICAkc2NvcGUuYm9hcmQgPSByZXNwb25zZS5kYXRhWzBdWzBdO1xyXG4vLyAgICAgfVxyXG4vLyAgIH0pO1xyXG4vLyB9O1xyXG4vL1xyXG4vL1xyXG4vLyAgIC8vIOqwkuydhCDsgq3soJztlZjripQg7ZWo7IiYXHJcbi8vIFx0JHNjb3BlLmRlbGV0ZUJvYXJkID0gZnVuY3Rpb24oKXtcclxuLy8gICAgIHZhciBpZCA9ICRzdGF0ZVBhcmFtcy5ib2FyZF9pZDtcclxuLy8gXHRcdCRodHRwLmRlbGV0ZSgnYXBpL2JvYXJkLycraWQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4vLyAgICAgICAgICRsb2NhdGlvbi5wYXRoKCdhcHAuYm9hcmQuY2F0ZWdvcnkoe2NvZGU6IDB9KScpO1xyXG4vLyBcdFx0fSk7XHJcbi8vIFx0fTtcclxuLy9cclxuLy8gICBcdC8vIOqwkuydhCDsiJjsoJXtlZjripQg7ZWo7IiYXHJcbi8vICAgXHQkc2NvcGUudXBkYXRlQm9hcmQgPSBmdW5jdGlvbigpe1xyXG4vLyAgIFx0XHR2YXIgaWQgPSAkc3RhdGVQYXJhbXMuYm9hcmRfaWQ7XHJcbi8vICAgXHRcdCRodHRwLnB1dCgnYXBpL2JvYXJkLycraWQgLCAkc2NvcGUuYm9hcmQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4vLyAgIFx0XHRcdCRzY29wZS5ib2FyZCA9IHJlc3BvbnNlLmRhdGE7XHJcbi8vICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJ2JvYXJkJyk7XHJcbi8vICAgXHRcdH0pO1xyXG4vLyAgIFx0fTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdnYWxsZXJ0Q29udHJvbGxlcnMnLFsnZ2FsbGVyeVNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdnYWxsZXJ5VGFwQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgR2FsbGVyeSl7XHJcbiAgLy8g7KCE7LK0IOuplOuJtCDqsIDsoLjsmKTquLBcclxuICBHYWxsZXJ5LnJlYWRHYWxsZXJ5VGFwKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgJHNjb3BlLmhlYWRlcnMgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignZ2FsbGVyeVBob3Rvc0N0cmwnLCBmdW5jdGlvbihHYWxsZXJ5LCAkc3RhdGVQYXJhbXMpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHZhciBwaG90b190eXBlID0gJHN0YXRlUGFyYW1zLmNvZGU7XHJcbiAgYXBwLmRhdGEgPSB7XHJcbiAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9LFxyXG4gICAgIHtzb3J0OiAnLXZpZXcnLCBuYW1lOiAn7KGw7ZqM7IicJ30sXHJcbiAgICAge3NvcnQ6ICctY29tbWVudF9jb3VudCcsIG5hbWU6J+uMk+q4gOyInCd9XHJcbiAgIF0sXHJcbiAgIHNlbGVjdGVkT3B0aW9uOiAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfSAvL1RoaXMgc2V0cyB0aGUgZGVmYXVsdCB2YWx1ZSBvZiB0aGUgc2VsZWN0IGluIHRoZSB1aVxyXG4gICB9O1xyXG5cclxuICAgIEdhbGxlcnkucmVhZFBob3RvcyhwaG90b190eXBlKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLnBob3RvRGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ2dhbGxlcnlQaG90b0N0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkc3RhdGVQYXJhbXMsIEdhbGxlcnkpIHtcclxuXHJcbiAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICB2YXIgcGhvdG9faWQgPSAkc3RhdGVQYXJhbXMucGhvdG9faWQ7XHJcbiAgIHZhciBwaG90b190eXBlID0gJHN0YXRlUGFyYW1zLnBob3RvX3R5cGU7XHJcbiAgIHZhciB1c2VyX2lkID0gJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xyXG5cclxuICAgR2FsbGVyeS5yZWFkUGhvdG9EYXRhKHBob3RvX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgIGFwcC5waG90b0RhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgIH0gZWxzZSB7XHJcbiAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICB9XHJcbiAgIH0pO1xyXG5cclxuICAgR2FsbGVyeS5yZWFkUGhvdG9zKHBob3RvX3R5cGUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgYXBwLnBob3Rvc0RhdGEgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgIH0gZWxzZSB7XHJcbiAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICB9XHJcbiAgIH0pO1xyXG5cclxufSk7XHJcblxyXG5cclxuXHJcblxyXG4vLyAvLyDqsJLsnYQg7IKt7KCc7ZWY64qUIO2VqOyImFxyXG4vLyAgICRzY29wZS5kZWxldGVQaG90byA9IGZ1bmN0aW9uKCl7XHJcbi8vICAgICAgdmFyIGlkID0gJHN0YXRlUGFyYW1zLnBob3RvX2lkO1xyXG4vLyAgICAgJGh0dHAuZGVsZXRlKCcvYXBpL2dhbGxlcnkvJytpZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbi8vICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCdhcHAuZ2FsbGVyeS5jYXRlZ29yeSh7Y29kZTogMH0pJyk7XHJcbi8vICAgICB9KTtcclxuLy8gICB9O1xyXG4vL1xyXG4vL1xyXG4vLyAvLyDqsJzrs4Qg7IKs7KeEIOq0gOugqOuQnCDsnbTrr7jsp4Ag6rCA7KC47Jik6riwIHx8IOyEoO2Dne2VnCDsnbTrr7jsp4DsmYAg6rCZ7J2AIOu2hOulmOydmCDsnbTrr7jsp4Ag6rCA7KC47Jik6riwXHJcbi8vICAgJHNjb3BlLmdldFJlbGF0ZWRQaWMgPSBmdW5jdGlvbigpe1xyXG4vLyAgICAgdmFyIGNvZGUgPSAkc3RhdGVQYXJhbXMucGhvdG9fdHlwZTtcclxuLy8gICAgICRodHRwLmdldCgnL2FwaS9nYWxsZXJ5TWVudS8nK2NvZGUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4vLyAgICAgICAkc2NvcGUucGhvdG9zID0gcmVzcG9uc2UuZGF0YTtcclxuLy8gICAgIH0pO1xyXG4vLyAgIH07XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignSG9tZUN0cmwnLCBmdW5jdGlvbiAoICRodHRwLCAkc2NvcGUpIHtcclxuXHJcbiAgJHNjb3BlLmdldENvbnRlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgJGh0dHAuZ2V0KCcvYXBpL2hvbWUnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgJHNjb3BlLnBob3RvcyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4uY29udHJvbGxlcignQm9hcmRNZW51Q29udHJvbGxlcicsIGZ1bmN0aW9uICgkc2NvcGUsJGh0dHAsICRzdGF0ZVBhcmFtcykge1xyXG5cclxuLy8gZGVmaW5lIGxpc3Qgb2YgaXRlbXMg7KCE7LK0IOuNsOydtO2EsCDsoJXroKxcclxuICAgICAgICAkc2NvcGUuZGF0YSA9IHtcclxuICAgICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgICAgIHtzb3J0OiAnLWNyZWF0ZWQnLCBuYW1lOiAn7LWc7Iug7IicJ30sXHJcbiAgICAgICAgICAge3NvcnQ6ICctdmlldycsIG5hbWU6ICfsobDtmozsiJwnfSxcclxuICAgICAgICAgICB7c29ydDogJy1jb21tZW50X2NvdW50JywgbmFtZTon64yT6riA7IicJ31cclxuICAgICAgICAgXSxcclxuICAgICAgICAgc2VsZWN0ZWRPcHRpb246ICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgICAgIH07XHJcblxyXG5cclxuLy8g7KCE7LK0IOuplOuJtCDqsIDsoLjsmKTquLBcclxuICAgICRodHRwLmdldCgnL2FwaS9ib2FyZE1lbnUnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgJHNjb3BlLmhlYWRlcnMgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgfSk7XHJcblxyXG4vLyDshKDtg53tlZwg7L2U65Oc7JeQIOuUsOuluCDqsrDqs7wg6rCSIOqwgOyguOyYpOq4sFxyXG4gICAgICAkc2NvcGUuZ2V0SGVhZGVyQ29udGVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgdmFyIGNvZGUgPSAkc3RhdGVQYXJhbXMuY29kZTtcclxuICAgICAgICAkaHR0cC5nZXQoJy9hcGkvYm9hcmRNZW51LycrY29kZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbiAgICAgICAgICAkc2NvcGUuYm9hcmRlcyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ2Rpc3BsYXlNZW51Q29udHJvbGxlcicsIGZ1bmN0aW9uICggJHNjb3BlLCAkaHR0cCwgJHN0YXRlUGFyYW1zKSB7XHJcblxyXG4vLyBkZWZpbmUgbGlzdCBvZiBpdGVtcyDsoITssrQg642w7J207YSwIOygleugrFxyXG4gICAgJHNjb3BlLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfVxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246ICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgfTtcclxuXHJcbiAgICAkaHR0cC5nZXQoJy9hcGkvZGlzcGxheU1lbnUnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgJHNjb3BlLmhlYWRlcnMgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgfSk7XHJcblxyXG5cclxuLy8g7ISg7YOd7ZWcIOy9lOuTnOyXkCDrlLDrpbgg7J2066+47KeAIOqwgOyguOyYpOq4sFxyXG4gICAgJHNjb3BlLmdldEhlYWRlckNvbnRlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgICB2YXIgY29kZSA9ICRzdGF0ZVBhcmFtcy5jb2RlO1xyXG4gICAgICAkaHR0cC5nZXQoJy9hcGkvZGlzcGxheU1lbnUvJytjb2RlKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgICAkc2NvcGUuZGlzcGxheXMgPSByZXNwb25zZS5kYXRhO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdNYWluTWVudUNvbnRyb2xsZXInLCBmdW5jdGlvbiAoJGh0dHAsICRzY29wZSkge1xyXG4gICRodHRwLmdldCgnL2FwaS9oZWFkZXInKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICRzY29wZS5oZWFkZXJzID0gcmVzcG9uc2UuZGF0YTtcclxuICB9KTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdtYWluQ29udHJvbGxlcnMnLFsnYXV0aFNlcnZpY2VzJywgJ3VzZXJTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignbWFpbkN0cmwnLCBmdW5jdGlvbihBdXRoLCAkdGltZW91dCwgJGxvY2F0aW9uLCAkc3RhdGUsICRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdywgJGludGVydmFsLCBVc2VyLCBBdXRoVG9rZW4pe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICBhcHAubG9hZG1lID0gZmFsc2U7XHJcblxyXG4gICRzY29wZS4kb24oJ0xPQUQnLCBmdW5jdGlvbigpe1xyXG4gICAgJHNjb3BlLmxvYWRpbmcgPSB0cnVlO1xyXG4gIH0pO1xyXG5cclxuICAkc2NvcGUuJG9uKCdVTkxPQUQnLCBmdW5jdGlvbigpe1xyXG4gICAgJHNjb3BlLmxvYWRpbmcgPSBmYWxzZTtcclxuICB9KTtcclxuXHJcbiAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24oKXtcclxuICAgIGlmKCFjaGVja1Nlc3Npb24pY2hlY2tTZXNzaW9uKCk7XHJcblxyXG4gICAgaWYoQXV0aC5pc0xvZ2dlZEluKCkpe1xyXG4gICAgICBhcHAuaXNMb2dnZWRJbiA9IHRydWU7XHJcbiAgICAgIEF1dGguZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnBlcm1pc3Npb24gPT09ICdhZG1pbicpIHtcclxuICAgICAgICAgIGFwcC5wZXJtaXNzaW9uID0gdHJ1ZTtcclxuICAgICAgICAgIGFwcC51c2VyID0gZGF0YS5kYXRhO1xyXG4gICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIGlmKGRhdGEuZGF0YS5wZXJtaXNzaW9uID09PSAnYXJ0aXN0Jykge1xyXG4gICAgICAgICAgYXBwLnBlcm1pc3Npb24gPSB0cnVlO1xyXG4gICAgICAgICAgYXBwLnVzZXIgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLnVzZXIgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLnVzZXIgPSBmYWxzZTtcclxuICAgICAgYXBwLmlzTG9nZ2VkSW4gPSBmYWxzZTtcclxuICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG5cclxuICB2YXIgY2hlY2tTZXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgIGlmKEF1dGguaXNMb2dnZWRJbigpKXtcclxuICAgICAgYXBwLmNoZWNrU2Vzc2lvbiA9IHRydWU7XHJcbiAgICAgIHZhciBpbnRlcnZhbCA9ICRpbnRlcnZhbChmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciB0b2tlbiA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcbiAgICAgICAgaWYodG9rZW4gPT09IG51bGwpe1xyXG4gICAgICAgICAgJGludGVydmFsLmNhbmNlbChpbnRlcnZhbCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlbGYucGFyc2VKd3QgPSBmdW5jdGlvbih0b2tlbil7XHJcbiAgICAgICAgICAgIHZhciBiYXNlNjRVcmwgPSB0b2tlbi5zcGxpdCgnLicpWzFdO1xyXG4gICAgICAgICAgICB2YXIgYmFzZTY0ID0gYmFzZTY0VXJsLnJlcGxhY2UoJy0nLCcrJykucmVwbGFjZSgnXycsICcvJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKCR3aW5kb3cuYXRvYihiYXNlNjQpKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB2YXIgZXhwaXJlVGltZSA9IHNlbGYucGFyc2VKd3QodG9rZW4pO1xyXG4gICAgICAgICAgdmFyIHRpbWVTdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xyXG4gICAgICAgICAgdmFyIHRpbWVDaGVjayA9IGV4cGlyZVRpbWUuZXhwIC0gdGltZVN0YW1wO1xyXG5cclxuICAgICAgICAgIGlmKHRpbWVDaGVjayA8PSA1KXtcclxuICAgICAgICAgICAgc2hvd01vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sIDIwMDApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNoZWNrU2Vzc2lvbigpO1xyXG5cclxuXHJcbiAgICBhcHAucmVuZXdTZXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgICAgYXBwLmNob2ljZU1hZGUgPSB0cnVlO1xyXG4gICAgICBVc2VyLnJlbmV3U2Vzc2lvbihhcHAudXNlci51c2VybmFtZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oZGF0YS5kYXRhLnRva2VuKTtcclxuICAgICAgICAgIGNoZWNrU2Vzc2lvbigpO1xyXG4gICAgICAgICAgaGlkZU1vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgfSBlbHNle1xyXG4gICAgICAgICAgYXBwLk1vZGFsQm9keSA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgaGlkZU1vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgYXBwLmVuZFNlc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgICBhcHAuY2hvaWNlTWFkZSA9IHRydWU7XHJcbiAgICAgIGhpZGVNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIHNob3dNb2RhbCgnbG9nb3V0Jyk7XHJcbiAgICAgIH0sNTAwKTtcclxuICAgIH07XHJcblxyXG5cclxuICB2YXIgc2hvd01vZGFsID0gZnVuY3Rpb24ob3B0aW9uKXtcclxuICAgIGFwcC5jaG9pY2VNYWRlID0gZmFsc2U7XHJcbiAgICBhcHAubW9kYWxIZWFkZXIgPSB1bmRlZmluZWQ7XHJcbiAgICBhcHAubW9kYWxCb2R5ID0gdW5kZWZpbmVkO1xyXG4gICAgYXBwLmhpZGVCdXR0b24gPSBmYWxzZTtcclxuLy8gY2hlY2sgdG9rZW4gZXhwaXJlZFxyXG4gICAgaWYob3B0aW9uID09PSAgJ2V4cGlyZWQnICl7XHJcbiAgICAgIGFwcC5tb2RhbEhlYWRlciA9ICdUaW1lb3V0IFdhcm5pbmcnO1xyXG4gICAgICBhcHAubW9kYWxCb2R5ID0gJ1lvdXIgc2Vzc2lvbiB3aWxsIGV4cGlyZWQgaW4gNSBtaW51dGVzLiBXb3VsZCB5b3UgbGlrZSB0byByZW5ldyB5b3VyIHNlc3Npb24/JztcclxuICAgICAgJChcIiNteU1vZGFsXCIpLm1vZGFsKHtiYWNrZHJvcDpcInN0YXRpY1wifSk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAnbG9nb3V0Jyl7XHJcbi8vIGxvZ291dFxyXG4gICAgICBhcHAuaGlkZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgIGFwcC5tb2RhbEhlYWRlciA9ICfroZzqt7jslYTsm4MnO1xyXG4gICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoe2JhY2tkcm9wOlwic3RhdGljXCJ9KTtcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICBBdXRoLmxvZ291dCgpO1xyXG4gICAgICAgIGFwcC5pc0xvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgICAgaGlkZU1vZGFsKCdsb2dvdXQnKTtcbiAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xuICAgICAgfSwgMjAwMCk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAnbG9naW4nKXtcclxuLy8gTG9naW5cclxuICAgICAgJChcIiNsb2dpblwiKS5tb2RhbCh7YmFja2Ryb3A6XCJzdGF0aWNcIn0pO1xyXG4gICAgfSAgZWxzZSBpZihvcHRpb24gPT09J3VwbG9hZCcpe1xyXG4vLyBlbnJvbGxBcnRpc3RcclxuICAgICAgJChcIiN1cGxvYWRcIikubW9kYWwoe2JhY2tkcm9wOlwic3RhdGljXCJ9KTtcclxuICAgIH1cclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICBpZighYXBwLmNob2ljZU1hZGUpe1xyXG4gICAgICAgICAgaGlkZU1vZGFsKCdsb2dvdXQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIDQwMDApO1xyXG5cclxuICB9O1xyXG5cclxuICB2YXIgaGlkZU1vZGFsID0gZnVuY3Rpb24ob3B0aW9uKXtcclxuXHJcbiAgICBpZihvcHRpb24gPT09ICdleHBpcmVkJyl7XHJcbiAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ2xvZ291dCcpe1xyXG4gICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoJ2hpZGUnKTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICdsb2dpbicpe1xyXG4gICAgICAkKFwiI2xvZ2luXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAndXBsb2FkJyl7XHJcbiAgICAgICQoXCIjdXBsb2FkXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcblxyXG4vLyDroZzqt7jsnbhcclxuICB0aGlzLmRvTG9naW4gPSBmdW5jdGlvbihsb2dpbkRhdGEsIHZhbGlkKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmV4cGlyZWQgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgaWYodmFsaWQpe1xyXG4gICAgICBBdXRoLmxvZ2luKGFwcC5sb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAgICAgICAgIGFwcC5sb2dpbkRhdGEgPSBudWxsO1xyXG4gICAgICAgICAgICBhcHAuaXNMb2dnZWRJbiA9IHRydWU7XHJcbiAgICAgICAgICAgIGNoZWNrU2Vzc2lvbigpO1xyXG4gICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICB9LDIwMDApO1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5leHBpcmVkKXtcclxuICAgICAgICAgICAgYXBwLmV4cGlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIElmIGVycm9yIG9jY3VycywgcmVtb3ZlIGRpc2FibGUgbG9jayBmcm9tIGZvcm1cclxuICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBib290c3RyYXAgbG9hZGluZyBpY29uXHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBEaXNwbGF5IGVycm9yIGlmIHZhbGlkIHJldHVybnMgZmFsc2VcclxuICAgIH1cclxuXHJcbiAgfTtcclxuXHJcblxyXG5cclxuLy8g7IKs7Jqp7J6Q7J2YIOq2jO2VnCDsl6zrtoAg7ZmV7J24XHJcbiAgdGhpcy51cGxvYWQgPSBmdW5jdGlvbigpe1xyXG4gIGFwcC5jaG9pY2VNYWRlID0gdHJ1ZTtcclxuICAgIGlmKGFwcC51c2VyLnBlcm1pc3Npb24gPT09ICdhcnRpc3QnKXtcclxuICAgICAgJHN0YXRlLmdvKCdhcHAuYXJ0aXN0UHJvZmlsZXMnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIFVzZXIuY2hlY2tQZXJtaXNzaW9uKGFwcC51c2VyLnVzZXJuYW1lKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwLmFydGlzdFByb2ZpbGVzJyk7XHJcbiAgICAgICAgICAgYXBwLnBlcm1pc3Npb24gPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzaG93TW9kYWwoJ3VwbG9hZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH07XHJcblxyXG4gIC8vIOyCrOyaqeyekOyXkOqyjCDqtoztlZwg67aA7JesXHJcbiAgICB0aGlzLmRvUGVybWlzc2lvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGFwcC5jaG9pY2VNYWRlID0gdHJ1ZTtcclxuICAgICAgYXBwLnVwbG9hZERpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgYXBwLnVwbG9hZGVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgIFVzZXIucmVzZXRQZXJtaXNzaW9uKGFwcC51c2VyKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC51cGxvYWREaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICBhcHAudXBsb2FkU3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaGlkZU1vZGFsKCd1cGxvYWQnKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAuYXJ0aXN0UHJvZmlsZXMnKTtcclxuICAgICAgICAgIH0sMjAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC51cGxvYWREaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLnVwbG9hZGVycm9yTXNnID0gJ+yemOuqu+uQnCDsoJXrs7TqsIAg7J6F66Cl65CY7JeI7Iq164uI64ukLic7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG5cclxuICBhcHAubG9naW4gPSBmdW5jdGlvbigpe1xyXG4gICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICBzaG93TW9kYWwoJ2xvZ2luJyk7XHJcbiAgfTtcclxuXHJcbiAgYXBwLmxvZ291dCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBzaG93TW9kYWwoJ2xvZ291dCcpO1xyXG4gIH07XHJcblxyXG4gIGFwcC5yZXNlbmQgPSBmdW5jdGlvbigpe1xyXG4gICAgaGlkZU1vZGFsKCdsb2dpbicpO1xyXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgJHN0YXRlLmdvKCdyZXNlbmQnKTtcclxuICAgICAgYXBwLmV4cGlyZWQgPSBmYWxzZTtcclxuICAgIH0sNTAwKTtcclxuICB9O1xyXG5cclxuICBhcHAucmVzZXR1c2VybmFtZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAkc3RhdGUuZ28oJ3Jlc2V0dXNlcm5hbWUnKTtcclxuICAgIH0sNTAwKTtcclxuICB9O1xyXG5cclxuICBhcHAucmVzZXRwYXNzd29yZCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAkc3RhdGUuZ28oJ3Jlc2V0cGFzc3dvcmQnKTtcclxuICAgIH0sNTAwKTtcclxuXHJcbiAgfTtcclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnZW1haWxDb250cm9sbGVycycsWyd1c2VyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ2VtYWlsQ3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgVXNlci5hY3RpdmVBY2NvdW50KCRzdGF0ZVBhcmFtcy50b2tlbikudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgIH0sMjAwMCk7XHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgfSwyMDAwKTtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdyZXNlbmRDdHJsJywgZnVuY3Rpb24oVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgYXBwID0gdGhpcztcclxuICB0aGlzLmNoZWNrQ3JlZGVudGlhbHMgPSBmdW5jdGlvbihsb2dpbkRhdGEpe1xyXG4gICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICBVc2VyLmNoZWNrQ3JlZGVudGlhbHModGhpcy5sb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBVc2VyLnJlc2VuZExpbmsoYXBwLmxvZ2luRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICAgIH0sMjAwMCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1lbHNlIHtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCd1c2VybmFtZUN0cmwnLCBmdW5jdGlvbihVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICB0aGlzLnNlbmRVc2VybmFtZSA9IGZ1bmN0aW9uKHVzZXJEYXRhLCB2YWxpZCl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBpZih2YWxpZCl7XHJcbiAgICAgIFVzZXIuc2VuZFVzZXJuYW1lKGFwcC51c2VyRGF0YS5lbWFpbCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7J2066mU7J28IOyjvOyGjOqwgCDslYTri5nri4jri6QuJztcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Bhc3N3b3JkQ3RybCcsIGZ1bmN0aW9uKFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIGFwcC5zZW5kUGFzc3dvcmQgPSBmdW5jdGlvbihyZXNldERhdGEsIHZhbGlkKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGlmKHZhbGlkKXtcclxuICAgICAgVXNlci5zZW5kUGFzc3dvcmQoYXBwLnJlc2V0RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlICsgJy4uLuuplOyduCDtjpjsnbTsp4DroZwg7J2064+Z7ZWp64uI64ukLic7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7JWE7J2065SU6rCAIOyVhOuLmeuLiOuLpC4nO1xyXG4gICAgfVxyXG4gIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncmVzZXRDdHJsJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCAkc2NvcGUsIFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICAgIGFwcC5oaWRlID0gdHJ1ZTsgLy8gSGlkZSBmb3JtIHVudGlsIHRva2VuIGNhbiBiZSB2ZXJpZmllZCB0byBiZSB2YWxpZFxyXG5cclxuICAgIC8vIEZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRva2VuIGlzIHZhbGlkIGFuZCBnZXQgdGhlIHVzZXIncyBpbmZvIGZyb20gZGF0YWJhc2UgKHJ1bnMgb24gcGFnZSBsb2FkKVxyXG4gICAgVXNlci5yZXNldFBhc3N3b3JkKCRzdGF0ZVBhcmFtcy50b2tlbikudGhlbihmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciB3YXMgcmV0cmlldmVkXHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIGFwcC5oaWRlID0gZmFsc2U7IC8vIFNob3cgZm9ybVxyXG4gICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtc3VjY2Vzcyc7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSAn7IOI66Gc7Jq0IOu5hOuwgOuyiO2YuOulvCDsnoXroKXtlbTso7zshLjsmpQuJzsgLy8gTGV0IHVzZXIga25vdyB0aGV5IGNhbiBlbnRlciBuZXcgcGFzc3dvcmRcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJuYW1lID0gZGF0YS5kYXRhLnVzZXJbMF0udXNlcm5hbWU7IC8vIFNhdmUgdXNlcm5hbWUgaW4gc2NvcGUgZm9yIHVzZSBpbiBzYXZlUGFzc3dvcmQoKSBmdW5jdGlvblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1kYW5nZXInOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlOyAvLyBHcmFiIGVycm9yIG1lc3NhZ2UgZnJvbSBKU09OIG9iamVjdFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEZ1bmN0aW9uIHRvIHNhdmUgdXNlcidzIG5ldyBwYXNzd29yZCB0byBkYXRhYmFzZVxyXG4gICAgYXBwLnNhdmVQYXNzd29yZCA9IGZ1bmN0aW9uKHJlZ0RhdGEsIHZhbGlkLCBjb25maXJtZWQpIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTsgLy8gQ2xlYXIgZXJyb3JNc2cgd2hlbiB1c2VyIHN1Ym1pdHNcclxuICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7IC8vIERpc2FibGUgZm9ybSB3aGlsZSBwcm9jZXNzaW5nXHJcbiAgICAgICAgYXBwLmxvYWRpbmcgPSB0cnVlOyAvLyBFbmFibGUgbG9hZGluZyBpY29uXHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIGZvcm0gaXMgdmFsaWQgYW5kIHBhc3N3b3JkcyBtYXRjaFxyXG4gICAgICAgIGlmICh2YWxpZCAmJiBjb25maXJtZWQpIHtcclxuICAgICAgICAgICAgYXBwLnJlZ0RhdGEudXNlcm5hbWUgPSAkc2NvcGUudXNlcm5hbWU7IC8vIEdyYWIgdXNlcm5hbWUgZnJvbSAkc2NvcGVcclxuXHJcbiAgICAgICAgICAgIC8vIFJ1biBmdW5jdGlvbiB0byBzYXZlIHVzZXIncyBuZXcgcGFzc3dvcmQgdG8gZGF0YWJhc2VcclxuICAgICAgICAgICAgVXNlci5zYXZlUGFzc3dvcmQoYXBwLnJlZ0RhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHBhc3N3b3JkIHdhcyBzYXZlZCB0byBkYXRhYmFzZVxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LXN1Y2Nlc3MnOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7ZmU66m07Jy866GcIOydtOuPme2VqeuLiOuLpC4nOyAvLyBHcmFiIHN1Y2Nlc3MgbWVzc2FnZSBmcm9tIEpTT04gb2JqZWN0IGFuZCByZWRpcmVjdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlZGlyZWN0IHRvIGxvZ2luIHBhZ2UgYWZ0ZXIgMjAwMCBtaWxsaXNlY29uZHMgKDIgc2Vjb25kcylcclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1kYW5nZXInOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIEVuYWJsZSBmb3JtIHRvIGFsbG93IHVzZXIgdG8gcmVzdWJtaXRcclxuICAgICAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTsgLy8gR3JhYiBlcnJvciBtZXNzYWdlIGZyb20gSlNPTiBvYmplY3RcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LWRhbmdlcic7IC8vIFNldCBzdWNjZXNzIG1lc3NhZ2UgY2xhc3NcclxuICAgICAgICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIEVuYWJsZSBmb3JtIHRvIGFsbG93IHVzZXIgdG8gcmVzdWJtaXRcclxuICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsoJXrs7Trpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIExldCB1c2VyIGtub3cgZm9ybSBpcyBub3QgdmFsaWRcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3VzZXJDb250cm9sbGVycycsWyd1c2VyU2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ3JlZ0N0cmwnLCBmdW5jdGlvbiAoICRodHRwLCAkbG9jYXRpb24sICR0aW1lb3V0LCBVc2VyLCBBdXRoLCAkc3RhdGUpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICAgICAgdGhpcy5yZWdTdGVwMSA9IGZ1bmN0aW9uKHJlZ0RhdGEpe1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgIGlmKCFyZWdEYXRhKXtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfslb3qtIDsl5Ag64+Z7J2Y7ZW07JW866eMIO2ajOybkOqwgOyeheydhCDsp4TtlontlaAg7IiYIOyeiOyKteuLiOuLpC4nO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZigocmVnRGF0YS50ZXJtcykgJiYgKHJlZ0RhdGEucHJpdmFjeSkpIHtcclxuICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gJ+yVveq0gOyXkCDshLHqs7XsoIHsnLzroZwg64+Z7J2Y7ZWY7IWo7Iq164uI64ukLic7XHJcbiAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdyZWdpc3RlclN0ZXAyJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yVveq0gOyXkCDrj5nsnZjtlbTslbzrp4wg7ZqM7JuQ6rCA7J6F7J2EIOynhO2Wie2VoCDsiJgg7J6I7Iq164uI64ukLic7XHJcbiAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICB9O1xyXG5cclxuICAgIC8vIO2ajOybkOqwgOyehVxyXG4gICAgICB0aGlzLnJlZ1N0ZXAyID0gZnVuY3Rpb24ocmVnRGF0YSwgdmFsaWQsIGNvbmZpcm1lZCl7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYodmFsaWQgJiYgY29uZmlybWVkKXtcclxuICAgICAgICAgIFVzZXIuY3JlYXRlKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAkKFwiI3JlZ2lzdGVyXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICAgICBhcHAucmVnRGF0YSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBhcHAuaXNMb2dnZWRJbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAnKTtcclxuICAgICAgICAgICAgICB9LDMwMDApO1xyXG4gICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIElmIGVycm9yIG9jY3VycywgcmVtb3ZlIGRpc2FibGUgbG9jayBmcm9tIGZvcm1cclxuICAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgYm9vdHN0cmFwIGxvYWRpbmcgaWNvblxyXG4gICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOuluCDsoJXrs7Trpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIERpc3BsYXkgZXJyb3IgaWYgdmFsaWQgcmV0dXJucyBmYWxzZVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH07XHJcblxyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Byb2ZpbGVDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyLCAkdGltZW91dCwgJHN0YXRlLCAkaHR0cCl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4vLyDquLDrs7gg7IKs7Jqp7J6QIOygleuztCDqsIDsoLjsmKTripQg7ZWo7IiYXHJcbiAgdmFyIHVzZXJuYW1lID0gJHNjb3BlLm1haW4udXNlci51c2VybmFtZTtcclxuICBVc2VyLnJlYWRQcm9maWxlcyh1c2VybmFtZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLnJlYWREYXRhID0gZGF0YS5kYXRhLnByb2ZpbGVzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG5cclxuLy8g7Jyg7KCAIO2UhOuhnO2VhCDsgqzsp4Qg67OA6rK9IO2VqOyImFxyXG4gICAgdGhpcy5maWxlID0ge307XHJcbiAgICB0aGlzLnBob3RvQ2hhbmdlZCA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCAmJiBmaWxlc1swXS5uYW1lLm1hdGNoKC9cXC4ocG5nfGpwZWd8anBnKSQvKSkge1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAudGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAudGh1bWJuYWlsLmRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAudXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAubWVzc2FnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhcHAudGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgYXBwLm1lc3NhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbi8vIO2UhOuhnO2VhCDsnbTrr7jsp4Drpbwg7JeF642w7J207Yq47ZWY64qUIO2VqOyImFxyXG4gICAgdGhpcy51cGRhdGVQcm9maWxlSW1hZ2UgPSBmdW5jdGlvbigpe1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICB2YXIgdXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuICAgICAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgICAgICRodHRwLnB1dCgnL2FwaS91cGxvYWRUZW1wLycrdXNlcl9pZCwgIGZkLCB7XHJcbiAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZH1cclxuICAgICAgfSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfTtcclxuXHJcbi8vIO2UhOuhnO2VhCDsoJXrs7Qg67OA6rK9XHJcbiAgdGhpcy51cGRhdGVQcm9maWxlID0gZnVuY3Rpb24oKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGFwcC5yZWFkRGF0YS51c2VyX2lkID0gJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xyXG4gICAgVXNlci51cGRhdGVQcm9maWxlcyhhcHAucmVhZERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgfSwyMDAwKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbn0pO1xyXG4iXX0=

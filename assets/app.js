angular.module("app",["ui.router","ui.bootstrap","userControllers","mainControllers","emailControllers","artistControllers","gallertControllers","commentControllers","boardControllers","managementControllers","uiCropper"]).config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptors")}]);var app=angular.module("app");app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,a){t.otherwise("/"),a.hashPrefix(""),a.html5Mode(!0),e.state("app",{url:"/",views:{header:{templateUrl:"/menues/mainMenu.html",controller:"mainMenuController"},content:{templateUrl:"/main/home.html"},footer:{templateUrl:"/company/footer.html"}}}).state("management",{url:"/management",templateUrl:"/management/management.html",controller:"managementCtrl",controllerAs:"management",permission:"admin"}).state("registerStep1",{url:"/register/step1",controller:"regCtrl",controllerAs:"register",templateUrl:"/isLoggedOut/registerStep1.html",authenticated:!1}).state("registerStep2",{url:"/register/step2",controller:"regCtrl",controllerAs:"register",templateUrl:"/isLoggedOut/registerStep2.html",authenticated:!1}).state("resetusername",{url:"/resetusername",templateUrl:"/users/reset/username.html",controller:"usernameCtrl",controllerAs:"username"}).state("resetpassword",{url:"/resetpassword",templateUrl:"/users/reset/password.html",controller:"passwordCtrl",controllerAs:"password"}).state("reset",{url:"/reset/:token",templateUrl:"/users/reset/newpassword.html",controller:"resetCtrl",controllerAs:"reset"}).state("activate",{url:"/activate/:token",templateUrl:"/users/activation/activate.html",controller:"emailCtrl",controllerAs:"email"}).state("resend",{url:"/resend",templateUrl:"/users/activation/resend.html",controller:"resendCtrl",controllerAs:"resend"}).state("app.profiles",{url:"profiles",views:{"content@":{templateUrl:"isLoggedIn/userProfiles.html",controller:"profileCtrl",controllerAs:"profile",authenticated:!1}}}).state("app.photos",{url:"photos",views:{"content@":{templateUrl:"isLoggedIn/artistPhotos.html",controller:"anArtistPhotoCtrl",controllerAs:"anArtistPhoto",authenticated:!1}}}).state("app.artistProfiles",{url:"artist",views:{"content@":{templateUrl:"isLoggedIn/artistProfiles.html",controller:"artistProfileCtrl",controllerAs:"artistProfile",authenticated:!0}}}).state("app.intro",{url:"intro",views:{"content@":{templateUrl:"/company/intro.html",authenticated:!1}}}).state("app.terms",{url:"terms",views:{"content@":{templateUrl:"/company/terms.html",authenticated:!1}}}).state("app.privacy",{url:"privacy",views:{"content@":{templateUrl:"/company/privacy.html",authenticated:!1}}}).state("app.artist",{url:"artist/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.artist":{templateUrl:"/partialArtist/artistTap.html",controller:"artistTapCtrl",controllerAs:"artistTap",authenticated:!1},"contents@app.artist":{templateUrl:"/partialArtist/artists.html",controller:"artistsCtrl",controllerAs:"artists",authenticated:!1}}}).state("app.gallery",{url:"gallery/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.gallery":{templateUrl:"/partialGallery/galleryTap.html",controller:"galleryTapCtrl",controllerAs:"galleryTap"},"contents@app.gallery":{templateUrl:"/partialGallery/photos.html",controller:"galleryPhotosCtrl",controllerAs:"galleryPhotos",authenticated:!1}}}).state("app.board",{url:"board/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.board":{templateUrl:"/partialBoard/boardTap.html",controller:"boardTapCtrl",authenticated:!1},"contents@app.board":{templateUrl:"/partialBoard/boards.html",controller:"boardsCtrl",controllerAs:"boards",authenticated:!1}}}).state("app.display",{url:"display/category=:code",views:{"content@":{templateUrl:"/main/form.html"},"menu@app.display":{templateUrl:"/partialDisplay/displayTap.html",controller:"displayMenuController",authenticated:!1},"contents@app.display":{templateUrl:"/partialDisplay/content.html",controller:"displayMenuController",authenticated:!1}}}).state("app.artist.show",{url:"/artist:artist_id",views:{"contents@app.artist":{templateUrl:"/partialArtist/artist.html",controller:"artistPhotoCtrl",controllerAs:"artistPhoto",authenticated:!1}}}).state("app.gallery.show",{url:"/photo_type=:photo_type/photo:photo_id",views:{"contents@app.gallery":{templateUrl:"/partialGallery/photo.html",controller:"galleryPhotoCtrl",controllerAs:"galleryphoto"}}}).state("app.board.show",{url:"/board:board_id",views:{"contents@app.board":{templateUrl:"partialBoard/board.html",controller:"boardCtrl",controllerAs:"board"}}}).state("app.board.create",{url:"/create",views:{"contents@app.board":{templateUrl:"/partialBoard/boardCreate.html",controller:"boardCtrl",controllerAs:"board",authenticated:!0}}}).state("app.board.edit",{url:"/edit/:board_id",views:{"contents@app.board":{templateUrl:"partialBoard/boardUpdate.html",controller:"boardCtrl",controllerAs:"board",authenticated:!0}}}).state("app.gallery.edit",{url:"/edit/:photo_id",views:{"content@":{templateUrl:"/partialGallery/photoEdit.html",controller:"galleryPhotoCtrl",controllerAs:"galleryphoto"}}})}]),app.run(["$rootScope","User","$state",function(e,t,a){e.$on("$stateChangeStart",function(e,a,r,o,s,n){"admin"===a.permission&&t.getPermission().then(function(e){})}),e.$on("$stateChangeError",function(e,t,r,o,s,n){a.go("app")})}]),angular.module("commentControllers",["commentServices"]).controller("commentCtrl",["$scope","$http","$stateParams","$state","$window","Comment",function(e,t,a,r,o,s){var n=a.photo_id;this.createComment=function(t){if(e.main.user.user_id)if(t){var a={comment:t,user_id:e.main.user.user_id,photo_id:n};s.createComment(a).then(function(e){e.data.success&&r.reload()})}else o.alert("댓글을 입력해주세요.");else e.main.login()},e.deleteComment=function(e){var a=e.comment_id;t.delete("/api/comment/"+a).then(function(e){r.reload()})}}]),angular.module("app").controller("ImageCropCtrl",["$scope",function(e){e.myCroppedImage="",e.myImage=void 0,e.crobject={};var t=function(t){var a=t.currentTarget.files[0],r=new FileReader;r.onload=function(t){e.$apply(function(e){e.myImage=t.target.result})},r.readAsDataURL(a)};angular.element(document.querySelector("#fileInput")).on("change",t),this.imageCrop=function(){var t=e.myImage;console.log(t)}}]),angular.module("managementControllers",[]).controller("managementCtrl",function(){console.log("작동 중")}),angular.module("app").directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(t,a,r){var o=e(r.fileModel),s=o.assign;a.bind("change",function(){t.$apply(function(){s(t,a[0].files[0])})})}}}]),angular.module("app").directive("match",function(){return{restrict:"A",controller:["$scope",function(e){e.doConfirm=function(t){e.confirmed=!1,t.forEach(function(t){e.confirm==t?e.confirmed=!0:e.confirmed=!1})}}],link:function(e,t,a){a.$observe("match",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)}),e.$watch("confirm",function(){e.matches=JSON.parse(a.match),e.doConfirm(e.matches)})}}}),angular.module("artistServices",[]).factory("Artist",["$http",function(e){return artistFactory={},artistFactory.readArtistTap=function(){return e.get("/api/artistMenu")},artistFactory.readArtists=function(t){return e.get("/api/artistMenu/"+t)},artistFactory.readArtist=function(t){return e.get("/api/artist/"+t)},artistFactory.createAristPhoto=function(t){return e.post("/api/artistProfiles",t)},artistFactory.updateAristProfile=function(t){return e.put("/api/artistProfiles",t)},artistFactory.readArtistProfile=function(t){return e.get("/api/artistProfiles/"+t)},artistFactory.readAristPhoto=function(t){return e.get("/api/artistPhotos/"+t)},artistFactory}]),angular.module("authServices",[]).factory("Auth",["$http","AuthToken",function(e,t){var a={};return a.getUser=function(){if(t.getToken())return e.post("/api/me");$q.reject({message:"User has no token"})},a.login=function(a){return e.post("/api/authenticate",a).then(function(e){return t.setToken(e.data.token),e})},a.isLoggedIn=function(){return!!t.getToken()},a.logout=function(){t.setToken()},a}]).factory("AuthToken",["$window",function(e){var t={};return t.setToken=function(t){t?e.localStorage.setItem("token",t):e.localStorage.removeItem("token",t)},t.getToken=function(){return e.localStorage.getItem("token")},t}]).factory("AuthInterceptors",["AuthToken",function(e){var t={};return t.request=function(t){var a=e.getToken();return a&&(t.headers["x-access-token"]=a),t},t}]),angular.module("boardServices",[]).factory("Board",["$http",function(e){return boardFactory={},boardFactory.readBoardTap=function(){return e.get("/api/boardMenu")},boardFactory.readBoards=function(t){return e.get("/api/boardMenu/"+t)},boardFactory.readBoard=function(t){return e.get("api/board/"+t)},boardFactory.createBoard=function(t){return e.post("/api/boardMenu",t)},boardFactory}]),angular.module("commentServices",[]).factory("Comment",["$http",function(e){return commentFactory={},commentFactory.createComment=function(t){return e.post("/api/comment",t)},commentFactory.readComment=function(t){return e.get("/api/comment/"+t)},commentFactory.readBoardComment=function(t){return e.get("/api/commentBoard/"+t)},commentFactory}]),angular.module("galleryServices",[]).factory("Gallery",["$http",function(e){return galleryFactory={},galleryFactory.readGalleryTap=function(){return e.get("/api/galleryMenu")},galleryFactory.readPhotos=function(t){return e.get("/api/galleryMenu/"+t)},galleryFactory.readPhotoData=function(t){return e.get("/api/gallery/"+t)},galleryFactory.readMorePhoto=function(t){return e.get("/api/galleryMenu/"+t)},galleryFactory}]),angular.module("userServices",[]).factory("User",["$http",function(e){return userFactory={},userFactory.getPermission=function(){return e.get("/api/permission")},userFactory.create=function(t){return e.post("/api/users",t)},userFactory.activeAccount=function(t){return e.put("/api/activate/"+t)},userFactory.checkCredentials=function(t){return e.post("/api/resend",t)},userFactory.resendLink=function(t){return e.put("/api/resend",t)},userFactory.sendUsername=function(t){return e.get("/api/resetusername/"+t)},userFactory.sendPassword=function(t){return e.put("/api/resetpassword",t)},userFactory.resetPassword=function(t){return e.get("/api/resetpassword/"+t)},userFactory.savePassword=function(t){return e.put("/api/savepassword",t)},userFactory.renewSession=function(t){return e.get("/api/renewToken/"+t)},userFactory.resetPermission=function(t){return e.put("/api/users/",t)},userFactory.checkPermission=function(t){return e.get("/api/users/"+t)},userFactory.readProfiles=function(t){return e.get("/api/userProfiles/"+t)},userFactory.updateProfiles=function(t){return e.put("/api/userProfiles",t)},userFactory}]),angular.module("artistControllers",["userServices","artistServices"]).controller("artistTapCtrl",["$scope","Artist",function(e,t){t.readArtistTap().then(function(t){t.data.success?e.headers=t.data.result:app.errorMsg=t.data.message})}]).controller("artistsCtrl",["$stateParams","Artist",function(e,t){var a=this,r=e.code;a.data={availableOptions:[{sort:"-created",name:"최신순"}],selectedOption:{sort:"-created",name:"최신순"}},t.readArtists(r).then(function(e){e.data.success?a.artistDatas=e.data.result:a.errorMsg=e.data.message})}]).controller("uploadCtrl",["$http","$timeout","$scope","Artist","$state",function(e,t,a,r,o){var s=this;s.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"붓 글씨"},{id:"2",name:"펜 글씨"},{id:"3",name:"미분류"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},this.file={},this.mainPhotoChanged=function(e){if(e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var a=e[0],r=new FileReader;r.readAsDataURL(a),r.onload=function(e){t(function(){s.mainThumbnail={},s.mainThumbnail.dataUrl=e.target.result})}}else s.mainThumbnail={}},this.readPhoto=function(){s.errorMsg=!1,s.disabled=!0,a.$emit("LOAD");var t=new FormData;t.append("myfile",s.file.upload),e.post("/api/uploadTemp/",t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(e){e.data.success?(a.$emit("UNLOAD"),s.disabled=!1,s.successMsg=e.data.message,s.mainImagePath=e.data.photo_path,s.file={}):(a.$emit("UNLOAD"),s.disabled=!1,s.errorMsg=e.data.message,s.file={})})},this.createPhoto=function(e){s.disabled=!1,s.errorMsg=!1,e?void 0===s.uploadData.title||null===s.uploadData.title||""===s.uploadData.title?s.errorMsg="작품의 제목을 입력해주세요.":void 0===s.uploadData.detail||null===s.uploadData.detail||""===s.uploadData.detail?s.errorMsg="작품의 설명을 입력해주세요.":void 0===s.mainImagePath||null===s.mainImagePath||""===s.mainImagePath?s.errorMsg="작품 이미지를 선택해주세요.":"0"===s.data.selectedOption.id?s.errorMsg="작품의 종류를 선택해주세요.":(s.uploadData=e,s.uploadData.user_id=a.main.user.user_id,s.uploadData.photo_type=s.data.selectedOption.id,s.uploadData.photo_path=s.mainImagePath,r.createAristPhoto(s.uploadData).then(function(e){e.data.success?(s.successMsg=e.data.message,s.disabled=!0,t(function(){o.reload()},2e3)):(s.errorMsg=e.data.message,s.successMsg=!1,s.disabled=!1)})):(s.errorMsg="빈칸을 모두 입력해주세요.",s.successMsg=!1)}}]).controller("artistProfileCtrl",["$timeout","Artist","$state","$scope",function(e,t,a,r){var o=this,s=r.main.user.user_id;o.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"붓 글씨"},{id:"2",name:"펜 글씨"},{id:"3",name:"미분류"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},t.readArtistProfile(s).then(function(e){e.data.success?o.artistData=e.data.result:o.errorMsg=e.data.message}),this.updateAristProfile=function(s){console.log("작동 중"),o.errorMsg=!1,s?void 0===o.artistData.short_info||null===o.artistData.short_info||""===o.artistData.short_info?o.errorMsg="한 줄 소개를 입력해주세요.":void 0===o.artistData.detail_info||null===o.artistData.detail_info||""===o.artistData.detail_info?o.errorMsg="상세 소개를 입력해주세요.":(o.artistData=s,o.artistData.user_id=r.main.user.user_id,t.updateAristProfile(o.artistData).then(function(t){t.data.success?(o.errorMsg=!1,o.successMsg=t.data.message,o.disabled=!0,e(function(){a.reload()},2e3)):o.errorMsg="올바르지 않은 값이 입력되었습니다."})):o.errorMsg="필수기재사항을 입력해주세요."}}]).controller("anArtistPhotoCtrl",["Artist","$stateParams","$scope",function(e,t,a){var r=this,o=a.main.user.user_id;e.readArtistProfile(o).then(function(e){e.data.success?r.artistData=e.data.result:r.errorMsg=e.data.message}),e.readAristPhoto(o).then(function(e){e.data.success?r.artistPhotos=e.data.result:r.errorMsg=e.data.message})}]).controller("artistPhotoCtrl",["Artist","$stateParams",function(e,t){var a=this,r=t.artist_id;e.readArtistProfile(r).then(function(e){e.data.success?a.artistData=e.data.result:a.errorMsg=e.data.message}),e.readAristPhoto(r).then(function(e){e.data.success?a.artistPhotos=e.data.result:a.errorMsg=e.data.message})}]),angular.module("boardControllers",["boardServices"]).filter("to_trusted",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]).controller("boardTapCtrl",["Board","$scope",function(e,t){e.readBoardTap().then(function(e){t.headers=e.data})}]).controller("boardsCtrl",["$stateParams","Board","$scope","$state",function(e,t,a,r){var o=this,s=e.code;o.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},t.readBoards(s).then(function(e){o.boardDatas=e.data.result}),this.createBoard=function(e){a.main.user.user_id?r.go("app.board.create"):a.main.login()}}]).controller("boardCtrl",["$stateParams","Board","$scope","$http","$state","$timeout","Comment","$window",function(e,t,a,r,o,s,n,i){var l=this,c=e.board_id;l.data={availableOptions:[{id:"0",name:"카테고리를 선택해주세요."},{id:"1",name:"공지사항"},{id:"2",name:"잡학사전"},{id:"3",name:"질문사항"}],selectedOption:{id:"0",name:"카테고리를 선택해주세요."}},n.readBoardComment(c).then(function(e){e.data.success?l.commentData=e.data.result:l.errorMsg=e.data.message}),this.createComment=function(e){if(a.main.user.user_id)if(e){var t={comment:e,user_id:a.main.user.user_id,board_id:c};n.createComment(t).then(function(e){e.data.success&&o.reload()})}else i.alert("댓글을 입력해주세요.");else a.main.login()},$(document).ready(function(){$("#summernote").summernote({lang:"ko-KR",height:100,minHeight:null,maxHeight:null,focus:!0,placeholder:"댓글은 1,000자까지 작성할 수 있으며 주제와 무관한 댓글, 악성 댓글은 삭제될 수 있습니다.",toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]]]})}),this.createBoard=function(e){if(l.disabled=!0,l.errorMsg=!1,"0"===l.data.selectedOption.id)l.errorMsg="게시글의 종류를 선택해주세요",l.disabled=!1;else if(void 0===e||null===e||""===e)l.errorMsg="제목을 입력해주세요.",l.disabled=!1;else if("<p><br></p>"===$("#summernote").summernote("code")||null===$("#summernote").summernote("code")||void 0===$("#summernote").summernote("code")||""===$("#summernote").summernote("code"))l.errorMsg="내용을 입력해주세요.",l.disabled=!1;else{var r=$("#summernote").summernote("code"),n=l.data.selectedOption.id,i=e.title,c={title:i,content:r,board_type:n,user_id:a.main.user.user_id};t.createBoard(c).then(function(e){e.data.success?(l.successMsg=e.data.message,s(function(){o.go("app.board")},500)):(l.disabled=!1,l.errorMsg=e.data.message)})}},t.readBoard(c).then(function(e){e.data.success?(l.boardDatas=e.data.result,l.htmlcontent=e.data.result.content):l.errorMsg=e.data.message})}]),angular.module("gallertControllers",["galleryServices"]).controller("galleryTapCtrl",["$scope","Gallery",function(e,t){t.readGalleryTap().then(function(t){t.data.success?e.headers=t.data.result:app.errorMsg=t.data.message})}]).controller("galleryPhotosCtrl",["Gallery","$stateParams",function(e,t){var a=this,r=t.code;a.data={availableOptions:[{sort:"-created",name:"최신순"},{sort:"-view",name:"조회순"},{sort:"-comment_count",name:"댓글순"}],selectedOption:{sort:"-created",name:"최신순"}},e.readPhotos(r).then(function(e){e.data.success?a.photoData=e.data.result:a.errorMsg=e.data.message})}]).controller("galleryPhotoCtrl",["$stateParams","Gallery","Comment","$scope","$window","$state",function(e,t,a,r,o,s){var n=this,i=e.photo_id,l=e.photo_type;r.main.user.user_id;t.readPhotoData(i).then(function(e){e.data.success?n.photoData=e.data.result:n.errorMsg=e.data.message}),t.readPhotos(l).then(function(e){e.data.success?n.photosData=e.data.result:n.errorMsg=e.data.message}),a.readComment(i).then(function(e){e.data.success?(n.commentData=e.data.result,console.log(n.commentData)):n.errorMsg=e.data.message}),this.createComment=function(e){if(r.main.user.user_id)if(e){var t={comment:e,user_id:r.main.user.user_id,photo_id:i};a.createComment(t).then(function(e){e.data.success&&s.reload()})}else o.alert("댓글을 입력해주세요.");else r.main.login()}}]),angular.module("app").controller("HomeCtrl",["$http","$scope",function(e,t){t.getContent=function(){e.get("/api/home").then(function(e){t.photos=e.data})}}]),angular.module("mainControllers",["authServices","userServices"]).controller("mainCtrl",["Auth","$timeout","$location","$state","$rootScope","$scope","$window","$interval","User","AuthToken",function(e,t,a,r,o,s,n,i,l,c){var d=this;d.loadme=!1,s.$on("LOAD",function(){s.loading=!0}),s.$on("UNLOAD",function(){s.loading=!1}),o.$on("$stateChangeStart",function(){u||u(),e.isLoggedIn()?(d.isLoggedIn=!0,e.getUser().then(function(e){d.user=e.data,l.getPermission().then(function(e){e.data.success?"admin"===e.data.permission?(d.authorized=!0,d.loadme=!0):"artist"===e.data.permission?(d.permission=!0,d.loadme=!0):(d.permission=!1,d.authorized=!1,d.loadme=!0):(d.permission=!1,d.authorized=!1,d.loadme=!0)})})):(d.user=!1,d.isLoggedIn=!1,d.loadme=!0)});var u=function(){if(e.isLoggedIn()){d.checkSession=!0;var t=i(function(){var e=n.localStorage.getItem("token");if(null===e)i.cancel(t);else{self.parseJwt=function(e){var t=e.split(".")[1],a=t.replace("-","+").replace("_","/");return JSON.parse(n.atob(a))};var a=self.parseJwt(e),r=Math.floor(Date.now()/1e3);a.exp-r<=5&&(m("expired"),i.cancel(t))}},2e3)}};u(),d.renewSession=function(){d.choiceMade=!0,l.renewSession(d.user.username).then(function(e){e.data.success?(c.setToken(e.data.token),u(),p("expired")):(d.ModalBody=e.data.message,p("expired"))})},d.endSession=function(){d.choiceMade=!0,p("expired"),t(function(){m("logout")},500)};var m=function(a){d.choiceMade=!1,d.modalHeader=void 0,d.modalBody=void 0,d.hideButton=!1,"expired"===a?(d.modalHeader="Timeout Warning",d.modalBody="Your session will expired in 5 minutes. Would you like to renew your session?",$("#myModal").modal({backdrop:"static"})):"logout"===a?(d.hideButton=!0,d.modalHeader="로그아웃",$("#myModal").modal({backdrop:"static"}),t(function(){e.logout(),d.isLoggedIn=!1,p("logout"),r.reload()},2e3)):"login"===a?$("#login").modal({backdrop:"static"}):"upload"===a&&$("#upload").modal({backdrop:"static"}),t(function(){d.choiceMade||p("logout")},4e3)},p=function(e){"expired"===e?$("#myModal").modal("hide"):"logout"===e?$("#myModal").modal("hide"):"login"===e?$("#login").modal("hide"):"upload"===e&&$("#upload").modal("hide")};this.doLogin=function(a,o){d.errorMsg=!1,d.expired=!1,d.disabled=!0,o?e.login(d.loginData).then(function(e){e.data.success?(d.disabled=!0,d.successMsg=e.data.message,t(function(){p("login"),d.loginData=null,d.isLoggedIn=!0,u(),r.reload()},2e3)):e.data.expired?(d.expired=!0,d.disabled=!0,d.errorMsg=e.data.message):(d.disabled=!1,d.errorMsg=e.data.message)}):(d.disabled=!1,d.loading=!1,d.errorMsg="올바른 정보를 입력해주세요.")},this.upload=function(){d.choiceMade=!0,"artist"===d.user.permission?r.go("app.artistProfiles"):l.checkPermission(d.user.username).then(function(e){e.data.success?(r.go("app.artistProfiles"),d.permission=!0):m("upload")})},this.doPermission=function(){d.choiceMade=!0,d.uploadDisabled=!0,d.uploaderrorMsg=!1,l.resetPermission(d.user).then(function(e){e.data.success?(d.uploadDisabled=!0,d.uploadSuccessMsg=e.data.message,t(function(){p("upload"),r.go("app.artistProfiles")},2e3)):(d.uploadDisabled=!1,d.uploaderrorMsg="잘못된 정보가 입력되었습니다.")})},d.login=function(){d.successMsg=!1,d.errorMsg=!1,d.disabled=!1,m("login")},d.logout=function(){m("logout")},d.resend=function(){p("login"),t(function(){r.go("resend"),d.expired=!1},500)},d.resetusername=function(){p("login"),t(function(){r.go("resetusername")},500)},d.resetpassword=function(){p("login"),t(function(){r.go("resetpassword")},500)}}]),angular.module("app").controller("mainMenuController",["$http","$scope",function(e,t){e.get("/api/header").then(function(e){t.headers=e.data})}]),angular.module("emailControllers",["userServices"]).controller("emailCtrl",["$stateParams","User","$timeout","$state",function(e,t,a,r){var o=this;t.activeAccount(e.token).then(function(e){o.successMsg=!1,o.errorMsg=!1,e.data.success?(o.disabled=!0,o.successMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3)):(o.errorMsg=e.data.message+"...메인 페이지로 이동합니다.",a(function(){r.go("app")},2e3))})}]).controller("resendCtrl",["User","$timeout","$state",function(e,t,a){app=this,this.checkCredentials=function(r){app.successMsg=!1,app.errorMsg=!1,app.disabled=!0,e.checkCredentials(this.loginData).then(function(r){r.data.success?e.resendLink(app.loginData).then(function(e){e.data.success&&(app.disabled=!0,app.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3))}):(app.disabled=!1,app.errorMsg=r.data.message)})}}]).controller("usernameCtrl",["User","$timeout","$state",function(e,t,a){var r=this;this.sendUsername=function(o,s){r.errorMsg=!1,r.disabled=!0,s?e.sendUsername(r.userData.email).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 이메일 주소가 아닙니다.")}}]).controller("passwordCtrl",["User","$timeout","$state",function(e,t,a){var r=this;r.sendPassword=function(o,s){r.errorMsg=!1,r.disabled=!0,s?e.sendPassword(r.resetData).then(function(e){e.data.success?(r.successMsg=e.data.message+"...메인 페이지로 이동합니다.",t(function(){a.go("app")},2e3)):(r.disabled=!1,r.errorMsg=e.data.message)}):(r.disabled=!1,r.errorMsg="올바른 아이디가 아닙니다.")}}]).controller("resetCtrl",["$stateParams","$scope","User","$timeout","$state",function(e,t,a,r,o){var s=this;s.hide=!0,a.resetPassword(e.token).then(function(e){e.data.success?(s.hide=!1,t.alert="alert alert-success",s.successMsg="새로운 비밀번호를 입력해주세요.",t.username=e.data.user[0].username):(t.alert="alert alert-danger",s.errorMsg=e.data.message)}),s.savePassword=function(e,n,i){s.errorMsg=!1,s.successMsg=!1,s.disabled=!0,s.loading=!0,n&&i?(s.regData.username=t.username,a.savePassword(s.regData).then(function(e){s.loading=!1,e.data.success?(t.alert="alert alert-success",s.successMsg=e.data.message+"...메인 화면으로 이동합니다.",r(function(){o.go("app")},2e3)):(t.alert="alert alert-danger",s.disabled=!1,s.errorMsg=e.data.message)})):(t.alert="alert alert-danger",s.loading=!1,s.disabled=!1,s.errorMsg="올바른 정보를 입력해주세요.")}}]),angular.module("userControllers",["userServices"]).controller("regCtrl",["$http","$location","$timeout","User","Auth","$state",function(e,t,a,r,o,s){var n=this;this.regStep1=function(e){n.errorMsg=!1,e?e.terms&&e.privacy?(n.successMsg="약관에 성공적으로 동의하셨습니다.",n.disabled=!0,s.go("registerStep2")):(n.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다.",n.disabled=!1):n.errorMsg="약관에 동의해야만 회원가입을 진행할 수 있습니다."},this.regStep2=function(e,t,i){n.errorMsg=!1,n.disabled=!0,t&&i?r.create(n.regData).then(function(e){e.data.success?(n.disabled=!0,n.successMsg=e.data.message,o.login(n.regData).then(function(e){e.data.success?(n.disabled=!0,n.successMsg=e.data.message,a(function(){s.go("app")},1e3)):e.data.expired?(n.expired=!0,n.disabled=!0,n.errorMsg=e.data.message):(n.disabled=!1,n.errorMsg=e.data.message)})):(n.disabled=!1,n.errorMsg=e.data.message)}):(n.disabled=!1,n.loading=!1,n.errorMsg="올바른 정보를 입력해주세요.")}}]).controller("profileCtrl",["$scope","User","$timeout","$state","$http",function(e,t,a,r,o){var s=this,n=e.main.user.username;t.readProfiles(n).then(function(e){e.data.success?s.readData=e.data.profiles:s.errorMsg=e.data.message}),this.file={},this.photoChanged=function(e){if(e.length>0&&e[0].name.match(/\.(png|jpeg|jpg)$/)){var t=e[0],r=new FileReader;r.readAsDataURL(t),r.onload=function(e){a(function(){s.thumbnail={},s.thumbnail.dataUrl=e.target.result,s.uploading=!1,s.message=!1})}}else s.thumbnail={},s.message=!1},this.updateProfileImage=function(){s.errorMsg=!1,s.disabled=!0,e.$emit("LOAD");var t=new FormData,n=e.main.user.user_id;t.append("myfile",s.file.upload),o.put("/api/uploadTemp/"+n,t,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(t){t.data.success?(e.$emit("UNLOAD"),s.successMsg=t.data.message,s.file={},a(function(){r.reload()},1e3)):(e.$emit("UNLOAD"),s.disabled=!1,s.errorMsg=t.data.message,s.file={})})},this.updateProfile=function(){s.errorMsg=!1,s.disabled=!0,s.readData.user_id=e.main.user.user_id,t.updateProfiles(s.readData).then(function(e){e.data.success?(s.successMsg=e.data.message,a(function(){r.reload()},2e3)):(s.errorMsg=e.data.message,s.disabled=!1)})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsInJvdXRlLmpzIiwiY29udG9yb2xsZXJzL2NvbW1lbnRDdHJsLmpzIiwiY29udG9yb2xsZXJzL2ltYWdlQ3JvcC5qcyIsImNvbnRvcm9sbGVycy9tYW5hZ2VtZW50Q3RybC5qcyIsImRpcmVjdGl2ZXMvZmlsZU1vZGVsLmpzIiwiZGlyZWN0aXZlcy9tYXRjaFBhc3N3b3JkLmpzIiwic2VydmljZXMvYXJ0aXN0U2VydmljZXMuanMiLCJzZXJ2aWNlcy9hdXRoU2VydmljZXMuanMiLCJzZXJ2aWNlcy9ib2FyZFNlcnZpY2VzLmpzIiwic2VydmljZXMvY29tbWVudFNlcnZpY2VzLmpzIiwic2VydmljZXMvZ2FsbGVyeVNlcnZpY2VzLmpzIiwic2VydmljZXMvdXNlclNlcnZpY2VzLmpzIiwiY29udG9yb2xsZXJzL2NhdGVnb3JpZXMvYXJ0aXN0Q3RybC5qcyIsImNvbnRvcm9sbGVycy9jYXRlZ29yaWVzL2JvYXJkQ3RybC5qcyIsImNvbnRvcm9sbGVycy9jYXRlZ29yaWVzL2dhbGxlcnlDdHJsLmpzIiwiY29udG9yb2xsZXJzL2NhdGVnb3JpZXMvaG9tZUN0cmwuanMiLCJjb250b3JvbGxlcnMvbWFpbi9tYWluQ3RybC5qcyIsImNvbnRvcm9sbGVycy9tYWluL21lbnVDdHJsLmpzIiwiY29udG9yb2xsZXJzL3VzZXIvZW1haWxDdHJsLmpzIiwiY29udG9yb2xsZXJzL3VzZXIvdXNlckN0cmwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRodHRwUHJvdmlkZXIiLCJpbnRlcmNlcHRvcnMiLCJwdXNoIiwiYXBwIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIm90aGVyd2lzZSIsImhhc2hQcmVmaXgiLCJodG1sNU1vZGUiLCJzdGF0ZSIsInVybCIsInZpZXdzIiwiaGVhZGVyIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwiY29udGVudCIsImZvb3RlciIsImNvbnRyb2xsZXJBcyIsInBlcm1pc3Npb24iLCJhdXRoZW50aWNhdGVkIiwiY29udGVudEAiLCJtZW51QGFwcC5hcnRpc3QiLCJjb250ZW50c0BhcHAuYXJ0aXN0IiwibWVudUBhcHAuZ2FsbGVyeSIsImNvbnRlbnRzQGFwcC5nYWxsZXJ5IiwibWVudUBhcHAuYm9hcmQiLCJjb250ZW50c0BhcHAuYm9hcmQiLCJtZW51QGFwcC5kaXNwbGF5IiwiY29udGVudHNAYXBwLmRpc3BsYXkiLCJydW4iLCIkcm9vdFNjb3BlIiwiVXNlciIsIiRzdGF0ZSIsIiRvbiIsImV2ZW50IiwidG9TdGF0ZSIsInRvUGFyYW1zIiwiZnJvbVN0YXRlIiwiZnJvbVBhcmFtcyIsIm9wdGlvbnMiLCJnZXRQZXJtaXNzaW9uIiwidGhlbiIsImRhdGEiLCJlcnJvciIsImdvIiwiJHNjb3BlIiwiJGh0dHAiLCIkc3RhdGVQYXJhbXMiLCIkd2luZG93IiwiQ29tbWVudCIsInBob3RvX2lkIiwidGhpcyIsImNyZWF0ZUNvbW1lbnQiLCJtYWluIiwidXNlciIsInVzZXJfaWQiLCJjb21tZW50RGF0YSIsImNvbW1lbnQiLCJzdWNjZXNzIiwicmVsb2FkIiwiYWxlcnQiLCJsb2dpbiIsImRlbGV0ZUNvbW1lbnQiLCJyZXNwb25zZSIsImlkIiwiY29tbWVudF9pZCIsImRlbGV0ZSIsIm15Q3JvcHBlZEltYWdlIiwibXlJbWFnZSIsInVuZGVmaW5lZCIsImNyb2JqZWN0IiwiaGFuZGxlRmlsZVNlbGVjdCIsImV2dCIsImZpbGUiLCJjdXJyZW50VGFyZ2V0IiwiZmlsZXMiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiJGFwcGx5IiwidGFyZ2V0IiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsImVsZW1lbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJvbiIsImltYWdlQ3JvcCIsImltZ0Jsb2IiLCJjb25zb2xlIiwibG9nIiwiZGlyZWN0aXZlIiwiJHBhcnNlIiwicmVzdHJpY3QiLCJsaW5rIiwic2NvcGUiLCJhdHRycyIsInBhcnNlZEZpbGUiLCJmaWxlTW9kZWwiLCJwYXJzZWRmaWxlU2V0dGVyIiwiYXNzaWduIiwiYmluZCIsImRvQ29uZmlybSIsInZhbHVlcyIsImNvbmZpcm1lZCIsImZvckVhY2giLCJlbGUiLCJjb25maXJtIiwiJG9ic2VydmUiLCJtYXRjaGVzIiwiSlNPTiIsInBhcnNlIiwibWF0Y2giLCIkd2F0Y2giLCJmYWN0b3J5IiwiYXJ0aXN0RmFjdG9yeSIsInJlYWRBcnRpc3RUYXAiLCJnZXQiLCJyZWFkQXJ0aXN0cyIsInVzZXJfdHlwZSIsInJlYWRBcnRpc3QiLCJhcnRpc3RfaWQiLCJjcmVhdGVBcmlzdFBob3RvIiwicGhvdG9EYXRhIiwicG9zdCIsInVwZGF0ZUFyaXN0UHJvZmlsZSIsImFydGlzdERhdGEiLCJwdXQiLCJyZWFkQXJ0aXN0UHJvZmlsZSIsInJlYWRBcmlzdFBob3RvIiwiQXV0aFRva2VuIiwiYXV0aEZhY3RvcnkiLCJnZXRVc2VyIiwiZ2V0VG9rZW4iLCIkcSIsInJlamVjdCIsIm1lc3NhZ2UiLCJsb2dpbkRhdGEiLCJzZXRUb2tlbiIsInRva2VuIiwiaXNMb2dnZWRJbiIsImxvZ291dCIsImF1dGhUb2tlbkZhY3RvcnkiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImdldEl0ZW0iLCJhdXRoSW50ZXJjZXB0b3JzRmFjdG9yeSIsInJlcXVlc3QiLCJoZWFkZXJzIiwiYm9hcmRGYWN0b3J5IiwicmVhZEJvYXJkVGFwIiwicmVhZEJvYXJkcyIsImJvYXJkX3R5cGUiLCJyZWFkQm9hcmQiLCJib2FyZF9pZCIsImNyZWF0ZUJvYXJkIiwiYm9hcmREYXRhIiwiY29tbWVudEZhY3RvcnkiLCJyZWFkQ29tbWVudCIsInJlYWRCb2FyZENvbW1lbnQiLCJnYWxsZXJ5RmFjdG9yeSIsInJlYWRHYWxsZXJ5VGFwIiwicmVhZFBob3RvcyIsInBob3RvX3R5cGUiLCJyZWFkUGhvdG9EYXRhIiwicmVhZE1vcmVQaG90byIsInVzZXJGYWN0b3J5IiwiY3JlYXRlIiwicmVnRGF0YSIsImFjdGl2ZUFjY291bnQiLCJjaGVja0NyZWRlbnRpYWxzIiwicmVzZW5kTGluayIsInVzZXJuYW1lIiwic2VuZFVzZXJuYW1lIiwidXNlckRhdGEiLCJzZW5kUGFzc3dvcmQiLCJyZXNldERhdGEiLCJyZXNldFBhc3N3b3JkIiwic2F2ZVBhc3N3b3JkIiwicmVuZXdTZXNzaW9uIiwicmVzZXRQZXJtaXNzaW9uIiwiY2hlY2tQZXJtaXNzaW9uIiwicmVhZFByb2ZpbGVzIiwidXBkYXRlUHJvZmlsZXMiLCJ1cGRhdGVEYXRhIiwiQXJ0aXN0IiwiZXJyb3JNc2ciLCJjb2RlIiwiYXZhaWxhYmxlT3B0aW9ucyIsInNvcnQiLCJuYW1lIiwic2VsZWN0ZWRPcHRpb24iLCJhcnRpc3REYXRhcyIsIiR0aW1lb3V0IiwibWFpblBob3RvQ2hhbmdlZCIsImxlbmd0aCIsImZpbGVSZWFkZXIiLCJlIiwibWFpblRodW1ibmFpbCIsImRhdGFVcmwiLCJyZWFkUGhvdG8iLCJkaXNhYmxlZCIsIiRlbWl0IiwiZmQiLCJGb3JtRGF0YSIsImFwcGVuZCIsInVwbG9hZCIsInRyYW5zZm9ybVJlcXVlc3QiLCJpZGVudGl0eSIsIkNvbnRlbnQtVHlwZSIsInN1Y2Nlc3NNc2ciLCJtYWluSW1hZ2VQYXRoIiwicGhvdG9fcGF0aCIsImNyZWF0ZVBob3RvIiwidXBsb2FkRGF0YSIsInRpdGxlIiwiZGV0YWlsIiwic2hvcnRfaW5mbyIsImRldGFpbF9pbmZvIiwiYXJ0aXN0UGhvdG9zIiwiZmlsdGVyIiwiJHNjZSIsInRleHQiLCJ0cnVzdEFzSHRtbCIsIkJvYXJkIiwiYm9hcmREYXRhcyIsIiQiLCJyZWFkeSIsInN1bW1lcm5vdGUiLCJsYW5nIiwiaGVpZ2h0IiwibWluSGVpZ2h0IiwibWF4SGVpZ2h0IiwiZm9jdXMiLCJwbGFjZWhvbGRlciIsInRvb2xiYXIiLCJodG1sY29udGVudCIsIkdhbGxlcnkiLCJwaG90b3NEYXRhIiwiZ2V0Q29udGVudCIsInBob3RvcyIsIkF1dGgiLCIkbG9jYXRpb24iLCIkaW50ZXJ2YWwiLCJsb2FkbWUiLCJsb2FkaW5nIiwiY2hlY2tTZXNzaW9uIiwiYXV0aG9yaXplZCIsImludGVydmFsIiwiY2FuY2VsIiwic2VsZiIsInBhcnNlSnd0IiwiYmFzZTY0VXJsIiwic3BsaXQiLCJiYXNlNjQiLCJyZXBsYWNlIiwiYXRvYiIsImV4cGlyZVRpbWUiLCJ0aW1lU3RhbXAiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwiZXhwIiwic2hvd01vZGFsIiwiY2hvaWNlTWFkZSIsImhpZGVNb2RhbCIsIk1vZGFsQm9keSIsImVuZFNlc3Npb24iLCJvcHRpb24iLCJtb2RhbEhlYWRlciIsIm1vZGFsQm9keSIsImhpZGVCdXR0b24iLCJtb2RhbCIsImJhY2tkcm9wIiwiZG9Mb2dpbiIsInZhbGlkIiwiZXhwaXJlZCIsImRvUGVybWlzc2lvbiIsInVwbG9hZERpc2FibGVkIiwidXBsb2FkZXJyb3JNc2ciLCJ1cGxvYWRTdWNjZXNzTXNnIiwicmVzZW5kIiwicmVzZXR1c2VybmFtZSIsInJlc2V0cGFzc3dvcmQiLCJlbWFpbCIsImhpZGUiLCJyZWdTdGVwMSIsInJlZ1N0ZXAyIiwicmVhZERhdGEiLCJwcm9maWxlcyIsInBob3RvQ2hhbmdlZCIsInRodW1ibmFpbCIsInVwbG9hZGluZyIsInVwZGF0ZVByb2ZpbGVJbWFnZSIsInVwZGF0ZVByb2ZpbGUiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLE9BQ0EsWUFDQSxlQUNBLGtCQUNBLGtCQUNBLG1CQUNBLG9CQUNBLHFCQUNBLHFCQUNBLG1CQUNBLHdCQUNBLGNBQ0FDLFFBQUEsZ0JBQUEsU0FBQUMsR0FDQUEsRUFBQUMsYUFBQUMsS0FBQSxzQkNiQSxJQUFBQyxLQUFBTixRQUFBQyxPQUFBLE1BQ0FLLEtBQUFKLFFBQUEsaUJBQUEscUJBQUEsb0JBQUEsU0FBQUssRUFBQUMsRUFBQUMsR0FDQUQsRUFBQUUsVUFBQSxLQUVBRCxFQUFBRSxXQUFBLElBQ0FGLEVBQUFHLFdBQUEsR0FFQUwsRUFDQU0sTUFBQSxPQUNBQyxJQUFBLElB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QUFBb1MsV0FBQSxFQUNBcFMsRUFBQXNJLFNBQUEsU0FJQXRJLEdBQUFtUyxhQUNBblMsRUFBQXNJLFNBQUEsR0FLQXJGLEtBQUFvUCxtQkFBQSxXQUNBclMsRUFBQXlMLFVBQUEsRUFDQXpMLEVBQUF3TSxVQUFBLEVBQ0E3SixFQUFBOEosTUFBQSxPQUNBLElBQUFDLEdBQUEsR0FBQUMsVUFDQXRKLEVBQUFWLEVBQUFRLEtBQUFDLEtBQUFDLE9BQ0FxSixHQUFBRSxPQUFBLFNBQUE1TSxFQUFBdUUsS0FBQXNJLFFBQ0FqSyxFQUFBaUYsSUFBQSxtQkFBQXhFLEVBQUFxSixHQUNBSSxpQkFBQXBOLFFBQUFxTixTQUNBNUQsU0FBQTZELG1CQUFBN0ksTUFDQTVCLEtBQUEsU0FBQUMsR0FDQUEsRUFBQUEsS0FBQWdCLFNBQ0FiLEVBQUE4SixNQUFBLFVBQ0F6TSxFQUFBaU4sV0FBQXpLLEVBQUFBLEtBQUE4RixRQUNBdEksRUFBQXVFLFFBQ0F5SCxFQUFBLFdBQ0FsSyxFQUFBMkIsVUFDQSxPQUVBZCxFQUFBOEosTUFBQSxVQUNBek0sRUFBQXdNLFVBQUEsRUFDQXhNLEVBQUF5TCxTQUFBakosRUFBQUEsS0FBQThGLFFBQ0F0SSxFQUFBdUUsWUFNQXRCLEtBQUFxUCxjQUFBLFdBQ0F0UyxFQUFBeUwsVUFBQSxFQUNBekwsRUFBQXdNLFVBQUEsRUFDQXhNLEVBQUFnUyxTQUFBM08sUUFBQVYsRUFBQVEsS0FBQUMsS0FBQUMsUUFDQXhCLEVBQUF5SixlQUFBdEwsRUFBQWdTLFVBQUF6UCxLQUFBLFNBQUFDLEdBQ0FBLEVBQUFBLEtBQUFnQixTQUNBeEQsRUFBQWlOLFdBQUF6SyxFQUFBQSxLQUFBOEYsUUFDQTBELEVBQUEsV0FDQWxLLEVBQUEyQixVQUNBLE9BRUF6RCxFQUFBeUwsU0FBQWpKLEVBQUFBLEtBQUE4RixRQUNBdEksRUFBQXdNLFVBQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoJ2FwcCcsW1xyXG4gICAgJ3VpLnJvdXRlcicsXHJcbiAgICAndWkuYm9vdHN0cmFwJyxcclxuICAgICd1c2VyQ29udHJvbGxlcnMnLFxyXG4gICAgJ21haW5Db250cm9sbGVycycsXHJcbiAgICAnZW1haWxDb250cm9sbGVycycsXHJcbiAgICAnYXJ0aXN0Q29udHJvbGxlcnMnLFxyXG4gICAgJ2dhbGxlcnRDb250cm9sbGVycycsXHJcbiAgICAnY29tbWVudENvbnRyb2xsZXJzJyxcclxuICAgICdib2FyZENvbnRyb2xsZXJzJyxcclxuICAgICdtYW5hZ2VtZW50Q29udHJvbGxlcnMnLFxyXG4gICAgJ3VpQ3JvcHBlcidcclxuXSkuY29uZmlnKGZ1bmN0aW9uKCRodHRwUHJvdmlkZXIpe1xyXG4gICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goJ0F1dGhJbnRlcmNlcHRvcnMnKTtcclxufSk7XHJcbiIsInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XHJcbmFwcC5jb25maWcoZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XHJcbiR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcbi8vICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuJGxvY2F0aW9uUHJvdmlkZXIuaGFzaFByZWZpeCgnJyk7IC8vIGJ5IGRlZmF1bHQgJyEnXHJcbiRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxuXHJcbiAkc3RhdGVQcm92aWRlclxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwJywge1xyXG4gICAgICAgICAgICAgdXJsOiAnLycsXHJcbiAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICdoZWFkZXInOiB7XHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21lbnVlcy9tYWluTWVudS5odG1sJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ21haW5NZW51Q29udHJvbGxlcidcclxuICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiB7XHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21haW4vaG9tZS5odG1sJ1xyXG4gICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAnZm9vdGVyJzoge1xyXG4gICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jb21wYW55L2Zvb3Rlci5odG1sJ1xyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ21hbmFnZW1lbnQnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOicvbWFuYWdlbWVudCcsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvbWFuYWdlbWVudC9tYW5hZ2VtZW50Lmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtYW5hZ2VtZW50Q3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnbWFuYWdlbWVudCcsXHJcbiAgICAgICAgICAgICAgcGVybWlzc2lvbjogJ2FkbWluJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZWdpc3RlclN0ZXAxJyxcclxuICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL3JlZ2lzdGVyL3N0ZXAxJyxcclxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlZ0N0cmwnLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZWdpc3RlcicsXHJcbiAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL2lzTG9nZ2VkT3V0L3JlZ2lzdGVyU3RlcDEuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3JlZ2lzdGVyU3RlcDInLFxyXG4gICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICB1cmw6ICcvcmVnaXN0ZXIvc3RlcDInLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVnQ3RybCcsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3JlZ2lzdGVyJyxcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvaXNMb2dnZWRPdXQvcmVnaXN0ZXJTdGVwMi5odG1sJyxcclxuICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgncmVzZXR1c2VybmFtZScsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZXR1c2VybmFtZScsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvdXNlcnMvcmVzZXQvdXNlcm5hbWUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3VzZXJuYW1lQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAndXNlcm5hbWUnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Jlc2V0cGFzc3dvcmQnLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnL3Jlc2V0cGFzc3dvcmQnLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL3Jlc2V0L3Bhc3N3b3JkLmh0bWwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwYXNzd29yZEN0cmwnLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Bhc3N3b3JkJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdyZXNldCcsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZXQvOnRva2VuJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9yZXNldC9uZXdwYXNzd29yZC5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVzZXRDdHJsJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdyZXNldCdcclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FjdGl2YXRlJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDogJy9hY3RpdmF0ZS86dG9rZW4nLFxyXG4gICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3VzZXJzL2FjdGl2YXRpb24vYWN0aXZhdGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2VtYWlsQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZW1haWwnXHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ3Jlc2VuZCcsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICcvcmVzZW5kJyxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy91c2Vycy9hY3RpdmF0aW9uL3Jlc2VuZC5odG1sJyxcclxuICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVzZW5kQ3RybCcsXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAncmVzZW5kJ1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcblxyXG4gIC8vIOycoOyggCDtlITroZztlYQg66qo7JWEIOuGk+ydgCDqs7MgIC8g6rOE7KCVIOygleuztFxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwLnByb2ZpbGVzJywge1xyXG4gICAgICAgICAgICAgdXJsOiAncHJvZmlsZXMnLFxyXG4gICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2lzTG9nZ2VkSW4vdXNlclByb2ZpbGVzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3Byb2ZpbGVDdHJsJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ3Byb2ZpbGUnLFxyXG4gICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuLy8g7J6R6rCAIOyeke2SiCDrqqjslYQg64aT7J2AIOqzs1xyXG4gICAgICAgICAgLnN0YXRlKCdhcHAucGhvdG9zJywge1xyXG4gICAgICAgICAgICB1cmw6ICdwaG90b3MnLFxyXG4gICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdpc0xvZ2dlZEluL2FydGlzdFBob3Rvcy5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhbkFydGlzdFBob3RvQ3RybCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhbkFydGlzdFBob3RvJyxcclxuICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfSlcclxuXHJcbi8vIOuTseuhneuQnCDsnpHqsIDsnZgg7J6R7ZKIIOyXheuhnOuTnCAmIOyekeqwgCDtlITroZztlYRcclxuICAgICAgICAgICAuc3RhdGUoJ2FwcC5hcnRpc3RQcm9maWxlcycsIHtcclxuICAgICAgICAgICAgIHVybDogJ2FydGlzdCcsXHJcbiAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnaXNMb2dnZWRJbi9hcnRpc3RQcm9maWxlcy5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhcnRpc3RQcm9maWxlQ3RybCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhcnRpc3RQcm9maWxlJyxcclxuICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWVcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuaW50cm8nLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnaW50cm8nLFxyXG4gICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvY29tcGFueS9pbnRyby5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC50ZXJtcycsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB1cmw6ICd0ZXJtcycsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jb21wYW55L3Rlcm1zLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwLnByaXZhY3knLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgdXJsOiAncHJpdmFjeScsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRAJzoge1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9jb21wYW55L3ByaXZhY3kuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PSAgYXJ0aXN0IC8gZ2FsbGVyeSAvIGV4aGliaXRpb24gLyBib2FyZCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXHJcbi8vID09PT09PT09PT09PT09PT09PSAgYXJ0aXN0IOy5tO2FjOqzoOumrCA9PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXHJcblxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcC5hcnRpc3QnLCB7XHJcbiAgICAgICAgICAgICAgdXJsOiAnYXJ0aXN0L2NhdGVnb3J5PTpjb2RlJyxcclxuICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21haW4vZm9ybS5odG1sJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICdtZW51QGFwcC5hcnRpc3QnOntcclxuICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEFydGlzdC9hcnRpc3RUYXAuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhcnRpc3RUYXBDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnYXJ0aXN0VGFwJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLmFydGlzdCc6e1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsQXJ0aXN0L2FydGlzdHMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdhcnRpc3RzQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2FydGlzdHMnLFxyXG4gICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgLnN0YXRlKCdhcHAuZ2FsbGVyeScsIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnZ2FsbGVyeS9jYXRlZ29yeT06Y29kZScsXHJcbiAgICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgICAnY29udGVudEAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2Zvcm0uaHRtbCdcclxuICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICdtZW51QGFwcC5nYWxsZXJ5Jzp7XHJcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsR2FsbGVyeS9nYWxsZXJ5VGFwLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dhbGxlcnlUYXBDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dhbGxlcnlUYXAnXHJcbiAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLmdhbGxlcnknOntcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxHYWxsZXJ5L3Bob3Rvcy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdnYWxsZXJ5UGhvdG9zQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdnYWxsZXJ5UGhvdG9zJyxcclxuICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgLnN0YXRlKCdhcHAuYm9hcmQnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdib2FyZC9jYXRlZ29yeT06Y29kZScsXHJcbiAgICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9tYWluL2Zvcm0uaHRtbCdcclxuICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgJ21lbnVAYXBwLmJvYXJkJzp7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEJvYXJkL2JvYXJkVGFwLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdib2FyZFRhcEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAuYm9hcmQnOntcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJy9wYXJ0aWFsQm9hcmQvYm9hcmRzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdib2FyZHNDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdib2FyZHMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAuc3RhdGUoJ2FwcC5kaXNwbGF5Jywge1xyXG4gICAgICAgICAgICAgICB1cmw6ICdkaXNwbGF5L2NhdGVnb3J5PTpjb2RlJyxcclxuICAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgICdjb250ZW50QCc6IHtcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL21haW4vZm9ybS5odG1sJ1xyXG4gICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgJ21lbnVAYXBwLmRpc3BsYXknOntcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxEaXNwbGF5L2Rpc3BsYXlUYXAuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZGlzcGxheU1lbnVDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAnY29udGVudHNAYXBwLmRpc3BsYXknOntcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxEaXNwbGF5L2NvbnRlbnQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZGlzcGxheU1lbnVDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAuc3RhdGUoJ2FwcC5hcnRpc3Quc2hvdycsIHtcclxuICAgICAgICAgICAgICAgdXJsOiAnL2FydGlzdDphcnRpc3RfaWQnLFxyXG4gICAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5hcnRpc3QnOntcclxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnL3BhcnRpYWxBcnRpc3QvYXJ0aXN0Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2FydGlzdFBob3RvQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdhcnRpc3RQaG90bycsXHJcbiAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwLmdhbGxlcnkuc2hvdycsIHtcclxuICAgICAgICAgICAgIHVybDogJy9waG90b190eXBlPTpwaG90b190eXBlL3Bob3RvOnBob3RvX2lkJyxcclxuICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5nYWxsZXJ5Jzp7XHJcbiAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEdhbGxlcnkvcGhvdG8uaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dhbGxlcnlQaG90b0N0cmwnLFxyXG4gICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2dhbGxlcnlwaG90bycsXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgLnN0YXRlKCdhcHAuYm9hcmQuc2hvdycsXHJcbiAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgdXJsOiAnL2JvYXJkOmJvYXJkX2lkJyxcclxuICAgICAgICAgICAgIHZpZXdzOntcclxuICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5ib2FyZCc6e1xyXG4gICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncGFydGlhbEJvYXJkL2JvYXJkLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdib2FyZEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2JvYXJkJyxcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH0pXHJcblxyXG5cclxuICAgICAgICAgICAgLnN0YXRlKCdhcHAuYm9hcmQuY3JlYXRlJyxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgIHVybDonL2NyZWF0ZScsXHJcbiAgICAgICAgICAgICAgdmlld3M6e1xyXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnRzQGFwcC5ib2FyZCc6e1xyXG4gICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDonL3BhcnRpYWxCb2FyZC9ib2FyZENyZWF0ZS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2JvYXJkQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJ2JvYXJkJyxcclxuICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlZDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuXHJcblxyXG4gICAgICAgICAgIC5zdGF0ZSgnYXBwLmJvYXJkLmVkaXQnLFxyXG4gICAgICAgICAgIHtcclxuICAgICAgICAgICAgIHVybDogJy9lZGl0Lzpib2FyZF9pZCcsXHJcbiAgICAgICAgICAgICB2aWV3czp7XHJcbiAgICAgICAgICAgICAgICdjb250ZW50c0BhcHAuYm9hcmQnOntcclxuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdwYXJ0aWFsQm9hcmQvYm9hcmRVcGRhdGUuaHRtbCcsXHJcbiAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdib2FyZEN0cmwnLFxyXG4gICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICdib2FyZCcsXHJcbiAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWVcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pXG5cbiAgICAgICAgIC5zdGF0ZSgnYXBwLmdhbGxlcnkuZWRpdCcsIHtcbiAgICAgICAgICAgdXJsOiAnL2VkaXQvOnBob3RvX2lkJyxcbiAgICAgICAgICAgdmlld3M6e1xuICAgICAgICAgICAgICdjb250ZW50QCc6e1xuICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICcvcGFydGlhbEdhbGxlcnkvcGhvdG9FZGl0Lmh0bWwnLFxuICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2dhbGxlcnlQaG90b0N0cmwnLFxuICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnZ2FsbGVyeXBob3RvJyxcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgIH1cbiAgICAgICAgIH0pO1xuXHJcbn0pO1xuXG5hcHAucnVuKGZ1bmN0aW9uKCRyb290U2NvcGUsIFVzZXIsICRzdGF0ZSl7XG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsICBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgb3B0aW9ucyl7XG4gICAgaWYodG9TdGF0ZS5wZXJtaXNzaW9uID09PSAnYWRtaW4nKXtcbiAgICAgIFVzZXIuZ2V0UGVybWlzc2lvbigpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgIH1cbiAgfSk7XG4gICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsICBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgZXJyb3Ipe1xuICAgICRzdGF0ZS5nbygnYXBwJyk7XG4gIH0pO1xufSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnY29tbWVudENvbnRyb2xsZXJzJyxbJ2NvbW1lbnRTZXJ2aWNlcyddKVxyXG4uY29udHJvbGxlcignY29tbWVudEN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJHN0YXRlUGFyYW1zLCAkc3RhdGUsICR3aW5kb3csIENvbW1lbnQpIHtcclxuICAvLyBpZOyXkCDtlbTri7ntlZjripQg6rCS7J2EIOuztOyXrOyjvOuKlCDtlajsiJhcclxuICAvLyDqsJLsnYQg6rCA7KC47Jik64qUIO2VqOyImFxyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHZhciBwaG90b19pZCA9ICRzdGF0ZVBhcmFtcy5waG90b19pZDtcclxuXHJcbiAgLy8g7L2U66mY7Yq4IOyDneyEse2VmOq4sFxyXG4gIC8vIOyekeuPmeydtCDtlYTsmpTtlZjrqbQg7JWE7J2065SU656RIOuMk+q4gCDrgrTsmqkg6re466as6rOgIHBob3RvX2lkXHJcbiAgICB0aGlzLmNyZWF0ZUNvbW1lbnQgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoISRzY29wZS5tYWluLnVzZXIudXNlcl9pZCl7XHJcbiAgICAgICAgJHNjb3BlLm1haW4ubG9naW4oKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZighZGF0YSl7XHJcbiAgICAgICAgICAkd2luZG93LmFsZXJ0KCfrjJPquIDsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YXIgY29tbWVudERhdGEgPSB7XHJcbiAgICAgICAgICAgIGNvbW1lbnQgOiBkYXRhLFxyXG4gICAgICAgICAgICB1c2VyX2lkIDogJHNjb3BlLm1haW4udXNlci51c2VyX2lkLFxyXG4gICAgICAgICAgICBwaG90b19pZCA6IHBob3RvX2lkXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIENvbW1lbnQuY3JlYXRlQ29tbWVudChjb21tZW50RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG59O1xyXG5cclxuICAgICAgLy8gaWYodmFsaWQpe1xyXG4gICAgICAvLyAgIENvbW1lbnQuY3JlYXRlQ29tbWVudChhcHAucmVzcG9uc2UpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIC8vXHJcbiAgICAgIC8vXHJcbiAgICAgIC8vICAgfSk7XHJcbiAgICAgIC8vIH0gZWxzZSB7XHJcbiAgICAgIC8vICAgYXBwLmVycm9yTXNnID0gJyc7XHJcbiAgICAgIC8vIH1cclxuICAgICAgLy8gaWYodmFsaWQpe1xyXG4gICAgICAvLyAgIHZhciBib2FyZF9pZCA9IHJlc3BvbnNlLmJvYXJkX2lkO1xyXG4gICAgICAvLyAgIHZhciBwaG90b19pZCA9IHJlc3BvbnNlLnBob3RvX2lkO1xyXG4gICAgICAvLyAgIHZhciBjb21tZW50ICA9IHJlc3BvbnNlLmNvbW1lbnQ7XHJcbiAgICAgIC8vICAgICRodHRwLnBvc3QoJy9hcGkvY29tbWVudCcsIHtcclxuICAgICAgLy8gICAgICBib2FyZF9pZDogYm9hcmRfaWQsIHBob3RvX2lkOiBwaG90b19pZCwgY29tbWVudDogY29tbWVudFxyXG4gICAgICAvLyAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgLy8gICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgIC8vICAgIH0pO1xyXG4gICAgICAvLyB9IGVsc2Uge1xyXG4gICAgICAvLyAgICR3aW5kb3cuYWxlcnQoXCLrjJPquIDsnYQg7J6F66Cl7ZW07KO87IS47JqULlwiKTtcclxuICAgICAgLy8gfVxyXG5cclxuXHJcblxyXG4gICAgLy8gdmFyIGFwcCA9IHRoaXM7XHJcbiAgICAvLyB2YXIgdXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuICAgIC8vXHJcbiAgICAvLyAgIEFydGlzdC5yZWFkQXJ0aXN0UHJvZmlsZSh1c2VyX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgLy8gICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgIC8vICAgICAgIGFwcC5hcnRpc3REYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICB9KTtcclxuICAgIC8vXHJcbiAgICAvL1xyXG4gICAgLy9cclxuICAgIC8vIHZhciBib2FyZF9pZCA9ICRzdGF0ZVBhcmFtcy5ib2FyZF9pZDtcclxuICAgIC8vIHZhciBpZCA9IFwiXCI7XHJcbiAgICAvL1xyXG4gICAgLy8gdmFyIGRhdGEgPSB7XHJcbiAgICAvLyAgIHBob3RvX2lkOnBob3RvX2lkLFxyXG4gICAgLy8gICBib2FyZF9pZDpib2FyZF9pZFxyXG4gICAgLy8gfTtcclxuICAgIC8vXHJcbiAgICAvLyB2YXIgY29uZmlnID0ge1xyXG4gICAgLy8gICBwYXJhbXM6IGRhdGEsXHJcbiAgICAvLyAgIGhlYWRlcnMgOiB7J0FjY2VwdCcgOiAnYXBwbGljYXRpb24vanNvbid9XHJcbiAgICAvLyB9O1xyXG4gICAgLy9cclxuICAgIC8vIGlmKHBob3RvX2lkKXtcclxuICAgIC8vICAgaWQgPSBwaG90b19pZDtcclxuICAgIC8vICAgJGh0dHAuZ2V0KCcvYXBpL2NvbW1lbnQvJytpZCwgY29uZmlnKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgIC8vICAgICAkc2NvcGUuY29tbWVudHMgPSByZXNwb25zZS5kYXRhWzBdO1xyXG4gICAgLy8gICB9KTtcclxuICAgIC8vIH1cclxuICAgIC8vIGVsc2UgaWYoYm9hcmRfaWQpe1xyXG4gICAgLy8gICBpZCA9IGJvYXJkX2lkO1xyXG4gICAgLy8gICAkaHR0cC5nZXQoJy9hcGkvY29tbWVudC8nK2lkLCBjb25maWcpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgLy8gICAgICRzY29wZS5jb21tZW50cyA9IHJlc3BvbnNlLmRhdGFbMF07XHJcbiAgICAvLyAgIH0pO1xyXG4gICAgLy8gfSBlbHNlIHtcclxuICAgIC8vICAgICAkc2NvcGUuY29tbWVudHMgPSAn7Iuc7Iqk7YWc7J20IOu2iOyViOygle2VqeuLiOuLpC4nO1xyXG4gICAgLy8gfVxyXG4gIC8vIC8vIOy9lOupmO2KuCDsg53shLHtlZjquLBcclxuICAvLyAgICRzY29wZS5hZGRDb21tZW50ID0gZnVuY3Rpb24ocmVzcG9uc2UsIHZhbGlkKXtcclxuICAvLyAgICAgaWYodmFsaWQpe1xyXG4gIC8vICAgICAgIHZhciBib2FyZF9pZCA9IHJlc3BvbnNlLmJvYXJkX2lkO1xyXG4gIC8vICAgICAgIHZhciBwaG90b19pZCA9IHJlc3BvbnNlLnBob3RvX2lkO1xyXG4gIC8vICAgICAgIHZhciBjb21tZW50ICA9IHJlc3BvbnNlLmNvbW1lbnQ7XHJcbiAgLy8gICAgICAgICRodHRwLnBvc3QoJy9hcGkvY29tbWVudCcsIHtcclxuICAvLyAgICAgICAgICBib2FyZF9pZDogYm9hcmRfaWQsIHBob3RvX2lkOiBwaG90b19pZCwgY29tbWVudDogY29tbWVudFxyXG4gIC8vICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAvLyAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgLy8gICAgICAgIH0pO1xyXG4gIC8vICAgICB9IGVsc2Uge1xyXG4gIC8vICAgICAgICR3aW5kb3cuYWxlcnQoXCLrjJPquIDsnYQg7J6F66Cl7ZW07KO87IS47JqULlwiKTtcclxuICAvLyAgICAgfVxyXG4gIC8vXHJcbiAgLy8gICB9O1xyXG5cclxuXHJcbiAgLy8g6rCS7J2EIOyCreygnO2VmOuKlCDtlajsiJhcclxuICAkc2NvcGUuZGVsZXRlQ29tbWVudCA9IGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgIHZhciBpZCA9IHJlc3BvbnNlLmNvbW1lbnRfaWQ7XHJcbiAgXHQkaHR0cC5kZWxldGUoJy9hcGkvY29tbWVudC8nK2lkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gIFx0fSk7XHJcbiAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhcHAnKVxyXG4gIC5jb250cm9sbGVyKCdJbWFnZUNyb3BDdHJsJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgICAgICRzY29wZS5teUNyb3BwZWRJbWFnZSA9ICcnO1xyXG4gICAgICAkc2NvcGUubXlJbWFnZSA9IHVuZGVmaW5lZDtcclxuICAgICAgJHNjb3BlLmNyb2JqZWN0ID0ge307XHJcblxyXG4gICAgICB2YXIgaGFuZGxlRmlsZVNlbGVjdCA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgIHZhciBmaWxlID0gZXZ0LmN1cnJlbnRUYXJnZXQuZmlsZXNbMF07XHJcbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGV2dCkge1xyXG4gICAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm15SW1hZ2UgPSBldnQudGFyZ2V0LnJlc3VsdDtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgIH07XHJcbiAgICAgIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmlsZUlucHV0JykpLm9uKCdjaGFuZ2UnLCBoYW5kbGVGaWxlU2VsZWN0KTtcclxuXG5cbiAgICAgIHRoaXMuaW1hZ2VDcm9wID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGltZ0Jsb2IgPSAkc2NvcGUubXlJbWFnZTtcclxuICAgICAgICBjb25zb2xlLmxvZyhpbWdCbG9iKTtcbiAgICAgIH07XHJcbiAgICB9KTtcbiIsImFuZ3VsYXIubW9kdWxlKCdtYW5hZ2VtZW50Q29udHJvbGxlcnMnLCBbXSlcclxuLmNvbnRyb2xsZXIoJ21hbmFnZW1lbnRDdHJsJywgZnVuY3Rpb24oKXtcclxuICBjb25zb2xlLmxvZygn7J6R64+ZIOykkScpO1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5kaXJlY3RpdmUoJ2ZpbGVNb2RlbCcsZnVuY3Rpb24oJHBhcnNlKXtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XHJcbiAgICAgIHZhciBwYXJzZWRGaWxlID0gJHBhcnNlKGF0dHJzLmZpbGVNb2RlbCk7XHJcbiAgICAgIHZhciBwYXJzZWRmaWxlU2V0dGVyID0gcGFyc2VkRmlsZS5hc3NpZ247XHJcblxyXG4gICAgICBlbGVtZW50LmJpbmQoJ2NoYW5nZScsZnVuY3Rpb24oKXtcclxuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtcclxuICAgICAgICAgIHBhcnNlZGZpbGVTZXR0ZXIoc2NvcGUsIGVsZW1lbnRbMF0uZmlsZXNbMF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5kaXJlY3RpdmUoJ21hdGNoJyxmdW5jdGlvbigpe1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgY29udHJvbGxlcjpmdW5jdGlvbigkc2NvcGUpe1xyXG4gICAgICAkc2NvcGUuZG9Db25maXJtID0gZnVuY3Rpb24odmFsdWVzKXtcclxuXHJcbiAgICAgICAgJHNjb3BlLmNvbmZpcm1lZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGVsZSl7XHJcbiAgICAgICAgICBpZigkc2NvcGUuY29uZmlybSA9PSBlbGUpe1xyXG4gICAgICAgICAgICAkc2NvcGUuY29uZmlybWVkID0gdHJ1ZTtcclxuICAgICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgICAgJHNjb3BlLmNvbmZpcm1lZCA9IGZhbHNlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfSxcclxuXHJcbiAgICBsaW5rOmZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XHJcbiAgICAgIGF0dHJzLiRvYnNlcnZlKCdtYXRjaCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgc2NvcGUubWF0Y2hlcyA9IEpTT04ucGFyc2UoYXR0cnMubWF0Y2gpO1xyXG4gICAgICAgIHNjb3BlLmRvQ29uZmlybShzY29wZS5tYXRjaGVzKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBzY29wZS4kd2F0Y2goJ2NvbmZpcm0nLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHNjb3BlLm1hdGNoZXMgPSBKU09OLnBhcnNlKGF0dHJzLm1hdGNoKTtcclxuICAgICAgICBzY29wZS5kb0NvbmZpcm0oc2NvcGUubWF0Y2hlcyk7XHJcblxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FydGlzdFNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ0FydGlzdCcsIGZ1bmN0aW9uKCRodHRwKXtcclxuICBhcnRpc3RGYWN0b3J5ID0ge307XHJcblxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09IEFydGlzdCBDYXRlZ29yeSA9PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy9cclxuICBhcnRpc3RGYWN0b3J5LnJlYWRBcnRpc3RUYXAgPSBmdW5jdGlvbigpe1xyXG4gICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYXJ0aXN0TWVudScpO1xyXG4gIH07XHJcblxyXG4gIGFydGlzdEZhY3RvcnkucmVhZEFydGlzdHMgPSBmdW5jdGlvbih1c2VyX3R5cGUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9hcnRpc3RNZW51LycrdXNlcl90eXBlKTtcclxuICB9O1xyXG5cclxuICBhcnRpc3RGYWN0b3J5LnJlYWRBcnRpc3QgPSBmdW5jdGlvbihhcnRpc3RfaWQpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9hcnRpc3QvJythcnRpc3RfaWQpO1xyXG4gIH07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAvL1xyXG5cclxuLy8gQXJ0aXN0LmNyZWF0ZVBob3RvKHBob3RvRGF0YSlcclxuICBhcnRpc3RGYWN0b3J5LmNyZWF0ZUFyaXN0UGhvdG8gPSBmdW5jdGlvbihwaG90b0RhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvYXJ0aXN0UHJvZmlsZXMnLCBwaG90b0RhdGEpO1xyXG4gIH07XHJcblxyXG4vLyBBcnRpc3QudXBkYXRlQXJpc3RJbmZvKGFydGlzdERhdGEpXHJcbiAgYXJ0aXN0RmFjdG9yeS51cGRhdGVBcmlzdFByb2ZpbGUgPSBmdW5jdGlvbihhcnRpc3REYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvYXJ0aXN0UHJvZmlsZXMnLCBhcnRpc3REYXRhKTtcclxuICB9O1xyXG5cclxuLy8gQXJ0aXN0LnJlYWRBcnRpc3RQcm9maWxlKHVzZXJfaWQpXHJcbiAgYXJ0aXN0RmFjdG9yeS5yZWFkQXJ0aXN0UHJvZmlsZSA9IGZ1bmN0aW9uKGFydGlzdF9pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2FydGlzdFByb2ZpbGVzLycrYXJ0aXN0X2lkKTtcclxuICB9O1xyXG5cclxuLy9cclxuICBhcnRpc3RGYWN0b3J5LnJlYWRBcmlzdFBob3RvID0gZnVuY3Rpb24oYXJ0aXN0X2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYXJ0aXN0UGhvdG9zLycrYXJ0aXN0X2lkKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gYXJ0aXN0RmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdhdXRoU2VydmljZXMnLFtdKVxyXG5cclxuLmZhY3RvcnkoJ0F1dGgnLCBmdW5jdGlvbigkaHR0cCwgQXV0aFRva2VuKXtcclxuICAgIHZhciBhdXRoRmFjdG9yeSA9IHt9O1xyXG4vLyBBdXRoLmdldFVzZXIoKTtcclxuICAgIGF1dGhGYWN0b3J5LmdldFVzZXIgPSBmdW5jdGlvbigpe1xyXG4gICAgICBpZihBdXRoVG9rZW4uZ2V0VG9rZW4oKSl7XHJcbiAgICAgICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvbWUnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAkcS5yZWplY3Qoe21lc3NhZ2U6J1VzZXIgaGFzIG5vIHRva2VuJ30pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuLy8gQXV0aC5sb2dpbihsb2dpbkRhdGEpO1xyXG4gICAgYXV0aEZhY3RvcnkubG9naW4gPSBmdW5jdGlvbihsb2dpbkRhdGEpe1xyXG4gICAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9hdXRoZW50aWNhdGUnLCBsb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgQXV0aFRva2VuLnNldFRva2VuKGRhdGEuZGF0YS50b2tlbik7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbi8vIEF1dGguaXNMb2dnZWRJbigpO1xyXG4gICAgYXV0aEZhY3RvcnkuaXNMb2dnZWRJbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGlmKEF1dGhUb2tlbi5nZXRUb2tlbigpKXtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4vLyBBdXRoLmxvZ291dCgpO1xyXG4gICAgYXV0aEZhY3RvcnkubG9nb3V0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgQXV0aFRva2VuLnNldFRva2VuKCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIGF1dGhGYWN0b3J5O1xyXG59KVxyXG5cclxuLmZhY3RvcnkoJ0F1dGhUb2tlbicsIGZ1bmN0aW9uKCR3aW5kb3cpe1xyXG4gIHZhciBhdXRoVG9rZW5GYWN0b3J5ID0ge307XHJcblxyXG4gIC8vIEF1dGhUb2tlbi5zZXRUb2tlbih0b2tlbik7XHJcbiAgYXV0aFRva2VuRmFjdG9yeS5zZXRUb2tlbiA9IGZ1bmN0aW9uKHRva2VuKXtcclxuICAgIGlmKHRva2VuKXtcclxuICAgICAgJHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCB0b2tlbik7XHJcbiAgICB9ZWxzZSB7XHJcbiAgICAgICR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJywgdG9rZW4pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4vLyBBdXRoVG9rZW4uZ2V0VG9rZW4oKTtcclxuICBhdXRoVG9rZW5GYWN0b3J5LmdldFRva2VuID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpO1xyXG4gIH07XHJcbiAgcmV0dXJuIGF1dGhUb2tlbkZhY3Rvcnk7XHJcbn0pXHJcblxyXG4uZmFjdG9yeSgnQXV0aEludGVyY2VwdG9ycycsIGZ1bmN0aW9uKEF1dGhUb2tlbil7XHJcbiAgdmFyIGF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5ID0ge307XHJcblxyXG4gIGF1dGhJbnRlcmNlcHRvcnNGYWN0b3J5LnJlcXVlc3QgPSBmdW5jdGlvbihjb25maWcpe1xyXG4gICAgdmFyIHRva2VuID0gQXV0aFRva2VuLmdldFRva2VuKCk7XHJcblxyXG4gICAgaWYodG9rZW4pIGNvbmZpZy5oZWFkZXJzWyd4LWFjY2Vzcy10b2tlbiddID0gdG9rZW47XHJcblxyXG4gICAgcmV0dXJuIGNvbmZpZztcclxuICB9O1xyXG4gIHJldHVybiBhdXRoSW50ZXJjZXB0b3JzRmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdib2FyZFNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ0JvYXJkJywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIGJvYXJkRmFjdG9yeSA9IHt9O1xyXG5cclxuICBib2FyZEZhY3RvcnkucmVhZEJvYXJkVGFwID0gZnVuY3Rpb24oKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYm9hcmRNZW51Jyk7XHJcbiAgfTtcclxuXHJcbiAgYm9hcmRGYWN0b3J5LnJlYWRCb2FyZHMgPSBmdW5jdGlvbihib2FyZF90eXBlKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvYm9hcmRNZW51LycrYm9hcmRfdHlwZSk7XHJcbiAgfTtcclxuXHJcbiAgYm9hcmRGYWN0b3J5LnJlYWRCb2FyZCA9IGZ1bmN0aW9uKGJvYXJkX2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJ2FwaS9ib2FyZC8nK2JvYXJkX2lkKTtcclxuICB9O1xyXG5cclxuICBib2FyZEZhY3RvcnkuY3JlYXRlQm9hcmQgPSBmdW5jdGlvbihib2FyZERhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvYm9hcmRNZW51Jyxib2FyZERhdGEpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBib2FyZEZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnY29tbWVudFNlcnZpY2VzJyxbXSlcclxuLmZhY3RvcnkoJ0NvbW1lbnQnLCBmdW5jdGlvbigkaHR0cCl7XHJcbiAgY29tbWVudEZhY3RvcnkgPSB7fTtcclxuXHJcbi8vIEdhbGxlcnkucmVhZFBob3RvRGF0YSh1c2VyX2lkKVxyXG4gIGNvbW1lbnRGYWN0b3J5LmNyZWF0ZUNvbW1lbnQgPSBmdW5jdGlvbihjb21tZW50RGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9jb21tZW50Jyxjb21tZW50RGF0YSk7XHJcbiAgfTtcclxuXHJcbiAgY29tbWVudEZhY3RvcnkucmVhZENvbW1lbnQgPSBmdW5jdGlvbihwaG90b19pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2NvbW1lbnQvJytwaG90b19pZCk7XHJcbiAgfTtcclxuXHJcbiAgY29tbWVudEZhY3RvcnkucmVhZEJvYXJkQ29tbWVudCA9IGZ1bmN0aW9uKGJvYXJkX2lkKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvY29tbWVudEJvYXJkLycrYm9hcmRfaWQpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBjb21tZW50RmFjdG9yeTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCdnYWxsZXJ5U2VydmljZXMnLFtdKVxyXG4uZmFjdG9yeSgnR2FsbGVyeScsIGZ1bmN0aW9uKCRodHRwKXtcclxuICBnYWxsZXJ5RmFjdG9yeSA9IHt9O1xyXG5cclxuLy8gR2FsbGVyeS5yZWFkR2FsbGVyeVRhcCgpXHJcbiAgZ2FsbGVyeUZhY3RvcnkucmVhZEdhbGxlcnlUYXAgPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICAkaHR0cC5nZXQoJy9hcGkvZ2FsbGVyeU1lbnUnKTtcclxuICB9O1xyXG5cclxuLy8gR2FsbGVyeS5yZWFkUGhvdG9zKHBob3RvX3R5cGUpO1xyXG4gIGdhbGxlcnlGYWN0b3J5LnJlYWRQaG90b3MgPSBmdW5jdGlvbihwaG90b190eXBlKXtcclxuICAgIHJldHVybiAgJGh0dHAuZ2V0KCcvYXBpL2dhbGxlcnlNZW51LycrcGhvdG9fdHlwZSk7XHJcblxyXG4gIH07XHJcbi8vIEdhbGxlcnkucmVhZFBob3RvRGF0YSh1c2VyX2lkKVxyXG4gIGdhbGxlcnlGYWN0b3J5LnJlYWRQaG90b0RhdGEgPSBmdW5jdGlvbihwaG90b19pZCl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL2dhbGxlcnkvJytwaG90b19pZCk7XHJcbiAgfTtcclxuXHJcbiAgZ2FsbGVyeUZhY3RvcnkucmVhZE1vcmVQaG90byA9IGZ1bmN0aW9uKHBob3RvX3R5cGUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9nYWxsZXJ5TWVudS8nKyBwaG90b190eXBlKTtcclxuICB9O1xyXG5cclxuXHJcbiAgcmV0dXJuIGdhbGxlcnlGYWN0b3J5O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ3VzZXJTZXJ2aWNlcycsW10pXHJcbi5mYWN0b3J5KCdVc2VyJywgZnVuY3Rpb24oJGh0dHApe1xyXG4gIHVzZXJGYWN0b3J5ID0ge307XHJcblxyXG4gIHVzZXJGYWN0b3J5LmdldFBlcm1pc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9wZXJtaXNzaW9uJyk7XHJcbiAgfTtcclxuLy8gVXNlci5jcmVhdGUocmVnRGF0YSlcclxuICB1c2VyRmFjdG9yeS5jcmVhdGUgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzJywgcmVnRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuYWN0aXZlQWNjb3VudCh0b2tlbik7XHJcbiAgdXNlckZhY3RvcnkuYWN0aXZlQWNjb3VudCA9IGZ1bmN0aW9uKHRva2VuKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvYWN0aXZhdGUvJyt0b2tlbik7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIuY2hlY2tDcmVkZW50aWFscyhsb2dpbkRhdGEpO1xyXG4gIHVzZXJGYWN0b3J5LmNoZWNrQ3JlZGVudGlhbHMgPSBmdW5jdGlvbihsb2dpbkRhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvcmVzZW5kJywgbG9naW5EYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5yZXNlbmRMaW5rKHVzZXJuYW1lKVxyXG4gIHVzZXJGYWN0b3J5LnJlc2VuZExpbmsgPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3Jlc2VuZCcsIHVzZXJuYW1lKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5zZW5kVXNlcm5hbWUodXNlckRhdGEpO1xyXG4gIHVzZXJGYWN0b3J5LnNlbmRVc2VybmFtZSA9IGZ1bmN0aW9uKHVzZXJEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvcmVzZXR1c2VybmFtZS8nK3VzZXJEYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5zZW5kUGFzc3dvcmQocmVzZXREYXRhKTtcclxuICB1c2VyRmFjdG9yeS5zZW5kUGFzc3dvcmQgPSBmdW5jdGlvbihyZXNldERhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS9yZXNldHBhc3N3b3JkJywgcmVzZXREYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5yZXNldFBhc3N3b3JkKHRva2VuKTtcclxuICB1c2VyRmFjdG9yeS5yZXNldFBhc3N3b3JkID0gZnVuY3Rpb24odG9rZW4pe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS9yZXNldHBhc3N3b3JkLycrdG9rZW4pO1xyXG4gIH07XHJcblxyXG5cclxuLy8gVXNlci5zYXZlUGFzc3dvcmQocmVnRGF0YSlcclxuICB1c2VyRmFjdG9yeS5zYXZlUGFzc3dvcmQgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgIHJldHVybiAkaHR0cC5wdXQoJy9hcGkvc2F2ZXBhc3N3b3JkJywgcmVnRGF0YSk7XHJcbiAgfTtcclxuXHJcbi8vICBVc2VyLnJlbmV3U2Vzc2lvbih1c2VybmFtZSlcclxuICB1c2VyRmFjdG9yeS5yZW5ld1Nlc3Npb24gPSBmdW5jdGlvbih1c2VybmFtZSl7XHJcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3JlbmV3VG9rZW4vJysgdXNlcm5hbWUpO1xyXG4gIH07XHJcblxyXG4vLyBVc2VyLnJlc2V0UGVybWlzc2lvbih1c2VyRGF0YSlcclxuICB1c2VyRmFjdG9yeS5yZXNldFBlcm1pc3Npb24gPSBmdW5jdGlvbih1c2VyRGF0YSl7XHJcbiAgICByZXR1cm4gJGh0dHAucHV0KCcvYXBpL3VzZXJzLycsIHVzZXJEYXRhKTtcclxuICB9O1xyXG5cclxuLy8gVXNlci5jaGVja1Blcm1pc3Npb24odXNlckRhdGEpXHJcbiAgdXNlckZhY3RvcnkuY2hlY2tQZXJtaXNzaW9uID0gZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2Vycy8nK3VzZXJuYW1lKTtcclxuICB9O1xyXG5cclxuXHJcbi8vIHJlc2V0IC8gY2hlY2sgLyByZW5ldyAvIHNhdmUgLyBzZW5kIC8vIHJlc2VuZFxyXG5cclxuLy8gQ3JlYXRlIC8vIHJlYWQgLy8gdXBkYXRlIC8vIGRlbGV0ZSAvL1xyXG5cclxuLy8gVXNlci5yZWFkUHJvZmlsZXModXNlcm5hbWUpXHJcbiAgdXNlckZhY3RvcnkucmVhZFByb2ZpbGVzID0gZnVuY3Rpb24odXNlcm5hbWUpe1xyXG4gICAgcmV0dXJuICRodHRwLmdldCgnL2FwaS91c2VyUHJvZmlsZXMvJyt1c2VybmFtZSk7XHJcbiAgfTtcclxuXHJcbi8vIFVzZXIudXBkYXRlUHJvZmlsZXModXBkYXRlRGF0YSlcclxuICB1c2VyRmFjdG9yeS51cGRhdGVQcm9maWxlcyA9IGZ1bmN0aW9uKHVwZGF0ZURhdGEpe1xyXG4gICAgcmV0dXJuICRodHRwLnB1dCgnL2FwaS91c2VyUHJvZmlsZXMnLCB1cGRhdGVEYXRhKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gdXNlckZhY3Rvcnk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXJ0aXN0Q29udHJvbGxlcnMnLFsndXNlclNlcnZpY2VzJywgJ2FydGlzdFNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdhcnRpc3RUYXBDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBBcnRpc3Qpe1xyXG4gIC8vIOyghOyytCDrqZTribQg6rCA7KC47Jik6riwXHJcbiAgQXJ0aXN0LnJlYWRBcnRpc3RUYXAoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAkc2NvcGUuaGVhZGVycyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdhcnRpc3RzQ3RybCcsIGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMsIEFydGlzdCkge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICB2YXIgdXNlcl90eXBlID0gJHN0YXRlUGFyYW1zLmNvZGU7XHJcblxyXG4gICAgYXBwLmRhdGEgPSB7XHJcbiAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfVxyXG4gICAgIF0sXHJcbiAgICAgc2VsZWN0ZWRPcHRpb246ICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgfTtcclxuXHJcbiAgICBBcnRpc3QucmVhZEFydGlzdHModXNlcl90eXBlKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgYXBwLmFydGlzdERhdGFzID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigndXBsb2FkQ3RybCcsIGZ1bmN0aW9uICgkaHR0cCwgJHRpbWVvdXQsICRzY29wZSwgQXJ0aXN0LCAkc3RhdGUpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG5cclxuICAgIGFwcC5kYXRhID0ge1xyXG4gICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgIHtpZDogJzEnLCBuYW1lOiAn67aTIOq4gOyUqCd9LFxyXG4gICAgICAge2lkOiAnMicsIG5hbWU6ICftjpwg6riA7JSoJ30sXHJcbiAgICAgICB7aWQ6ICczJywgbmFtZTogJ+uvuOu2hOulmCd9XHJcbiAgICAgXSxcclxuICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgfTtcclxuICAgIC8vIO2MjOydvOydmCDqsr3roZzrp4wg7KCA7J6l7ZWY6riwXHJcbiAgICB0aGlzLmZpbGUgPSB7fTtcclxuXHJcbiAgICB0aGlzLm1haW5QaG90b0NoYW5nZWQgPSBmdW5jdGlvbihmaWxlcykge1xyXG4gICAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA+IDAgJiYgZmlsZXNbMF0ubmFtZS5tYXRjaCgvXFwuKHBuZ3xqcGVnfGpwZykkLykpIHtcclxuICAgICAgICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdO1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXBwLm1haW5UaHVtYm5haWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsLmRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGFwcC5tYWluVGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgdGhpcy5yZWFkUGhvdG8gPSBmdW5jdGlvbigpe1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICBmZC5hcHBlbmQoJ215ZmlsZScsIGFwcC5maWxlLnVwbG9hZCk7XHJcbiAgICAgICAgJGh0dHAucG9zdCgnL2FwaS91cGxvYWRUZW1wLycsIGZkLHtcclxuICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LFxyXG4gICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkfVxyXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICBhcHAubWFpbkltYWdlUGF0aCA9IGRhdGEuZGF0YS5waG90b19wYXRoO1xyXG4gICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICBhcHAuZmlsZSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuXHJcbi8vIOyekeqwgCDsnpHtkogg7JeF66Gc65OcXHJcbiAgICAgIHRoaXMuY3JlYXRlUGhvdG8gPSBmdW5jdGlvbih1cGxvYWREYXRhKXtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICBpZighdXBsb2FkRGF0YSl7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn67mI7Lm47J2EIOuqqOuRkCDsnoXroKXtlbTso7zshLjsmpQuJztcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmKGFwcC51cGxvYWREYXRhLnRpdGxlID09PSB1bmRlZmluZWQgfHwgYXBwLnVwbG9hZERhdGEudGl0bGUgPT09IG51bGwgfHwgYXBwLnVwbG9hZERhdGEudGl0bGUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsnpHtkojsnZgg7KCc66qp7J2EIOyeheugpe2VtOyjvOyEuOyalC4nO1xyXG4gICAgICAgICAgfSBlbHNlIGlmKGFwcC51cGxvYWREYXRhLmRldGFpbCA9PT0gdW5kZWZpbmVkIHx8IGFwcC51cGxvYWREYXRhLmRldGFpbCA9PT0gbnVsbCB8fCBhcHAudXBsb2FkRGF0YS5kZXRhaWwgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsnpHtkojsnZgg7ISk66qF7J2EIOyeheugpe2VtOyjvOyEuOyalC4nO1xyXG4gICAgICAgICAgfSBlbHNlIGlmKGFwcC5tYWluSW1hZ2VQYXRoID09PSB1bmRlZmluZWQgfHwgYXBwLm1haW5JbWFnZVBhdGggPT09ICBudWxsIHx8IGFwcC5tYWluSW1hZ2VQYXRoID09PSAnJyl7XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsnpHtkogg7J2066+47KeA66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nO1xyXG4gICAgICAgICAgfSBlbHNlIGlmKGFwcC5kYXRhLnNlbGVjdGVkT3B0aW9uLmlkID09PSAnMCcpe1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7J6R7ZKI7J2YIOyiheulmOulvCDshKDtg53tlbTso7zshLjsmpQuJztcclxuICAgICAgICAgIH0gZWxzZSB7XG5cclxuICAgICAgICAgICAgYXBwLnVwbG9hZERhdGEgPSB1cGxvYWREYXRhO1xyXG4gICAgICAgICAgICBhcHAudXBsb2FkRGF0YS51c2VyX2lkID0gJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xyXG4gICAgICAgICAgICBhcHAudXBsb2FkRGF0YS5waG90b190eXBlID0gYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQ7XHJcbiAgICAgICAgICAgIGFwcC51cGxvYWREYXRhLnBob3RvX3BhdGggPSBhcHAubWFpbkltYWdlUGF0aDtcclxuXHJcbiAgICAgICAgICAgIEFydGlzdC5jcmVhdGVBcmlzdFBob3RvKGFwcC51cGxvYWREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuXHJcblxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignYXJ0aXN0UHJvZmlsZUN0cmwnLCBmdW5jdGlvbiAoJHRpbWVvdXQsIEFydGlzdCwgJHN0YXRlLCAkc2NvcGUpIHtcclxuXHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuICAgIHZhciB1c2VyX2lkID0gJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xyXG5cclxuICAgIGFwcC5kYXRhID0ge1xyXG4gICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgIHtpZDogJzAnLCBuYW1lOiAn7Lm07YWM6rOg66as66W8IOyEoO2Dne2VtOyjvOyEuOyalC4nfSxcclxuICAgICAgIHtpZDogJzEnLCBuYW1lOiAn67aTIOq4gOyUqCd9LFxyXG4gICAgICAge2lkOiAnMicsIG5hbWU6ICftjpwg6riA7JSoJ30sXHJcbiAgICAgICB7aWQ6ICczJywgbmFtZTogJ+uvuOu2hOulmCd9XHJcbiAgICAgXSxcclxuICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMCcsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgICAgfTtcclxuXHJcblxyXG4gICAgIEFydGlzdC5yZWFkQXJ0aXN0UHJvZmlsZSh1c2VyX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICBhcHAuYXJ0aXN0RGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgIH1cclxuICAgICB9KTtcclxuXHJcblxyXG4gIC8vIOyekeqwgCDtlITroZztlYQg7IOd7ISxXHJcbiAgICAgIHRoaXMudXBkYXRlQXJpc3RQcm9maWxlID0gZnVuY3Rpb24oYXJ0aXN0RGF0YSl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi7J6R64+ZIOykkVwiKTtcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XG4gICAgICAgIGlmKCFhcnRpc3REYXRhKXtcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7ZWE7IiY6riw7J6s7IKs7ZWt7J2EIOyeheugpe2VtOyjvOyEuOyalC4nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmKGFwcC5hcnRpc3REYXRhLnNob3J0X2luZm8gPT09IHVuZGVmaW5lZCB8fCBhcHAuYXJ0aXN0RGF0YS5zaG9ydF9pbmZvID09PSBudWxsIHx8IGFwcC5hcnRpc3REYXRhLnNob3J0X2luZm8gPT09ICcnKSB7XG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7ZWcIOykhCDshozqsJzrpbwg7J6F66Cl7ZW07KO87IS47JqULic7XG4gICAgICAgICAgfSBlbHNlIGlmKGFwcC5hcnRpc3REYXRhLmRldGFpbF9pbmZvID09PSB1bmRlZmluZWQgfHwgYXBwLmFydGlzdERhdGEuZGV0YWlsX2luZm8gPT09IG51bGwgfHwgYXBwLmFydGlzdERhdGEuZGV0YWlsX2luZm8gPT09ICcnKSB7XG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7IOB7IS4IOyGjOqwnOulvCDsnoXroKXtlbTso7zshLjsmpQuJztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXBwLmFydGlzdERhdGEgPSBhcnRpc3REYXRhO1xuICAgICAgICAgICAgYXBwLmFydGlzdERhdGEudXNlcl9pZCA9ICAkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQ7XG4gICAgICAgICAgICAvLyBhcHAuYXJ0aXN0RGF0YS51c2VyX3R5cGUgPSAgYXBwLmRhdGEuc2VsZWN0ZWRPcHRpb24uaWQ7XG5cbiAgICAgICAgICAgIEFydGlzdC51cGRhdGVBcmlzdFByb2ZpbGUoYXBwLmFydGlzdERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcbiAgICAgICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xuICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+yYrOuwlOultOyngCDslYrsnYAg6rCS7J20IOyeheugpeuQmOyXiOyKteuLiOuLpC4nO1xuXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xyXG5cclxufSlcclxuXHJcbi8vIOyekeqwgCDsnpDsi6DsnZgg7ZSE66Gc7ZWEXHJcbi5jb250cm9sbGVyKCdhbkFydGlzdFBob3RvQ3RybCcsIGZ1bmN0aW9uIChBcnRpc3QsICRzdGF0ZVBhcmFtcywgICRzY29wZSkge1xyXG4gICAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgICB2YXIgdXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuXHJcbiAgICAgIEFydGlzdC5yZWFkQXJ0aXN0UHJvZmlsZSh1c2VyX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5hcnRpc3REYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIEFydGlzdC5yZWFkQXJpc3RQaG90byh1c2VyX2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5hcnRpc3RQaG90b3MgPSBkYXRhLmRhdGEucmVzdWx0O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG59KVxyXG5cclxuXHJcbi8vIOyXrOufrCDsnpHqsIDrk6TsnZgg7ZSE66Gc7ZWEXHJcbi5jb250cm9sbGVyKCdhcnRpc3RQaG90b0N0cmwnLCBmdW5jdGlvbiAoQXJ0aXN0LCAkc3RhdGVQYXJhbXMpIHtcclxuICAgIHZhciBhcHAgPSB0aGlzO1xyXG4gICAgdmFyIGFydGlzdF9pZCA9ICRzdGF0ZVBhcmFtcy5hcnRpc3RfaWQ7XHJcblxyXG4gICAgICBBcnRpc3QucmVhZEFydGlzdFByb2ZpbGUoYXJ0aXN0X2lkKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC5hcnRpc3REYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIEFydGlzdC5yZWFkQXJpc3RQaG90byhhcnRpc3RfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLmFydGlzdFBob3RvcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYm9hcmRDb250cm9sbGVycycsWydib2FyZFNlcnZpY2VzJ10pXG4uZmlsdGVyKCd0b190cnVzdGVkJywgWyckc2NlJywgZnVuY3Rpb24oJHNjZSl7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24odGV4dCkge1xyXG4gICAgICAgIHJldHVybiAkc2NlLnRydXN0QXNIdG1sKHRleHQpO1xyXG4gICAgfTtcclxufV0pXG5cclxuLmNvbnRyb2xsZXIoJ2JvYXJkVGFwQ3RybCcsIGZ1bmN0aW9uKEJvYXJkLCAkc2NvcGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIEJvYXJkLnJlYWRCb2FyZFRhcCgpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAkc2NvcGUuaGVhZGVycyA9IGRhdGEuZGF0YTtcclxuICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdib2FyZHNDdHJsJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBCb2FyZCwgJHNjb3BlLCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIHZhciBib2FyZF90eXBlID0gJHN0YXRlUGFyYW1zLmNvZGU7XHJcblxyXG4gIGFwcC5kYXRhID0ge1xyXG4gICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAge3NvcnQ6ICctY3JlYXRlZCcsIG5hbWU6ICfstZzsi6DsiJwnfSxcclxuICAgICB7c29ydDogJy12aWV3JywgbmFtZTogJ+yhsO2ajOyInCd9LFxyXG4gICAgIHtzb3J0OiAnLWNvbW1lbnRfY291bnQnLCBuYW1lOifrjJPquIDsiJwnfVxyXG4gICBdLFxyXG4gICBzZWxlY3RlZE9wdGlvbjogIHtzb3J0OiAnLWNyZWF0ZWQnLCBuYW1lOiAn7LWc7Iug7IicJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgfTtcclxuXHJcbiAgIEJvYXJkLnJlYWRCb2FyZHMoYm9hcmRfdHlwZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICBhcHAuYm9hcmREYXRhcyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgIH0pO1xyXG5cclxuICAgdGhpcy5jcmVhdGVCb2FyZCA9IGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgaWYoISRzY29wZS5tYWluLnVzZXIudXNlcl9pZCl7XHJcbiAgICAgICAgICRzY29wZS5tYWluLmxvZ2luKCk7XHJcbiAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAkc3RhdGUuZ28oXCJhcHAuYm9hcmQuY3JlYXRlXCIpO1xyXG4gICAgICAgfVxyXG4gIH07XHJcblxyXG5cclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdib2FyZEN0cmwnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIEJvYXJkLCAkc2NvcGUsICRodHRwLCAkc3RhdGUsICR0aW1lb3V0LCBDb21tZW50LCAkd2luZG93KXtcclxuICAgIC8vIOuztOuTnCDslYTsnbTrlJQg7KCE7IahXHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuICAgIHZhciBib2FyZF9pZCA9ICRzdGF0ZVBhcmFtcy5ib2FyZF9pZDtcclxuXHJcbiAgICBhcHAuZGF0YSA9IHtcclxuICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICAgICB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30sXHJcbiAgICAgICB7aWQ6ICcxJywgbmFtZTogJ+qzteyngOyCrO2VrSd9LFxyXG4gICAgICAge2lkOiAnMicsIG5hbWU6ICfsnqHtlZnsgqzsoIQnfSxcclxuICAgICAgIHtpZDogJzMnLCBuYW1lOiAn7KeI66y47IKs7ZWtJ31cclxuICAgICBdLFxyXG4gICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICcwJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgICB9O1xyXG5cclxuICAgIENvbW1lbnQucmVhZEJvYXJkQ29tbWVudChib2FyZF9pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5jb21tZW50RGF0YSA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgICB0aGlzLmNyZWF0ZUNvbW1lbnQgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgaWYoISRzY29wZS5tYWluLnVzZXIudXNlcl9pZCl7XHJcbiAgICAgICAgICAgJHNjb3BlLm1haW4ubG9naW4oKTtcclxuICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICBpZighZGF0YSl7XHJcbiAgICAgICAgICAgICAkd2luZG93LmFsZXJ0KCfrjJPquIDsnYQg7J6F66Cl7ZW07KO87IS47JqULicpO1xyXG4gICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICB2YXIgY29tbWVudERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgIGNvbW1lbnQgOiBkYXRhLFxyXG4gICAgICAgICAgICAgICB1c2VyX2lkIDogJHNjb3BlLm1haW4udXNlci51c2VyX2lkLFxyXG4gICAgICAgICAgICAgICBib2FyZF9pZCA6IGJvYXJkX2lkXHJcbiAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgIENvbW1lbnQuY3JlYXRlQ29tbWVudChjb21tZW50RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICRzdGF0ZS5yZWxvYWQoKTtcclxuICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcblxyXG5cclxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoe1xyXG4gICAgICAgIGxhbmc6ICdrby1LUicsIC8vIGRlZmF1bHQ6ICdlbi1VUydcclxuICAgICAgICBoZWlnaHQgOiAxMDAsIC8vIOyXkOuUlO2EsOydmCDrhpLsnbRcclxuICAgICAgICBtaW5IZWlnaHQgOiBudWxsLFxyXG4gICAgICAgIG1heEhlaWdodCA6IG51bGwsXHJcbiAgICAgICAgZm9jdXMgOiB0cnVlLFxyXG4gICAgICAgIHBsYWNlaG9sZGVyOiAn64yT6riA7J2AIDEsMDAw7J6Q6rmM7KeAIOyekeyEse2VoCDsiJgg7J6I7Jy866mwIOyjvOygnOyZgCDrrLTqtIDtlZwg64yT6riALCDslYXshLEg64yT6riA7J2AIOyCreygnOuQoCDsiJgg7J6I7Iq164uI64ukLicsXHJcbiAgICAgICAgdG9vbGJhcjogW1xyXG4gIC8vIFtncm91cE5hbWUsIFtsaXN0IG9mIGJ1dHRvbl1dXHJcbiAgICAgICAgICBbJ3N0eWxlJywgWydib2xkJywgJ2l0YWxpYycsICd1bmRlcmxpbmUnLCAnY2xlYXInXV0sXHJcbiAgICAgICAgICBbJ2ZvbnQnLCBbJ3N0cmlrZXRocm91Z2gnLCAnc3VwZXJzY3JpcHQnLCAnc3Vic2NyaXB0J11dLFxyXG4gICAgICAgICAgWydmb250c2l6ZScsIFsnZm9udHNpemUnXV0sXHJcbiAgICAgICAgICBbJ2NvbG9yJywgWydjb2xvciddXSxcclxuICAgICAgICAgIFsncGFyYScsIFsndWwnLCAnb2wnLCAncGFyYWdyYXBoJ11dLFxyXG4gICAgICAgICAgWydoZWlnaHQnLCBbJ2hlaWdodCddXVxyXG4gICAgICAgIF1cclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmNyZWF0ZUJvYXJkID0gZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICBpZihhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZCA9PT0gJzAnKXtcclxuICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfqsozsi5zquIDsnZgg7KKF66WY66W8IOyEoO2Dne2VtOyjvOyEuOyalCc7XHJcbiAgICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2UgaWYocmVzcG9uc2UgPT09IHVuZGVmaW5lZCB8fCByZXNwb25zZSA9PT0gbnVsbCB8fCByZXNwb25zZSA9PT0gJycpe1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+ygnOuqqeydhCDsnoXroKXtlbTso7zshLjsmpQuJztcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSBpZigkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoJ2NvZGUnKSA9PT0gJzxwPjxicj48L3A+JyB8fCAkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoJ2NvZGUnKSA9PT0gbnVsbCB8fCAkKCcjc3VtbWVybm90ZScpLnN1bW1lcm5vdGUoJ2NvZGUnKSA9PT0gdW5kZWZpbmVkIHx8ICQoJyNzdW1tZXJub3RlJykuc3VtbWVybm90ZSgnY29kZScpID09PSAnJykge1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gJ+uCtOyaqeydhCDsnoXroKXtlbTso7zshLjsmpQuJztcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YXIgY29udGVudCA9ICQoJyNzdW1tZXJub3RlJykuc3VtbWVybm90ZSgnY29kZScpO1xyXG4gICAgICAgICAgdmFyIGJvYXJkX3R5cGUgPSBhcHAuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZDtcclxuICAgICAgICAgIHZhciB0aXRsZSA9IHJlc3BvbnNlLnRpdGxlO1xyXG4gICAgICAgICAgdmFyIGJvYXJkRGF0YSA9IHtcclxuICAgICAgICAgICAgdGl0bGUgOiB0aXRsZSxcclxuICAgICAgICAgICAgY29udGVudCA6IGNvbnRlbnQsXHJcbiAgICAgICAgICAgIGJvYXJkX3R5cGUgOiBib2FyZF90eXBlLFxyXG4gICAgICAgICAgICB1c2VyX2lkIDogJHNjb3BlLm1haW4udXNlci51c2VyX2lkXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgQm9hcmQuY3JlYXRlQm9hcmQoYm9hcmREYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAuYm9hcmQnKTtcclxuICAgICAgICAgICAgICB9LDUwMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBCb2FyZC5yZWFkQm9hcmQoYm9hcmRfaWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbi8vIOyYpOulmOulvCDsnqHslYTslbztlZjripTrjbAg7Ja065ak7Iud7Jy866GcIOyeoeyVhOyVvO2VmOyngD9cclxuICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgIGFwcC5ib2FyZERhdGFzID0gZGF0YS5kYXRhLnJlc3VsdDtcbiAgICAgICAgYXBwLmh0bWxjb250ZW50ID0gZGF0YS5kYXRhLnJlc3VsdC5jb250ZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vXHJcbi8vICAgJHNjb3BlLmRhdGEgPSB7XHJcbi8vICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuLy8gICAgICB7aWQ6ICctMScsIG5hbWU6ICfsubTthYzqs6Drpqzrpbwg7ISg7YOd7ZW07KO87IS47JqULid9LFxyXG4vLyAgICAgIHtpZDogJzAnLCBuYW1lOiAn6rO17KeA7IKs7ZWtJ30sXHJcbi8vICAgICAge2lkOiAnMScsIG5hbWU6ICftlZnsm5Av7ZmN67O0J30sXHJcbi8vICAgICAge2lkOiAnMicsIG5hbWU6ICfrqqjsnoQv7Iqk7YSw65SUJ31cclxuLy8gICAgXSxcclxuLy8gICAgc2VsZWN0ZWRPcHRpb246IHtpZDogJy0xJywgbmFtZTogJ+y5tO2FjOqzoOumrOulvCDshKDtg53tlbTso7zshLjsmpQuJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuLy8gICAgfTtcclxuLy9cclxuLy8gICAvLyBpZOyXkCDtlbTri7ntlZjripQg6rCS7J2EIOuztOyXrOyjvOuKlCDtlajsiJhcclxuLy8gICAkc2NvcGUudXNlckFydGljbGUgPSBmYWxzZTtcclxuLy9cclxuLy8gLy8g6rCS7J2EIOyggOyepe2VmOuKlCDtlajsiJhcclxuLy8gICAkc2NvcGUuYWRkQm9hcmQgPSBmdW5jdGlvbih0aXRsZSwgY29udGVudCl7XHJcbi8vIC8vIGVtcGxveWVzcyDsoJzrjIDroZwg64+Z7J6R7ZWY64qU7KeAIO2ZleyduCDtlYTsmpRcclxuLy8gICAgICAgdmFyIGJvYXJkX3R5cGUgPSAkc2NvcGUuZGF0YS5zZWxlY3RlZE9wdGlvbi5pZDtcclxuLy8gICAgICAgJGh0dHAucG9zdCgnYXBpL2JvYXJkTWVudScsXHJcbi8vICAgICAgIHsgdGl0bGU6dGl0bGUsIGNvbnRlbnQ6IGNvbnRlbnQsIGJvYXJkX3R5cGU6IGJvYXJkX3R5cGV9KVxyXG4vLyAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7ICAgICAgICAgIC8vIOygleyDgSDsnpHrj5ntlZjsmIDsirXri4jri6QuXHJcbi8vICAgICAgIH0pO1xyXG4vLyAgIH07XHJcbi8vXHJcbi8vIFx0JHNjb3BlLnNob3dCb2FyZCA9IGZ1bmN0aW9uKCl7XHJcbi8vICAgLy8g67O065OcIOyVhOydtOuUlCDsoITshqFcclxuLy8gICB2YXIgaWQgPSAkc3RhdGVQYXJhbXMuYm9hcmRfaWQ7XHJcbi8vICAgICAkaHR0cC5nZXQoJ2FwaS9ib2FyZC8nK2lkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuLy8gLy8g7IKs7Jqp7J6Q6rCAIOyekeyEse2VnCDqsozsi5zrrLzsnoXri4jri6QuXHJcbi8vICAgICBpZihyZXNwb25zZS5kYXRhWzFdLnN1Y2Nlc3Mpe1xyXG4vLyAgICAgICAkc2NvcGUudXNlckFydGljbGUgPSB0cnVlO1xyXG4vLyAgICAgICAkc2NvcGUuYm9hcmQgPSByZXNwb25zZS5kYXRhWzBdWzBdO1xyXG4vLyAgICAgfVxyXG4vLyAvLyDsgqzsmqnsnpDqsIAg7J6R7ISx7ZWcIOqyjOyLnOusvOydtCDslYTri5nri4jri6QuXHJcbi8vICAgICBlbHNlIHtcclxuLy8gICAgICAgJHNjb3BlLnVzZXJBcnRpY2xlID0gZmFsc2U7XHJcbi8vICAgICAgICRzY29wZS5ib2FyZCA9IHJlc3BvbnNlLmRhdGFbMF1bMF07XHJcbi8vICAgICB9XHJcbi8vICAgfSk7XHJcbi8vIH07XHJcbi8vXHJcbi8vXHJcbi8vICAgLy8g6rCS7J2EIOyCreygnO2VmOuKlCDtlajsiJhcclxuLy8gXHQkc2NvcGUuZGVsZXRlQm9hcmQgPSBmdW5jdGlvbigpe1xyXG4vLyAgICAgdmFyIGlkID0gJHN0YXRlUGFyYW1zLmJvYXJkX2lkO1xyXG4vLyBcdFx0JGh0dHAuZGVsZXRlKCdhcGkvYm9hcmQvJytpZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbi8vICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJ2FwcC5ib2FyZC5jYXRlZ29yeSh7Y29kZTogMH0pJyk7XHJcbi8vIFx0XHR9KTtcclxuLy8gXHR9O1xyXG4vL1xyXG4vLyAgIFx0Ly8g6rCS7J2EIOyImOygle2VmOuKlCDtlajsiJhcclxuLy8gICBcdCRzY29wZS51cGRhdGVCb2FyZCA9IGZ1bmN0aW9uKCl7XHJcbi8vICAgXHRcdHZhciBpZCA9ICRzdGF0ZVBhcmFtcy5ib2FyZF9pZDtcclxuLy8gICBcdFx0JGh0dHAucHV0KCdhcGkvYm9hcmQvJytpZCAsICRzY29wZS5ib2FyZCkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbi8vICAgXHRcdFx0JHNjb3BlLmJvYXJkID0gcmVzcG9uc2UuZGF0YTtcclxuLy8gICAgICAgICAkbG9jYXRpb24ucGF0aCgnYm9hcmQnKTtcclxuLy8gICBcdFx0fSk7XHJcbi8vICAgXHR9O1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2dhbGxlcnRDb250cm9sbGVycycsWydnYWxsZXJ5U2VydmljZXMnXSlcclxuLmNvbnRyb2xsZXIoJ2dhbGxlcnlUYXBDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBHYWxsZXJ5KXtcclxuICAvLyDsoITssrQg66mU64m0IOqwgOyguOyYpOq4sFxyXG4gIEdhbGxlcnkucmVhZEdhbGxlcnlUYXAoKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAkc2NvcGUuaGVhZGVycyA9IGRhdGEuZGF0YS5yZXN1bHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdnYWxsZXJ5UGhvdG9zQ3RybCcsIGZ1bmN0aW9uKEdhbGxlcnksICRzdGF0ZVBhcmFtcyl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdmFyIHBob3RvX3R5cGUgPSAkc3RhdGVQYXJhbXMuY29kZTtcclxuICBhcHAuZGF0YSA9IHtcclxuICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgIHtzb3J0OiAnLWNyZWF0ZWQnLCBuYW1lOiAn7LWc7Iug7IicJ30sXHJcbiAgICAge3NvcnQ6ICctdmlldycsIG5hbWU6ICfsobDtmozsiJwnfSxcclxuICAgICB7c29ydDogJy1jb21tZW50X2NvdW50JywgbmFtZTon64yT6riA7IicJ31cclxuICAgXSxcclxuICAgc2VsZWN0ZWRPcHRpb246ICB7c29ydDogJy1jcmVhdGVkJywgbmFtZTogJ+y1nOyLoOyInCd9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAgIH07XHJcblxyXG4gICAgR2FsbGVyeS5yZWFkUGhvdG9zKHBob3RvX3R5cGUpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAucGhvdG9EYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcignZ2FsbGVyeVBob3RvQ3RybCcsIGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMsIEdhbGxlcnksIENvbW1lbnQsICRzY29wZSwgJHdpbmRvdywgJHN0YXRlKSB7XHJcblxyXG4gICB2YXIgYXBwID0gdGhpcztcclxuICAgdmFyIHBob3RvX2lkID0gJHN0YXRlUGFyYW1zLnBob3RvX2lkO1xyXG4gICB2YXIgcGhvdG9fdHlwZSA9ICRzdGF0ZVBhcmFtcy5waG90b190eXBlO1xyXG4gICB2YXIgdXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuXHJcbiAgIEdhbGxlcnkucmVhZFBob3RvRGF0YShwaG90b19pZCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICBhcHAucGhvdG9EYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICB9IGVsc2Uge1xyXG4gICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgfVxyXG4gICB9KTtcclxuXHJcbiAgIEdhbGxlcnkucmVhZFBob3RvcyhwaG90b190eXBlKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgIGFwcC5waG90b3NEYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICB9IGVsc2Uge1xyXG4gICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgfVxyXG4gICB9KTtcclxuXHJcbiAgIENvbW1lbnQucmVhZENvbW1lbnQocGhvdG9faWQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgYXBwLmNvbW1lbnREYXRhID0gZGF0YS5kYXRhLnJlc3VsdDtcclxuICAgICAgIGNvbnNvbGUubG9nKGFwcC5jb21tZW50RGF0YSk7XHJcbiAgICAgfSBlbHNlIHtcclxuICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgIH1cclxuICAgfSk7XHJcblxyXG4gICB0aGlzLmNyZWF0ZUNvbW1lbnQgPSBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgIGlmKCEkc2NvcGUubWFpbi51c2VyLnVzZXJfaWQpe1xyXG4gICAgICAgICAkc2NvcGUubWFpbi5sb2dpbigpO1xyXG4gICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgaWYoIWRhdGEpe1xyXG4gICAgICAgICAgICR3aW5kb3cuYWxlcnQoJ+uMk+q4gOydhCDsnoXroKXtlbTso7zshLjsmpQuJyk7XHJcbiAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgdmFyIGNvbW1lbnREYXRhID0ge1xyXG4gICAgICAgICAgICAgY29tbWVudCA6IGRhdGEsXHJcbiAgICAgICAgICAgICB1c2VyX2lkIDogJHNjb3BlLm1haW4udXNlci51c2VyX2lkLFxyXG4gICAgICAgICAgICAgcGhvdG9faWQgOiBwaG90b19pZFxyXG4gICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgIENvbW1lbnQuY3JlYXRlQ29tbWVudChjb21tZW50RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfSk7XHJcbiAgICAgICAgIH1cclxuICAgICAgIH1cclxuICB9O1xyXG59KTtcclxuXHJcblxyXG5cclxuXHJcbi8vIC8vIOqwkuydhCDsgq3soJztlZjripQg7ZWo7IiYXHJcbi8vICAgJHNjb3BlLmRlbGV0ZVBob3RvID0gZnVuY3Rpb24oKXtcclxuLy8gICAgICB2YXIgaWQgPSAkc3RhdGVQYXJhbXMucGhvdG9faWQ7XHJcbi8vICAgICAkaHR0cC5kZWxldGUoJy9hcGkvZ2FsbGVyeS8nK2lkKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuLy8gICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJ2FwcC5nYWxsZXJ5LmNhdGVnb3J5KHtjb2RlOiAwfSknKTtcclxuLy8gICAgIH0pO1xyXG4vLyAgIH07XHJcbi8vXHJcbi8vXHJcbi8vIC8vIOqwnOuzhCDsgqzsp4Qg6rSA66Co65CcIOydtOuvuOyngCDqsIDsoLjsmKTquLAgfHwg7ISg7YOd7ZWcIOydtOuvuOyngOyZgCDqsJnsnYAg67aE66WY7J2YIOydtOuvuOyngCDqsIDsoLjsmKTquLBcclxuLy8gICAkc2NvcGUuZ2V0UmVsYXRlZFBpYyA9IGZ1bmN0aW9uKCl7XHJcbi8vICAgICB2YXIgY29kZSA9ICRzdGF0ZVBhcmFtcy5waG90b190eXBlO1xyXG4vLyAgICAgJGh0dHAuZ2V0KCcvYXBpL2dhbGxlcnlNZW51LycrY29kZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcbi8vICAgICAgICRzY29wZS5waG90b3MgPSByZXNwb25zZS5kYXRhO1xyXG4vLyAgICAgfSk7XHJcbi8vICAgfTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXHJcbi5jb250cm9sbGVyKCdIb21lQ3RybCcsIGZ1bmN0aW9uICggJGh0dHAsICRzY29wZSkge1xyXG5cclxuICAkc2NvcGUuZ2V0Q29udGVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAkaHR0cC5nZXQoJy9hcGkvaG9tZScpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgICAkc2NvcGUucGhvdG9zID0gcmVzcG9uc2UuZGF0YTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ21haW5Db250cm9sbGVycycsWydhdXRoU2VydmljZXMnLCAndXNlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdtYWluQ3RybCcsIGZ1bmN0aW9uKEF1dGgsICR0aW1lb3V0LCAkbG9jYXRpb24sICRzdGF0ZSwgJHJvb3RTY29wZSwgJHNjb3BlLCAkd2luZG93LCAkaW50ZXJ2YWwsIFVzZXIsIEF1dGhUb2tlbil7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4gIGFwcC5sb2FkbWUgPSBmYWxzZTtcclxuXHJcbiAgJHNjb3BlLiRvbignTE9BRCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAkc2NvcGUubG9hZGluZyA9IHRydWU7XHJcbiAgfSk7XHJcblxyXG4gICRzY29wZS4kb24oJ1VOTE9BRCcsIGZ1bmN0aW9uKCl7XHJcbiAgICAkc2NvcGUubG9hZGluZyA9IGZhbHNlO1xyXG4gIH0pO1xyXG5cclxuICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbigpe1xyXG4gICAgaWYoIWNoZWNrU2Vzc2lvbiljaGVja1Nlc3Npb24oKTtcclxuXHJcbiAgICBpZihBdXRoLmlzTG9nZ2VkSW4oKSl7XHJcbiAgICAgIGFwcC5pc0xvZ2dlZEluID0gdHJ1ZTtcclxuXHJcbiAgICAgIEF1dGguZ2V0VXNlcigpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgYXBwLnVzZXIgPSBkYXRhLmRhdGE7XHJcbiAgICAgICAgVXNlci5nZXRQZXJtaXNzaW9uKCkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnBlcm1pc3Npb24gPT09ICdhZG1pbicpe1xyXG4gICAgICAgICAgICAgIGFwcC5hdXRob3JpemVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmKGRhdGEuZGF0YS5wZXJtaXNzaW9uID09PSAnYXJ0aXN0Jyl7XHJcbiAgICAgICAgICAgICAgYXBwLnBlcm1pc3Npb24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgIGFwcC5sb2FkbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGFwcC5wZXJtaXNzaW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgYXBwLmF1dGhvcml6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBhcHAubG9hZG1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXBwLnBlcm1pc3Npb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLmF1dGhvcml6ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLnVzZXIgPSBmYWxzZTtcclxuICAgICAgYXBwLmlzTG9nZ2VkSW4gPSBmYWxzZTtcclxuICAgICAgYXBwLmxvYWRtZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG5cclxuICB2YXIgY2hlY2tTZXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgIGlmKEF1dGguaXNMb2dnZWRJbigpKXtcclxuICAgICAgYXBwLmNoZWNrU2Vzc2lvbiA9IHRydWU7XHJcbiAgICAgIHZhciBpbnRlcnZhbCA9ICRpbnRlcnZhbChmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciB0b2tlbiA9ICR3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcbiAgICAgICAgaWYodG9rZW4gPT09IG51bGwpe1xyXG4gICAgICAgICAgJGludGVydmFsLmNhbmNlbChpbnRlcnZhbCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNlbGYucGFyc2VKd3QgPSBmdW5jdGlvbih0b2tlbil7XHJcbiAgICAgICAgICAgIHZhciBiYXNlNjRVcmwgPSB0b2tlbi5zcGxpdCgnLicpWzFdO1xyXG4gICAgICAgICAgICB2YXIgYmFzZTY0ID0gYmFzZTY0VXJsLnJlcGxhY2UoJy0nLCcrJykucmVwbGFjZSgnXycsICcvJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKCR3aW5kb3cuYXRvYihiYXNlNjQpKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB2YXIgZXhwaXJlVGltZSA9IHNlbGYucGFyc2VKd3QodG9rZW4pO1xyXG4gICAgICAgICAgdmFyIHRpbWVTdGFtcCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xyXG4gICAgICAgICAgdmFyIHRpbWVDaGVjayA9IGV4cGlyZVRpbWUuZXhwIC0gdGltZVN0YW1wO1xyXG5cclxuICAgICAgICAgIGlmKHRpbWVDaGVjayA8PSA1KXtcclxuICAgICAgICAgICAgc2hvd01vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgICAgICRpbnRlcnZhbC5jYW5jZWwoaW50ZXJ2YWwpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sIDIwMDApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNoZWNrU2Vzc2lvbigpO1xyXG5cclxuXHJcbiAgICBhcHAucmVuZXdTZXNzaW9uID0gZnVuY3Rpb24oKXtcclxuICAgICAgYXBwLmNob2ljZU1hZGUgPSB0cnVlO1xyXG4gICAgICBVc2VyLnJlbmV3U2Vzc2lvbihhcHAudXNlci51c2VybmFtZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICBBdXRoVG9rZW4uc2V0VG9rZW4oZGF0YS5kYXRhLnRva2VuKTtcclxuICAgICAgICAgIGNoZWNrU2Vzc2lvbigpO1xyXG4gICAgICAgICAgaGlkZU1vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgfSBlbHNle1xyXG4gICAgICAgICAgYXBwLk1vZGFsQm9keSA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgaGlkZU1vZGFsKCdleHBpcmVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgYXBwLmVuZFNlc3Npb24gPSBmdW5jdGlvbigpe1xyXG4gICAgICBhcHAuY2hvaWNlTWFkZSA9IHRydWU7XHJcbiAgICAgIGhpZGVNb2RhbCgnZXhwaXJlZCcpO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgIHNob3dNb2RhbCgnbG9nb3V0Jyk7XHJcbiAgICAgIH0sNTAwKTtcclxuICAgIH07XHJcblxyXG5cclxuICB2YXIgc2hvd01vZGFsID0gZnVuY3Rpb24ob3B0aW9uKXtcclxuICAgIGFwcC5jaG9pY2VNYWRlID0gZmFsc2U7XHJcbiAgICBhcHAubW9kYWxIZWFkZXIgPSB1bmRlZmluZWQ7XHJcbiAgICBhcHAubW9kYWxCb2R5ID0gdW5kZWZpbmVkO1xyXG4gICAgYXBwLmhpZGVCdXR0b24gPSBmYWxzZTtcclxuLy8gY2hlY2sgdG9rZW4gZXhwaXJlZFxyXG4gICAgaWYob3B0aW9uID09PSAgJ2V4cGlyZWQnICl7XHJcbiAgICAgIGFwcC5tb2RhbEhlYWRlciA9ICdUaW1lb3V0IFdhcm5pbmcnO1xyXG4gICAgICBhcHAubW9kYWxCb2R5ID0gJ1lvdXIgc2Vzc2lvbiB3aWxsIGV4cGlyZWQgaW4gNSBtaW51dGVzLiBXb3VsZCB5b3UgbGlrZSB0byByZW5ldyB5b3VyIHNlc3Npb24/JztcclxuICAgICAgJChcIiNteU1vZGFsXCIpLm1vZGFsKHtiYWNrZHJvcDpcInN0YXRpY1wifSk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAnbG9nb3V0Jyl7XHJcbi8vIGxvZ291dFxyXG4gICAgICBhcHAuaGlkZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgIGFwcC5tb2RhbEhlYWRlciA9ICfroZzqt7jslYTsm4MnO1xyXG4gICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoe2JhY2tkcm9wOlwic3RhdGljXCJ9KTtcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICBBdXRoLmxvZ291dCgpO1xyXG4gICAgICAgIGFwcC5pc0xvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgICAgaGlkZU1vZGFsKCdsb2dvdXQnKTtcbiAgICAgICAgJHN0YXRlLnJlbG9hZCgpO1xuICAgICAgfSwgMjAwMCk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAnbG9naW4nKXtcclxuLy8gTG9naW5cclxuICAgICAgJChcIiNsb2dpblwiKS5tb2RhbCh7YmFja2Ryb3A6XCJzdGF0aWNcIn0pO1xyXG4gICAgfSAgZWxzZSBpZihvcHRpb24gPT09J3VwbG9hZCcpe1xyXG4vLyBlbnJvbGxBcnRpc3RcclxuICAgICAgJChcIiN1cGxvYWRcIikubW9kYWwoe2JhY2tkcm9wOlwic3RhdGljXCJ9KTtcclxuICAgIH1cclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICBpZighYXBwLmNob2ljZU1hZGUpe1xyXG4gICAgICAgICAgaGlkZU1vZGFsKCdsb2dvdXQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIDQwMDApO1xyXG5cclxuICB9O1xyXG5cclxuICB2YXIgaGlkZU1vZGFsID0gZnVuY3Rpb24ob3B0aW9uKXtcclxuXHJcbiAgICBpZihvcHRpb24gPT09ICdleHBpcmVkJyl7XHJcbiAgICAgICQoXCIjbXlNb2RhbFwiKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgfSBlbHNlIGlmKG9wdGlvbiA9PT0gJ2xvZ291dCcpe1xyXG4gICAgICAkKFwiI215TW9kYWxcIikubW9kYWwoJ2hpZGUnKTtcclxuICAgIH0gZWxzZSBpZihvcHRpb24gPT09ICdsb2dpbicpe1xyXG4gICAgICAkKFwiI2xvZ2luXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9IGVsc2UgaWYob3B0aW9uID09PSAndXBsb2FkJyl7XHJcbiAgICAgICQoXCIjdXBsb2FkXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcblxyXG4vLyDroZzqt7jsnbhcclxuICB0aGlzLmRvTG9naW4gPSBmdW5jdGlvbihsb2dpbkRhdGEsIHZhbGlkKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmV4cGlyZWQgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgaWYodmFsaWQpe1xyXG4gICAgICBBdXRoLmxvZ2luKGFwcC5sb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAgICAgICAgIGFwcC5sb2dpbkRhdGEgPSBudWxsO1xyXG4gICAgICAgICAgICBhcHAuaXNMb2dnZWRJbiA9IHRydWU7XHJcbiAgICAgICAgICAgIGNoZWNrU2Vzc2lvbigpO1xyXG4gICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICB9LDIwMDApO1xyXG4gICAgICAgIH1lbHNlIHtcclxuICAgICAgICAgIGlmKGRhdGEuZGF0YS5leHBpcmVkKXtcclxuICAgICAgICAgICAgYXBwLmV4cGlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7IC8vIElmIGVycm9yIG9jY3VycywgcmVtb3ZlIGRpc2FibGUgbG9jayBmcm9tIGZvcm1cclxuICAgICAgYXBwLmxvYWRpbmcgPSBmYWxzZTsgLy8gU3RvcCBib290c3RyYXAgbG9hZGluZyBpY29uXHJcbiAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBEaXNwbGF5IGVycm9yIGlmIHZhbGlkIHJldHVybnMgZmFsc2VcclxuICAgIH1cclxuXHJcbiAgfTtcclxuXHJcblxyXG5cclxuLy8g7IKs7Jqp7J6Q7J2YIOq2jO2VnCDsl6zrtoAg7ZmV7J24XHJcbiAgdGhpcy51cGxvYWQgPSBmdW5jdGlvbigpe1xyXG4gIGFwcC5jaG9pY2VNYWRlID0gdHJ1ZTtcclxuICAgIGlmKGFwcC51c2VyLnBlcm1pc3Npb24gPT09ICdhcnRpc3QnKXtcclxuICAgICAgJHN0YXRlLmdvKCdhcHAuYXJ0aXN0UHJvZmlsZXMnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIFVzZXIuY2hlY2tQZXJtaXNzaW9uKGFwcC51c2VyLnVzZXJuYW1lKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgICRzdGF0ZS5nbygnYXBwLmFydGlzdFByb2ZpbGVzJyk7XHJcbiAgICAgICAgICAgYXBwLnBlcm1pc3Npb24gPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzaG93TW9kYWwoJ3VwbG9hZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gIH07XHJcblxyXG4gIC8vIOyCrOyaqeyekOyXkOqyjCDqtoztlZwg67aA7JesXHJcbiAgICB0aGlzLmRvUGVybWlzc2lvbiA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgIGFwcC5jaG9pY2VNYWRlID0gdHJ1ZTtcclxuICAgICAgYXBwLnVwbG9hZERpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgYXBwLnVwbG9hZGVycm9yTXNnID0gZmFsc2U7XHJcbiAgICAgIFVzZXIucmVzZXRQZXJtaXNzaW9uKGFwcC51c2VyKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICAgIGFwcC51cGxvYWREaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICBhcHAudXBsb2FkU3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaGlkZU1vZGFsKCd1cGxvYWQnKTtcclxuICAgICAgICAgICAgJHN0YXRlLmdvKCdhcHAuYXJ0aXN0UHJvZmlsZXMnKTtcclxuICAgICAgICAgIH0sMjAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC51cGxvYWREaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLnVwbG9hZGVycm9yTXNnID0gJ+yemOuqu+uQnCDsoJXrs7TqsIAg7J6F66Cl65CY7JeI7Iq164uI64ukLic7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG5cclxuICBhcHAubG9naW4gPSBmdW5jdGlvbigpe1xyXG4gICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICBzaG93TW9kYWwoJ2xvZ2luJyk7XHJcbiAgfTtcclxuXHJcbiAgYXBwLmxvZ291dCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBzaG93TW9kYWwoJ2xvZ291dCcpO1xyXG4gIH07XHJcblxyXG4gIGFwcC5yZXNlbmQgPSBmdW5jdGlvbigpe1xyXG4gICAgaGlkZU1vZGFsKCdsb2dpbicpO1xyXG4gICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgJHN0YXRlLmdvKCdyZXNlbmQnKTtcclxuICAgICAgYXBwLmV4cGlyZWQgPSBmYWxzZTtcclxuICAgIH0sNTAwKTtcclxuICB9O1xyXG5cclxuICBhcHAucmVzZXR1c2VybmFtZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAkc3RhdGUuZ28oJ3Jlc2V0dXNlcm5hbWUnKTtcclxuICAgIH0sNTAwKTtcclxuICB9O1xyXG5cclxuICBhcHAucmVzZXRwYXNzd29yZCA9IGZ1bmN0aW9uKCl7XHJcbiAgICBoaWRlTW9kYWwoJ2xvZ2luJyk7XHJcbiAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAkc3RhdGUuZ28oJ3Jlc2V0cGFzc3dvcmQnKTtcclxuICAgIH0sNTAwKTtcclxuXHJcbiAgfTtcclxuXHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcclxuLmNvbnRyb2xsZXIoJ21haW5NZW51Q29udHJvbGxlcicsIGZ1bmN0aW9uICgkaHR0cCwgJHNjb3BlKSB7XHJcbiAgJGh0dHAuZ2V0KCcvYXBpL2hlYWRlcicpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe1xyXG4gICAgJHNjb3BlLmhlYWRlcnMgPSByZXNwb25zZS5kYXRhO1xyXG4gIH0pO1xyXG59KTtcclxuIiwiYW5ndWxhci5tb2R1bGUoJ2VtYWlsQ29udHJvbGxlcnMnLFsndXNlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdlbWFpbEN0cmwnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIHZhciBhcHAgPSB0aGlzO1xyXG4gIFVzZXIuYWN0aXZlQWNjb3VudCgkc3RhdGVQYXJhbXMudG9rZW4pLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICBhcHAuc3VjY2Vzc01zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICB9LDIwMDApO1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAkdGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICRzdGF0ZS5nbygnYXBwJyk7XHJcbiAgICAgIH0sMjAwMCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigncmVzZW5kQ3RybCcsIGZ1bmN0aW9uKFVzZXIsICR0aW1lb3V0LCAkc3RhdGUpe1xyXG4gIGFwcCA9IHRoaXM7XHJcbiAgdGhpcy5jaGVja0NyZWRlbnRpYWxzID0gZnVuY3Rpb24obG9naW5EYXRhKXtcclxuICAgIGFwcC5zdWNjZXNzTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgVXNlci5jaGVja0NyZWRlbnRpYWxzKHRoaXMubG9naW5EYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgVXNlci5yZXNlbmRMaW5rKGFwcC5sb2dpbkRhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICBpZihkYXRhLmRhdGEuc3VjY2Vzcyl7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2OmOydtOyngOuhnCDsnbTrj5ntlanri4jri6QuJztcclxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICB9LDIwMDApO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9ZWxzZSB7XHJcbiAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbn0pXHJcblxyXG4uY29udHJvbGxlcigndXNlcm5hbWVDdHJsJywgZnVuY3Rpb24oVXNlciwgJHRpbWVvdXQsICRzdGF0ZSl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcbiAgdGhpcy5zZW5kVXNlcm5hbWUgPSBmdW5jdGlvbih1c2VyRGF0YSwgdmFsaWQpe1xyXG4gICAgYXBwLmVycm9yTXNnID0gZmFsc2U7XHJcbiAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgaWYodmFsaWQpe1xyXG4gICAgICBVc2VyLnNlbmRVc2VybmFtZShhcHAudXNlckRhdGEuZW1haWwpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOydtOuplOydvCDso7zshozqsIAg7JWE64uZ64uI64ukLic7XHJcbiAgICB9XHJcbiAgfTtcclxufSlcclxuXHJcbi5jb250cm9sbGVyKCdwYXNzd29yZEN0cmwnLCBmdW5jdGlvbihVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuICBhcHAuc2VuZFBhc3N3b3JkID0gZnVuY3Rpb24ocmVzZXREYXRhLCB2YWxpZCl7XHJcbiAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBpZih2YWxpZCl7XHJcbiAgICAgIFVzZXIuc2VuZFBhc3N3b3JkKGFwcC5yZXNldERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZSArICcuLi7rqZTsnbgg7Y6Y7J207KeA66GcIOydtOuPme2VqeuLiOuLpC4nO1xyXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSAn7Jis67CU66W4IOyVhOydtOuUlOqwgCDslYTri5nri4jri6QuJztcclxuICAgIH1cclxuICB9O1xyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Jlc2V0Q3RybCcsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgJHNjb3BlLCBVc2VyLCAkdGltZW91dCwgJHN0YXRlKXtcclxuICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgICBhcHAuaGlkZSA9IHRydWU7IC8vIEhpZGUgZm9ybSB1bnRpbCB0b2tlbiBjYW4gYmUgdmVyaWZpZWQgdG8gYmUgdmFsaWRcclxuXHJcbiAgICAvLyBGdW5jdGlvbiB0byBjaGVjayBpZiB0b2tlbiBpcyB2YWxpZCBhbmQgZ2V0IHRoZSB1c2VyJ3MgaW5mbyBmcm9tIGRhdGFiYXNlIChydW5zIG9uIHBhZ2UgbG9hZClcclxuICAgIFVzZXIucmVzZXRQYXNzd29yZCgkc3RhdGVQYXJhbXMudG9rZW4pLnRoZW4oZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHVzZXIgd2FzIHJldHJpZXZlZFxyXG4gICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICBhcHAuaGlkZSA9IGZhbHNlOyAvLyBTaG93IGZvcm1cclxuICAgICAgICAgICAgJHNjb3BlLmFsZXJ0ID0gJ2FsZXJ0IGFsZXJ0LXN1Y2Nlc3MnOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gJ+yDiOuhnOyatCDruYTrsIDrsojtmLjrpbwg7J6F66Cl7ZW07KO87IS47JqULic7IC8vIExldCB1c2VyIGtub3cgdGhleSBjYW4gZW50ZXIgbmV3IHBhc3N3b3JkXHJcbiAgICAgICAgICAgICRzY29wZS51c2VybmFtZSA9IGRhdGEuZGF0YS51c2VyWzBdLnVzZXJuYW1lOyAvLyBTYXZlIHVzZXJuYW1lIGluIHNjb3BlIGZvciB1c2UgaW4gc2F2ZVBhc3N3b3JkKCkgZnVuY3Rpb25cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtZGFuZ2VyJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTsgLy8gR3JhYiBlcnJvciBtZXNzYWdlIGZyb20gSlNPTiBvYmplY3RcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBGdW5jdGlvbiB0byBzYXZlIHVzZXIncyBuZXcgcGFzc3dvcmQgdG8gZGF0YWJhc2VcclxuICAgIGFwcC5zYXZlUGFzc3dvcmQgPSBmdW5jdGlvbihyZWdEYXRhLCB2YWxpZCwgY29uZmlybWVkKSB7XHJcbiAgICAgICAgYXBwLmVycm9yTXNnID0gZmFsc2U7IC8vIENsZWFyIGVycm9yTXNnIHdoZW4gdXNlciBzdWJtaXRzXHJcbiAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBmYWxzZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlOyAvLyBEaXNhYmxlIGZvcm0gd2hpbGUgcHJvY2Vzc2luZ1xyXG4gICAgICAgIGFwcC5sb2FkaW5nID0gdHJ1ZTsgLy8gRW5hYmxlIGxvYWRpbmcgaWNvblxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiBmb3JtIGlzIHZhbGlkIGFuZCBwYXNzd29yZHMgbWF0Y2hcclxuICAgICAgICBpZiAodmFsaWQgJiYgY29uZmlybWVkKSB7XHJcbiAgICAgICAgICAgIGFwcC5yZWdEYXRhLnVzZXJuYW1lID0gJHNjb3BlLnVzZXJuYW1lOyAvLyBHcmFiIHVzZXJuYW1lIGZyb20gJHNjb3BlXHJcblxyXG4gICAgICAgICAgICAvLyBSdW4gZnVuY3Rpb24gdG8gc2F2ZSB1c2VyJ3MgbmV3IHBhc3N3b3JkIHRvIGRhdGFiYXNlXHJcbiAgICAgICAgICAgIFVzZXIuc2F2ZVBhc3N3b3JkKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgbG9hZGluZyBpY29uXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBwYXNzd29yZCB3YXMgc2F2ZWQgdG8gZGF0YWJhc2VcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEuc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1zdWNjZXNzJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5zdWNjZXNzTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2UgKyAnLi4u66mU7J24IO2ZlOuptOycvOuhnCDsnbTrj5ntlanri4jri6QuJzsgLy8gR3JhYiBzdWNjZXNzIG1lc3NhZ2UgZnJvbSBKU09OIG9iamVjdCBhbmQgcmVkaXJlY3RcclxuICAgICAgICAgICAgICAgICAgICAvLyBSZWRpcmVjdCB0byBsb2dpbiBwYWdlIGFmdGVyIDIwMDAgbWlsbGlzZWNvbmRzICgyIHNlY29uZHMpXHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxlcnQgPSAnYWxlcnQgYWxlcnQtZGFuZ2VyJzsgLy8gU2V0IHN1Y2Nlc3MgbWVzc2FnZSBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBFbmFibGUgZm9ybSB0byBhbGxvdyB1c2VyIHRvIHJlc3VibWl0XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7IC8vIEdyYWIgZXJyb3IgbWVzc2FnZSBmcm9tIEpTT04gb2JqZWN0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS5hbGVydCA9ICdhbGVydCBhbGVydC1kYW5nZXInOyAvLyBTZXQgc3VjY2VzcyBtZXNzYWdlIGNsYXNzXHJcbiAgICAgICAgICAgIGFwcC5sb2FkaW5nID0gZmFsc2U7IC8vIFN0b3AgbG9hZGluZyBpY29uXHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBFbmFibGUgZm9ybSB0byBhbGxvdyB1c2VyIHRvIHJlc3VibWl0XHJcbiAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBMZXQgdXNlciBrbm93IGZvcm0gaXMgbm90IHZhbGlkXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKCd1c2VyQ29udHJvbGxlcnMnLFsndXNlclNlcnZpY2VzJ10pXHJcbi5jb250cm9sbGVyKCdyZWdDdHJsJywgZnVuY3Rpb24gKCAkaHR0cCwgJGxvY2F0aW9uLCAkdGltZW91dCwgVXNlciwgQXV0aCwgJHN0YXRlKSB7XHJcbiAgICB2YXIgYXBwID0gdGhpcztcclxuXHJcbiAgICAgIHRoaXMucmVnU3RlcDEgPSBmdW5jdGlvbihyZWdEYXRhKXtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgICBpZighcmVnRGF0YSl7XHJcbiAgICAgICAgICBhcHAuZXJyb3JNc2cgPSAn7JW96rSA7JeQIOuPmeydmO2VtOyVvOunjCDtmozsm5DqsIDsnoXsnYQg7KeE7ZaJ7ZWgIOyImCDsnojsirXri4jri6QuJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYoKHJlZ0RhdGEudGVybXMpICYmIChyZWdEYXRhLnByaXZhY3kpKSB7XHJcbiAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9ICfslb3qtIDsl5Ag7ISx6rO17KCB7Jy866GcIOuPmeydmO2VmOyFqOyKteuLiOuLpC4nO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygncmVnaXN0ZXJTdGVwMicpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfslb3qtIDsl5Ag64+Z7J2Y7ZW07JW866eMIO2ajOybkOqwgOyeheydhCDsp4TtlontlaAg7IiYIOyeiOyKteuLiOuLpC4nO1xyXG4gICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfTtcclxuXHJcbiAgICAvLyDtmozsm5DqsIDsnoVcclxuICAgICAgdGhpcy5yZWdTdGVwMiA9IGZ1bmN0aW9uKHJlZ0RhdGEsIHZhbGlkLCBjb25maXJtZWQpe1xyXG4gICAgICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmKHZhbGlkICYmIGNvbmZpcm1lZCl7XHJcbiAgICAgICAgICBVc2VyLmNyZWF0ZShhcHAucmVnRGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgICBBdXRoLmxvZ2luKGFwcC5yZWdEYXRhKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5kYXRhLnN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICBhcHAuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2FwcCcpO1xyXG4gICAgICAgICAgICAgICAgICB9LDEwMDApO1xyXG4gICAgICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBpZihkYXRhLmRhdGEuZXhwaXJlZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmV4cGlyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBJZiBlcnJvciBvY2N1cnMsIHJlbW92ZSBkaXNhYmxlIGxvY2sgZnJvbSBmb3JtXHJcbiAgICAgICAgICAgICBhcHAubG9hZGluZyA9IGZhbHNlOyAvLyBTdG9wIGJvb3RzdHJhcCBsb2FkaW5nIGljb25cclxuICAgICAgICAgICAgIGFwcC5lcnJvck1zZyA9ICfsmKzrsJTrpbgg7KCV67O066W8IOyeheugpe2VtOyjvOyEuOyalC4nOyAvLyBEaXNwbGF5IGVycm9yIGlmIHZhbGlkIHJldHVybnMgZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG59KVxyXG5cclxuLmNvbnRyb2xsZXIoJ3Byb2ZpbGVDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyLCAkdGltZW91dCwgJHN0YXRlLCAkaHR0cCl7XHJcbiAgdmFyIGFwcCA9IHRoaXM7XHJcblxyXG4vLyDquLDrs7gg7IKs7Jqp7J6QIOygleuztCDqsIDsoLjsmKTripQg7ZWo7IiYXHJcbiAgdmFyIHVzZXJuYW1lID0gJHNjb3BlLm1haW4udXNlci51c2VybmFtZTtcclxuICBVc2VyLnJlYWRQcm9maWxlcyh1c2VybmFtZSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgYXBwLnJlYWREYXRhID0gZGF0YS5kYXRhLnByb2ZpbGVzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXBwLmVycm9yTXNnID0gZGF0YS5kYXRhLm1lc3NhZ2U7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG5cclxuLy8g7Jyg7KCAIO2UhOuhnO2VhCDsgqzsp4Qg67OA6rK9IO2VqOyImFxyXG4gICAgdGhpcy5maWxlID0ge307XHJcbiAgICB0aGlzLnBob3RvQ2hhbmdlZCA9IGZ1bmN0aW9uKGZpbGVzKSB7XHJcbiAgICAgICAgICBpZiAoZmlsZXMubGVuZ3RoID4gMCAmJiBmaWxlc1swXS5uYW1lLm1hdGNoKC9cXC4ocG5nfGpwZWd8anBnKSQvKSkge1xyXG4gICAgICAgICAgICAgIHZhciBmaWxlID0gZmlsZXNbMF07XHJcbiAgICAgICAgICAgICAgdmFyIGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcclxuICAgICAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAudGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAudGh1bWJuYWlsLmRhdGFVcmwgPSBlLnRhcmdldC5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAudXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICBhcHAubWVzc2FnZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBhcHAudGh1bWJuYWlsID0ge307XHJcbiAgICAgICAgICAgICAgYXBwLm1lc3NhZ2UgPSBmYWxzZTtcclxuICAgICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbi8vIO2UhOuhnO2VhCDsnbTrr7jsp4Drpbwg7JeF642w7J207Yq47ZWY64qUIO2VqOyImFxyXG4gICAgdGhpcy51cGRhdGVQcm9maWxlSW1hZ2UgPSBmdW5jdGlvbigpe1xyXG4gICAgICBhcHAuZXJyb3JNc2cgPSBmYWxzZTtcclxuICAgICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgJHNjb3BlLiRlbWl0KCdMT0FEJyk7XHJcbiAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICB2YXIgdXNlcl9pZCA9ICRzY29wZS5tYWluLnVzZXIudXNlcl9pZDtcclxuICAgICAgZmQuYXBwZW5kKCdteWZpbGUnLCBhcHAuZmlsZS51cGxvYWQpO1xyXG4gICAgICAgICRodHRwLnB1dCgnL2FwaS91cGxvYWRUZW1wLycrdXNlcl9pZCwgIGZkLCB7XHJcbiAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogYW5ndWxhci5pZGVudGl0eSxcclxuICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZH1cclxuICAgICAgfSkudGhlbihmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhLnN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgJHNjb3BlLiRlbWl0KCdVTkxPQUQnKTtcclxuICAgICAgICAgICAgYXBwLnN1Y2Nlc3NNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRzY29wZS4kZW1pdCgnVU5MT0FEJyk7XHJcbiAgICAgICAgICAgIGFwcC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICAgICAgYXBwLmZpbGUgPSB7fTtcclxuICAgICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfTtcclxuXHJcbi8vIO2UhOuhnO2VhCDsoJXrs7Qg67OA6rK9XHJcbiAgdGhpcy51cGRhdGVQcm9maWxlID0gZnVuY3Rpb24oKXtcclxuICAgIGFwcC5lcnJvck1zZyA9IGZhbHNlO1xyXG4gICAgYXBwLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIGFwcC5yZWFkRGF0YS51c2VyX2lkID0gJHNjb3BlLm1haW4udXNlci51c2VyX2lkO1xyXG4gICAgVXNlci51cGRhdGVQcm9maWxlcyhhcHAucmVhZERhdGEpLnRoZW4oZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgIGlmKGRhdGEuZGF0YS5zdWNjZXNzKXtcclxuICAgICAgICBhcHAuc3VjY2Vzc01zZyA9IGRhdGEuZGF0YS5tZXNzYWdlO1xyXG4gICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAkc3RhdGUucmVsb2FkKCk7XHJcbiAgICAgICAgfSwyMDAwKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHAuZXJyb3JNc2cgPSBkYXRhLmRhdGEubWVzc2FnZTtcclxuICAgICAgICBhcHAuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbn0pO1xyXG4iXX0=
